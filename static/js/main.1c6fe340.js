/*! For license information please see main.1c6fe340.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var r=n(853),a=n(43),l=n(950);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function s(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(s(e)!==e)throw Error(i(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var f=Object.assign,h=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),y=Symbol.for("react.consumer"),k=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),C=Symbol.for("react.lazy");Symbol.for("react.scope");var _=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var j=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var E=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=E&&e[E]||e["@@iterator"])?e:null}var P=Symbol.for("react.client.reference");function T(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===P?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case v:return"Profiler";case b:return"StrictMode";case S:return"Suspense";case z:return"SuspenseList";case _:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case k:return(e.displayName||"Context")+".Provider";case y:return(e._context.displayName||"Context")+".Consumer";case w:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:T(e.type)||"Memo";case C:t=e._payload,e=e._init;try{return T(e(t))}catch(n){}}return null}var L=Array.isArray,A=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O={pending:!1,data:null,method:null,action:null},I=[],D=-1;function F(e){return{current:e}}function q(e){0>D||(e.current=I[D],I[D]=null,D--)}function B(e,t){D++,I[D]=e.current,e.current=t}var U=F(null),K=F(null),W=F(null),H=F(null);function V(e,t){switch(B(W,t),B(K,e),B(U,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ad(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=ld(t=ad(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}q(U),B(U,e)}function Q(){q(U),q(K),q(W)}function $(e){null!==e.memoizedState&&B(H,e);var t=U.current,n=ld(t,e.type);t!==n&&(B(K,e),B(U,n))}function G(e){K.current===e&&(q(U),q(K)),H.current===e&&(q(H),$d._currentValue=O)}var X=Object.prototype.hasOwnProperty,Y=r.unstable_scheduleCallback,Z=r.unstable_cancelCallback,J=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,ae=r.unstable_UserBlockingPriority,le=r.unstable_NormalPriority,ie=r.unstable_LowPriority,oe=r.unstable_IdlePriority,se=r.log,ce=r.unstable_setDisableYieldValue,ue=null,de=null;function fe(e){if("function"===typeof se&&ce(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(t){}}var he=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(pe(e)/me|0)|0},pe=Math.log,me=Math.LN2;var ge=256,be=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function xe(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var a=0,l=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var o=134217727&r;return 0!==o?0!==(r=o&~l)?a=ve(r):0!==(i&=o)?a=ve(i):n||0!==(n=o&~e)&&(a=ve(n)):0!==(o=r&~l)?a=ve(o):0!==i?a=ve(i):n||0!==(n=r&~e)&&(a=ve(n)),0===a?0:0!==t&&t!==a&&0===(t&l)&&((l=a&-a)>=(n=t&-t)||32===l&&0!==(4194048&n))?t:a}function ye(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function ke(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function we(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function Se(){var e=be;return 0===(62914560&(be<<=1))&&(be=4194304),e}function ze(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ne(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ce(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-he(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function _e(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-he(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}function je(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ee(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Me(){var e=R.p;return 0!==e?e:void 0===(e=window.event)?32:uf(e.type)}var Pe=Math.random().toString(36).slice(2),Te="__reactFiber$"+Pe,Le="__reactProps$"+Pe,Ae="__reactContainer$"+Pe,Re="__reactEvents$"+Pe,Oe="__reactListeners$"+Pe,Ie="__reactHandles$"+Pe,De="__reactResources$"+Pe,Fe="__reactMarker$"+Pe;function qe(e){delete e[Te],delete e[Le],delete e[Re],delete e[Oe],delete e[Ie]}function Be(e){var t=e[Te];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ae]||n[Te]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=xd(e);null!==e;){if(n=e[Te])return n;e=xd(e)}return t}n=(e=n).parentNode}return null}function Ue(e){if(e=e[Te]||e[Ae]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Ke(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(i(33))}function We(e){var t=e[De];return t||(t=e[De]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function He(e){e[Fe]=!0}var Ve=new Set,Qe={};function $e(e,t){Ge(e,t),Ge(e+"Capture",t)}function Ge(e,t){for(Qe[e]=t,e=0;e<t.length;e++)Ve.add(t[e])}var Xe,Ye,Ze=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Je={},et={};function tt(e,t,n){if(a=t,X.call(et,a)||!X.call(Je,a)&&(Ze.test(a)?et[a]=!0:(Je[a]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var a}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function at(e){if(void 0===Xe)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Xe=t&&t[1]||"",Ye=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Xe+e+Ye}var lt=!1;function it(e,t){if(!e||lt)return"";lt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(a){var r=a}Reflect.construct(e,[],n)}else{try{n.call()}catch(l){r=l}e.call(n.prototype)}}else{try{throw Error()}catch(i){r=i}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(o){if(o&&r&&"string"===typeof o.stack)return[o.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var l=r.DetermineComponentFrameRoot(),i=l[0],o=l[1];if(i&&o){var s=i.split("\n"),c=o.split("\n");for(a=r=0;r<s.length&&!s[r].includes("DetermineComponentFrameRoot");)r++;for(;a<c.length&&!c[a].includes("DetermineComponentFrameRoot");)a++;if(r===s.length||a===c.length)for(r=s.length-1,a=c.length-1;1<=r&&0<=a&&s[r]!==c[a];)a--;for(;1<=r&&0<=a;r--,a--)if(s[r]!==c[a]){if(1!==r||1!==a)do{if(r--,0>--a||s[r]!==c[a]){var u="\n"+s[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=a);break}}}finally{lt=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?at(n):""}function ot(e){switch(e.tag){case 26:case 27:case 5:return at(e.type);case 16:return at("Lazy");case 13:return at("Suspense");case 19:return at("SuspenseList");case 0:case 15:return it(e.type,!1);case 11:return it(e.type.render,!1);case 1:return it(e.type,!0);case 31:return at("Activity");default:return""}}function st(e){try{var t="";do{t+=ot(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,l.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ft(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ht(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function mt(e){return e.replace(pt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gt(e,t,n,r,a,l,i,o){e.name="",null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i?e.type=i:e.removeAttribute("type"),null!=t?"number"===i?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==i&&"reset"!==i||e.removeAttribute("value"),null!=t?vt(e,i,ct(t)):null!=n?vt(e,i,ct(n)):null!=r&&e.removeAttribute("value"),null==a&&null!=l&&(e.defaultChecked=!!l),null!=a&&(e.checked=a&&"function"!==typeof a&&"symbol"!==typeof a),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+ct(o):e.removeAttribute("name")}function bt(e,t,n,r,a,l,i,o){if(null!=l&&"function"!==typeof l&&"symbol"!==typeof l&&"boolean"!==typeof l&&(e.type=l),null!=t||null!=n){if(!("submit"!==l&&"reset"!==l||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:a)&&"symbol"!==typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.name=i)}function vt(e,t,n){"number"===t&&ht(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function xt(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function yt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function kt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(i(92));if(L(r)){if(1<r.length)throw Error(i(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function wt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||St.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Nt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(i(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&zt(e,a,r)}else for(var l in t)t.hasOwnProperty(l)&&zt(e,l,t[l])}function Ct(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _t=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Et(e){return jt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Mt=null;function Pt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Tt=null,Lt=null;function At(e){var t=Ue(e);if(t&&(e=t.stateNode)){var n=e[Le]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[Le]||null;if(!a)throw Error(i(90));gt(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ft(r)}break e;case"textarea":yt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&xt(e,!!n.multiple,t,!1)}}}var Rt=!1;function Ot(e,t,n){if(Rt)return e(t,n);Rt=!0;try{return e(t)}finally{if(Rt=!1,(null!==Tt||null!==Lt)&&(Bc(),Tt&&(t=Tt,e=Lt,Lt=Tt=null,At(t),e)))for(t=0;t<e.length;t++)At(e[t])}}function It(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Le]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Dt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ft=!1;if(Dt)try{var qt={};Object.defineProperty(qt,"passive",{get:function(){Ft=!0}}),window.addEventListener("test",qt,qt),window.removeEventListener("test",qt,qt)}catch(Af){Ft=!1}var Bt=null,Ut=null,Kt=null;function Wt(){if(Kt)return Kt;var e,t,n=Ut,r=n.length,a="value"in Bt?Bt.value:Bt.textContent,l=a.length;for(e=0;e<r&&n[e]===a[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===a[l-t];t++);return Kt=a.slice(e,1<t?1-t:void 0)}function Ht(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Vt(){return!0}function Qt(){return!1}function $t(e){function t(t,n,r,a,l){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=l,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?Vt:Qt,this.isPropagationStopped=Qt,this}return f(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Vt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Vt)},persist:function(){},isPersistent:Vt}),t}var Gt,Xt,Yt,Zt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jt=$t(Zt),en=f({},Zt,{view:0,detail:0}),tn=$t(en),nn=f({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yt&&(Yt&&"mousemove"===e.type?(Gt=e.screenX-Yt.screenX,Xt=e.screenY-Yt.screenY):Xt=Gt=0,Yt=e),Gt)},movementY:function(e){return"movementY"in e?e.movementY:Xt}}),rn=$t(nn),an=$t(f({},nn,{dataTransfer:0})),ln=$t(f({},en,{relatedTarget:0})),on=$t(f({},Zt,{animationName:0,elapsedTime:0,pseudoElement:0})),sn=$t(f({},Zt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=$t(f({},Zt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=fn[e])&&!!t[e]}function pn(){return hn}var mn=$t(f({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Ht(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pn,charCode:function(e){return"keypress"===e.type?Ht(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Ht(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=$t(f({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),bn=$t(f({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pn})),vn=$t(f({},Zt,{propertyName:0,elapsedTime:0,pseudoElement:0})),xn=$t(f({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),yn=$t(f({},Zt,{newState:0,oldState:0})),kn=[9,13,27,32],wn=Dt&&"CompositionEvent"in window,Sn=null;Dt&&"documentMode"in document&&(Sn=document.documentMode);var zn=Dt&&"TextEvent"in window&&!Sn,Nn=Dt&&(!wn||Sn&&8<Sn&&11>=Sn),Cn=String.fromCharCode(32),_n=!1;function jn(e,t){switch(e){case"keyup":return-1!==kn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function En(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Mn=!1;var Pn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Pn[e.type]:"textarea"===t}function Ln(e,t,n,r){Tt?Lt?Lt.push(r):Lt=[r]:Tt=r,0<(t=Wu(t,"onChange")).length&&(n=new Jt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var An=null,Rn=null;function On(e){Ou(e,0)}function In(e){if(ft(Ke(e)))return e}function Dn(e,t){if("change"===e)return t}var Fn=!1;if(Dt){var qn;if(Dt){var Bn="oninput"in document;if(!Bn){var Un=document.createElement("div");Un.setAttribute("oninput","return;"),Bn="function"===typeof Un.oninput}qn=Bn}else qn=!1;Fn=qn&&(!document.documentMode||9<document.documentMode)}function Kn(){An&&(An.detachEvent("onpropertychange",Wn),Rn=An=null)}function Wn(e){if("value"===e.propertyName&&In(Rn)){var t=[];Ln(t,Rn,e,Pt(e)),Ot(On,t)}}function Hn(e,t,n){"focusin"===e?(Kn(),Rn=n,(An=t).attachEvent("onpropertychange",Wn)):"focusout"===e&&Kn()}function Vn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return In(Rn)}function Qn(e,t){if("click"===e)return In(t)}function $n(e,t){if("input"===e||"change"===e)return In(t)}var Gn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Xn(e,t){if(Gn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!X.call(t,a)||!Gn(e[a],t[a]))return!1}return!0}function Yn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zn(e,t){var n,r=Yn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Yn(r)}}function Jn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Jn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=ht((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ht((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=Dt&&"documentMode"in document&&11>=document.documentMode,rr=null,ar=null,lr=null,ir=!1;function or(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ir||null==rr||rr!==ht(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},lr&&Xn(lr,r)||(lr=r,0<(r=Wu(ar,"onSelect")).length&&(t=new Jt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function sr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:sr("Animation","AnimationEnd"),animationiteration:sr("Animation","AnimationIteration"),animationstart:sr("Animation","AnimationStart"),transitionrun:sr("Transition","TransitionRun"),transitionstart:sr("Transition","TransitionStart"),transitioncancel:sr("Transition","TransitionCancel"),transitionend:sr("Transition","TransitionEnd")},ur={},dr={};function fr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return ur[e]=n[t];return e}Dt&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var hr=fr("animationend"),pr=fr("animationiteration"),mr=fr("animationstart"),gr=fr("transitionrun"),br=fr("transitionstart"),vr=fr("transitioncancel"),xr=fr("transitionend"),yr=new Map,kr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wr(e,t){yr.set(e,t),$e(t,[e])}kr.push("scrollEnd");var Sr=new WeakMap;function zr(e,t){if("object"===typeof e&&null!==e){var n=Sr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:st(t)},Sr.set(e,t),t)}return{value:e,source:t,stack:st(t)}}var Nr=[],Cr=0,_r=0;function jr(){for(var e=Cr,t=_r=Cr=0;t<e;){var n=Nr[t];Nr[t++]=null;var r=Nr[t];Nr[t++]=null;var a=Nr[t];Nr[t++]=null;var l=Nr[t];if(Nr[t++]=null,null!==r&&null!==a){var i=r.pending;null===i?a.next=a:(a.next=i.next,i.next=a),r.pending=a}0!==l&&Tr(n,a,l)}}function Er(e,t,n,r){Nr[Cr++]=e,Nr[Cr++]=t,Nr[Cr++]=n,Nr[Cr++]=r,_r|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Mr(e,t,n,r){return Er(e,t,n,r),Lr(e)}function Pr(e,t){return Er(e,null,null,t),Lr(e)}function Tr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var a=!1,l=e.return;null!==l;)l.childLanes|=n,null!==(r=l.alternate)&&(r.childLanes|=n),22===l.tag&&(null===(e=l.stateNode)||1&e._visibility||(a=!0)),e=l,l=l.return;return 3===e.tag?(l=e.stateNode,a&&null!==t&&(a=31-he(n),null===(r=(e=l.hiddenUpdates)[a])?e[a]=[t]:r.push(t),t.lane=536870912|n),l):null}function Lr(e){if(50<Tc)throw Tc=0,Lc=null,Error(i(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Ar={};function Rr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Or(e,t,n,r){return new Rr(e,t,n,r)}function Ir(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dr(e,t){var n=e.alternate;return null===n?((n=Or(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Fr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function qr(e,t,n,r,a,l){var o=0;if(r=e,"function"===typeof e)Ir(e)&&(o=1);else if("string"===typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,U.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case _:return(e=Or(31,n,t,a)).elementType=_,e.lanes=l,e;case g:return Br(n.children,a,l,t);case b:o=8,a|=24;break;case v:return(e=Or(12,n,t,2|a)).elementType=v,e.lanes=l,e;case S:return(e=Or(13,n,t,a)).elementType=S,e.lanes=l,e;case z:return(e=Or(19,n,t,a)).elementType=z,e.lanes=l,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:case k:o=10;break e;case y:o=9;break e;case w:o=11;break e;case N:o=14;break e;case C:o=16,r=null;break e}o=29,n=Error(i(130,null===e?"null":typeof e,"")),r=null}return(t=Or(o,n,t,a)).elementType=e,t.type=r,t.lanes=l,t}function Br(e,t,n,r){return(e=Or(7,e,r,t)).lanes=n,e}function Ur(e,t,n){return(e=Or(6,e,null,t)).lanes=n,e}function Kr(e,t,n){return(t=Or(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Wr=[],Hr=0,Vr=null,Qr=0,$r=[],Gr=0,Xr=null,Yr=1,Zr="";function Jr(e,t){Wr[Hr++]=Qr,Wr[Hr++]=Vr,Vr=e,Qr=t}function ea(e,t,n){$r[Gr++]=Yr,$r[Gr++]=Zr,$r[Gr++]=Xr,Xr=e;var r=Yr;e=Zr;var a=32-he(r)-1;r&=~(1<<a),n+=1;var l=32-he(t)+a;if(30<l){var i=a-a%5;l=(r&(1<<i)-1).toString(32),r>>=i,a-=i,Yr=1<<32-he(t)+a|n<<a|r,Zr=l+e}else Yr=1<<l|n<<a|r,Zr=e}function ta(e){null!==e.return&&(Jr(e,1),ea(e,1,0))}function na(e){for(;e===Vr;)Vr=Wr[--Hr],Wr[Hr]=null,Qr=Wr[--Hr],Wr[Hr]=null;for(;e===Xr;)Xr=$r[--Gr],$r[Gr]=null,Zr=$r[--Gr],$r[Gr]=null,Yr=$r[--Gr],$r[Gr]=null}var ra=null,aa=null,la=!1,ia=null,oa=!1,sa=Error(i(519));function ca(e){throw ma(zr(Error(i(418,"")),e)),sa}function ua(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Te]=e,t[Le]=r,n){case"dialog":Iu("cancel",t),Iu("close",t);break;case"iframe":case"object":case"embed":Iu("load",t);break;case"video":case"audio":for(n=0;n<Au.length;n++)Iu(Au[n],t);break;case"source":Iu("error",t);break;case"img":case"image":case"link":Iu("error",t),Iu("load",t);break;case"details":Iu("toggle",t);break;case"input":Iu("invalid",t),bt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":Iu("invalid",t);break;case"textarea":Iu("invalid",t),kt(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Xu(t.textContent,n)?(null!=r.popover&&(Iu("beforetoggle",t),Iu("toggle",t)),null!=r.onScroll&&Iu("scroll",t),null!=r.onScrollEnd&&Iu("scrollend",t),null!=r.onClick&&(t.onclick=Yu),t=!0):t=!1,t||ca(e)}function da(e){for(ra=e.return;ra;)switch(ra.tag){case 5:case 13:return void(oa=!1);case 27:case 3:return void(oa=!0);default:ra=ra.return}}function fa(e){if(e!==ra)return!1;if(!la)return da(e),la=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||id(e.type,e.memoizedProps)),t=!t),t&&aa&&ca(e),da(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){aa=bd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}aa=null}}else 27===n?(n=aa,hd(e.type)?(e=vd,vd=null,aa=e):aa=n):aa=ra?bd(e.stateNode.nextSibling):null;return!0}function ha(){aa=ra=null,la=!1}function pa(){var e=ia;return null!==e&&(null===xc?xc=e:xc.push.apply(xc,e),ia=null),e}function ma(e){null===ia?ia=[e]:ia.push(e)}var ga=F(null),ba=null,va=null;function xa(e,t,n){B(ga,t._currentValue),t._currentValue=n}function ya(e){e._currentValue=ga.current,q(ga)}function ka(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function wa(e,t,n,r){var a=e.child;for(null!==a&&(a.return=e);null!==a;){var l=a.dependencies;if(null!==l){var o=a.child;l=l.firstContext;e:for(;null!==l;){var s=l;l=a;for(var c=0;c<t.length;c++)if(s.context===t[c]){l.lanes|=n,null!==(s=l.alternate)&&(s.lanes|=n),ka(l.return,n,e),r||(o=null);break e}l=s.next}}else if(18===a.tag){if(null===(o=a.return))throw Error(i(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),ka(o,n,e),o=null}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===e){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}}function Sa(e,t,n,r){e=null;for(var a=t,l=!1;null!==a;){if(!l)if(0!==(524288&a.flags))l=!0;else if(0!==(262144&a.flags))break;if(10===a.tag){var o=a.alternate;if(null===o)throw Error(i(387));if(null!==(o=o.memoizedProps)){var s=a.type;Gn(a.pendingProps.value,o.value)||(null!==e?e.push(s):e=[s])}}else if(a===H.current){if(null===(o=a.alternate))throw Error(i(387));o.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==e?e.push($d):e=[$d])}a=a.return}null!==e&&wa(t,e,n,r),t.flags|=262144}function za(e){for(e=e.firstContext;null!==e;){if(!Gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Na(e){ba=e,va=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ca(e){return ja(ba,e)}function _a(e,t){return null===ba&&Na(e),ja(e,t)}function ja(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===va){if(null===e)throw Error(i(308));va=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else va=va.next=t;return n}var Ea="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ma=r.unstable_scheduleCallback,Pa=r.unstable_NormalPriority,Ta={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function La(){return{controller:new Ea,data:new Map,refCount:0}}function Aa(e){e.refCount--,0===e.refCount&&Ma(Pa,function(){e.controller.abort()})}var Ra=null,Oa=0,Ia=0,Da=null;function Fa(){if(0===--Oa&&null!==Ra){null!==Da&&(Da.status="fulfilled");var e=Ra;Ra=null,Ia=0,Da=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var qa=A.S;A.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Ra){var n=Ra=[];Oa=0,Ia=Eu(),Da={status:"pending",value:void 0,then:function(e){n.push(e)}}}Oa++,t.then(Fa,Fa)}(0,t),null!==qa&&qa(e,t)};var Ba=F(null);function Ua(){var e=Ba.current;return null!==e?e:rc.pooledCache}function Ka(e,t){B(Ba,null===t?Ba.current:t.pool)}function Wa(){var e=Ua();return null===e?null:{parent:Ta._currentValue,pool:e}}var Ha=Error(i(460)),Va=Error(i(474)),Qa=Error(i(542)),$a={then:function(){}};function Ga(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Xa(){}function Ya(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Xa,Xa),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw el(e=t.reason),e;default:if("string"===typeof t.status)t.then(Xa,Xa);else{if(null!==(e=rc)&&100<e.shellSuspendCounter)throw Error(i(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw el(e=t.reason),e}throw Za=t,Ha}}var Za=null;function Ja(){if(null===Za)throw Error(i(459));var e=Za;return Za=null,e}function el(e){if(e===Ha||e===Qa)throw Error(i(483))}var tl=!1;function nl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rl(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function al(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ll(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&nc)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,t=Lr(e),Tr(e,null,n),t}return Er(e,r,t,n),Lr(e)}function il(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,_e(e,n)}}function ol(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,l=null;if(null!==(n=n.firstBaseUpdate)){do{var i={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===l?a=l=i:l=l.next=i,n=n.next}while(null!==n);null===l?a=l=t:l=l.next=t}else a=l=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var sl=!1;function cl(){if(sl){if(null!==Da)throw Da}}function ul(e,t,n,r){sl=!1;var a=e.updateQueue;tl=!1;var l=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var s=o,c=s.next;s.next=null,null===i?l=c:i.next=c,i=s;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=s))}if(null!==l){var d=a.baseState;for(i=0,u=c=s=null,o=l;;){var h=-536870913&o.lane,p=h!==o.lane;if(p?(lc&h)===h:(r&h)===h){0!==h&&h===Ia&&(sl=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var m=e,g=o;h=t;var b=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(b,d,h);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=g.payload)?m.call(b,d,h):m)||void 0===h)break e;d=f({},d,h);break e;case 2:tl=!0}}null!==(h=o.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=a.callbacks)?a.callbacks=[h]:p.push(h))}else p={lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=p,s=d):u=u.next=p,i|=h;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(p=o).next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}null===u&&(s=d),a.baseState=s,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null===l&&(a.shared.lanes=0),hc|=i,e.lanes=i,e.memoizedState=d}}function dl(e,t){if("function"!==typeof e)throw Error(i(191,e));e.call(t)}function fl(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)dl(n[e],t)}var hl=F(null),pl=F(0);function ml(e,t){B(pl,e=dc),B(hl,t),dc=e|t.baseLanes}function gl(){B(pl,dc),B(hl,hl.current)}function bl(){dc=pl.current,q(hl),q(pl)}var vl=0,xl=null,yl=null,kl=null,wl=!1,Sl=!1,zl=!1,Nl=0,Cl=0,_l=null,jl=0;function El(){throw Error(i(321))}function Ml(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Gn(e[n],t[n]))return!1;return!0}function Pl(e,t,n,r,a,l){return vl=l,xl=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,A.H=null===e||null===e.memoizedState?Hi:Vi,zl=!1,l=n(r,a),zl=!1,Sl&&(l=Ll(t,n,r,a)),Tl(e),l}function Tl(e){A.H=Wi;var t=null!==yl&&null!==yl.next;if(vl=0,kl=yl=xl=null,wl=!1,Cl=0,_l=null,t)throw Error(i(300));null===e||_o||null!==(e=e.dependencies)&&za(e)&&(_o=!0)}function Ll(e,t,n,r){xl=e;var a=0;do{if(Sl&&(_l=null),Cl=0,Sl=!1,25<=a)throw Error(i(301));if(a+=1,kl=yl=null,null!=e.updateQueue){var l=e.updateQueue;l.lastEffect=null,l.events=null,l.stores=null,null!=l.memoCache&&(l.memoCache.index=0)}A.H=Qi,l=t(n,r)}while(Sl);return l}function Al(){var e=A.H,t=e.useState()[0];return t="function"===typeof t.then?ql(t):t,e=e.useState()[0],(null!==yl?yl.memoizedState:null)!==e&&(xl.flags|=1024),t}function Rl(){var e=0!==Nl;return Nl=0,e}function Ol(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Il(e){if(wl){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}wl=!1}vl=0,kl=yl=xl=null,Sl=!1,Cl=Nl=0,_l=null}function Dl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===kl?xl.memoizedState=kl=e:kl=kl.next=e,kl}function Fl(){if(null===yl){var e=xl.alternate;e=null!==e?e.memoizedState:null}else e=yl.next;var t=null===kl?xl.memoizedState:kl.next;if(null!==t)kl=t,yl=e;else{if(null===e){if(null===xl.alternate)throw Error(i(467));throw Error(i(310))}e={memoizedState:(yl=e).memoizedState,baseState:yl.baseState,baseQueue:yl.baseQueue,queue:yl.queue,next:null},null===kl?xl.memoizedState=kl=e:kl=kl.next=e}return kl}function ql(e){var t=Cl;return Cl+=1,null===_l&&(_l=[]),e=Ya(_l,e,t),t=xl,null===(null===kl?t.memoizedState:kl.next)&&(t=t.alternate,A.H=null===t||null===t.memoizedState?Hi:Vi),e}function Bl(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return ql(e);if(e.$$typeof===k)return Ca(e)}throw Error(i(438,String(e)))}function Ul(e){var t=null,n=xl.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=xl.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},xl.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=j;return t.index++,n}function Kl(e,t){return"function"===typeof t?t(e):t}function Wl(e){return Hl(Fl(),yl,e)}function Hl(e,t,n){var r=e.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=n;var a=e.baseQueue,l=r.pending;if(null!==l){if(null!==a){var o=a.next;a.next=l.next,l.next=o}t.baseQueue=a=l,r.pending=null}if(l=e.baseState,null===a)e.memoizedState=l;else{var s=o=null,c=null,u=t=a.next,d=!1;do{var f=-536870913&u.lane;if(f!==u.lane?(lc&f)===f:(vl&f)===f){var h=u.revertLane;if(0===h)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===Ia&&(d=!0);else{if((vl&h)===h){u=u.next,h===Ia&&(d=!0);continue}f={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(s=c=f,o=l):c=c.next=f,xl.lanes|=h,hc|=h}f=u.action,zl&&n(l,f),l=u.hasEagerState?u.eagerState:n(l,f)}else h={lane:f,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(s=c=h,o=l):c=c.next=h,xl.lanes|=f,hc|=f;u=u.next}while(null!==u&&u!==t);if(null===c?o=l:c.next=s,!Gn(l,e.memoizedState)&&(_o=!0,d&&null!==(n=Da)))throw n;e.memoizedState=l,e.baseState=o,e.baseQueue=c,r.lastRenderedState=l}return null===a&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Vl(e){var t=Fl(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,l=t.memoizedState;if(null!==a){n.pending=null;var o=a=a.next;do{l=e(l,o.action),o=o.next}while(o!==a);Gn(l,t.memoizedState)||(_o=!0),t.memoizedState=l,null===t.baseQueue&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function Ql(e,t,n){var r=xl,a=Fl(),l=la;if(l){if(void 0===n)throw Error(i(407));n=n()}else n=t();var o=!Gn((yl||a).memoizedState,n);if(o&&(a.memoizedState=n,_o=!0),a=a.queue,gi(2048,8,Xl.bind(null,r,a,e),[e]),a.getSnapshot!==t||o||null!==kl&&1&kl.memoizedState.tag){if(r.flags|=2048,hi(9,{destroy:void 0,resource:void 0},Gl.bind(null,r,a,n,t),null),null===rc)throw Error(i(349));l||0!==(124&vl)||$l(r,t,n)}return n}function $l(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=xl.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},xl.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Gl(e,t,n,r){t.value=n,t.getSnapshot=r,Yl(t)&&Zl(e)}function Xl(e,t,n){return n(function(){Yl(t)&&Zl(e)})}function Yl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Gn(e,n)}catch(r){return!0}}function Zl(e){var t=Pr(e,2);null!==t&&Oc(t,e,2)}function Jl(e){var t=Dl();if("function"===typeof e){var n=e;if(e=n(),zl){fe(!0);try{n()}finally{fe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kl,lastRenderedState:e},t}function ei(e,t,n,r){return e.baseState=n,Hl(e,yl,"function"===typeof r?r:Kl)}function ti(e,t,n,r,a){if(Bi(e))throw Error(i(485));if(null!==(e=t.action)){var l={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){l.listeners.push(e)}};null!==A.T?n(!0):l.isTransition=!1,r(l),null===(n=t.pending)?(l.next=t.pending=l,ni(t,l)):(l.next=n.next,t.pending=n.next=l)}}function ni(e,t){var n=t.action,r=t.payload,a=e.state;if(t.isTransition){var l=A.T,i={};A.T=i;try{var o=n(a,r),s=A.S;null!==s&&s(i,o),ri(e,t,o)}catch(c){li(e,t,c)}finally{A.T=l}}else try{ri(e,t,l=n(a,r))}catch(u){li(e,t,u)}}function ri(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){ai(e,t,n)},function(n){return li(e,t,n)}):ai(e,t,n)}function ai(e,t,n){t.status="fulfilled",t.value=n,ii(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,ni(e,n)))}function li(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,ii(t),t=t.next}while(t!==r)}e.action=null}function ii(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function oi(e,t){return t}function si(e,t){if(la){var n=rc.formState;if(null!==n){e:{var r=xl;if(la){if(aa){t:{for(var a=aa,l=oa;8!==a.nodeType;){if(!l){a=null;break t}if(null===(a=bd(a.nextSibling))){a=null;break t}}a="F!"===(l=a.data)||"F"===l?a:null}if(a){aa=bd(a.nextSibling),r="F!"===a.data;break e}}ca(r)}r=!1}r&&(t=n[0])}}return(n=Dl()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:t},n.queue=r,n=Di.bind(null,xl,r),r.dispatch=n,r=Jl(!1),l=qi.bind(null,xl,!1,r.queue),a={state:t,dispatch:null,action:e,pending:null},(r=Dl()).queue=a,n=ti.bind(null,xl,a,l,n),a.dispatch=n,r.memoizedState=e,[t,n,!1]}function ci(e){return ui(Fl(),yl,e)}function ui(e,t,n){if(t=Hl(e,t,oi)[0],e=Wl(Kl)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=ql(t)}catch(i){if(i===Ha)throw Qa;throw i}else r=t;var a=(t=Fl()).queue,l=a.dispatch;return n!==t.memoizedState&&(xl.flags|=2048,hi(9,{destroy:void 0,resource:void 0},di.bind(null,a,n),null)),[r,l,e]}function di(e,t){e.action=t}function fi(e){var t=Fl(),n=yl;if(null!==n)return ui(t,n,e);Fl(),t=t.memoizedState;var r=(n=Fl()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function hi(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=xl.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},xl.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function pi(){return Fl().memoizedState}function mi(e,t,n,r){var a=Dl();r=void 0===r?null:r,xl.flags|=e,a.memoizedState=hi(1|t,{destroy:void 0,resource:void 0},n,r)}function gi(e,t,n,r){var a=Fl();r=void 0===r?null:r;var l=a.memoizedState.inst;null!==yl&&null!==r&&Ml(r,yl.memoizedState.deps)?a.memoizedState=hi(t,l,n,r):(xl.flags|=e,a.memoizedState=hi(1|t,l,n,r))}function bi(e,t){mi(8390656,8,e,t)}function vi(e,t){gi(2048,8,e,t)}function xi(e,t){return gi(4,2,e,t)}function yi(e,t){return gi(4,4,e,t)}function ki(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function wi(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,gi(4,4,ki.bind(null,t,e),n)}function Si(){}function zi(e,t){var n=Fl();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Ml(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ni(e,t){var n=Fl();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Ml(t,r[1]))return r[0];if(r=e(),zl){fe(!0);try{e()}finally{fe(!1)}}return n.memoizedState=[r,t],r}function Ci(e,t,n){return void 0===n||0!==(1073741824&vl)?e.memoizedState=t:(e.memoizedState=n,e=Rc(),xl.lanes|=e,hc|=e,n)}function _i(e,t,n,r){return Gn(n,t)?n:null!==hl.current?(e=Ci(e,n,r),Gn(e,t)||(_o=!0),e):0===(42&vl)?(_o=!0,e.memoizedState=n):(e=Rc(),xl.lanes|=e,hc|=e,t)}function ji(e,t,n,r,a){var l=R.p;R.p=0!==l&&8>l?l:8;var i=A.T,o={};A.T=o,qi(e,!1,t,n);try{var s=a(),c=A.S;if(null!==c&&c(o,s),null!==s&&"object"===typeof s&&"function"===typeof s.then)Fi(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(s,r),Ac());else Fi(e,t,r,Ac())}catch(u){Fi(e,t,{then:function(){},status:"rejected",reason:u},Ac())}finally{R.p=l,A.T=i}}function Ei(){}function Mi(e,t,n,r){if(5!==e.tag)throw Error(i(476));var a=Pi(e).queue;ji(e,a,t,O,null===n?Ei:function(){return Ti(e),n(r)})}function Pi(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:O,baseState:O,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kl,lastRenderedState:O},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kl,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Ti(e){Fi(e,Pi(e).next.queue,{},Ac())}function Li(){return Ca($d)}function Ai(){return Fl().memoizedState}function Ri(){return Fl().memoizedState}function Oi(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Ac(),r=ll(t,e=al(n),n);return null!==r&&(Oc(r,t,n),il(r,t,n)),t={cache:La()},void(e.payload=t)}t=t.return}}function Ii(e,t,n){var r=Ac();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Bi(e)?Ui(t,n):null!==(n=Mr(e,t,n,r))&&(Oc(n,e,r),Ki(n,t,r))}function Di(e,t,n){Fi(e,t,n,Ac())}function Fi(e,t,n,r){var a={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Bi(e))Ui(t,a);else{var l=e.alternate;if(0===e.lanes&&(null===l||0===l.lanes)&&null!==(l=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=l(i,n);if(a.hasEagerState=!0,a.eagerState=o,Gn(o,i))return Er(e,t,a,0),null===rc&&jr(),!1}catch(s){}if(null!==(n=Mr(e,t,a,r)))return Oc(n,e,r),Ki(n,t,r),!0}return!1}function qi(e,t,n,r){if(r={lane:2,revertLane:Eu(),action:r,hasEagerState:!1,eagerState:null,next:null},Bi(e)){if(t)throw Error(i(479))}else null!==(t=Mr(e,n,r,2))&&Oc(t,e,2)}function Bi(e){var t=e.alternate;return e===xl||null!==t&&t===xl}function Ui(e,t){Sl=wl=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ki(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,_e(e,n)}}var Wi={readContext:Ca,use:Bl,useCallback:El,useContext:El,useEffect:El,useImperativeHandle:El,useLayoutEffect:El,useInsertionEffect:El,useMemo:El,useReducer:El,useRef:El,useState:El,useDebugValue:El,useDeferredValue:El,useTransition:El,useSyncExternalStore:El,useId:El,useHostTransitionStatus:El,useFormState:El,useActionState:El,useOptimistic:El,useMemoCache:El,useCacheRefresh:El},Hi={readContext:Ca,use:Bl,useCallback:function(e,t){return Dl().memoizedState=[e,void 0===t?null:t],e},useContext:Ca,useEffect:bi,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,mi(4194308,4,ki.bind(null,t,e),n)},useLayoutEffect:function(e,t){return mi(4194308,4,e,t)},useInsertionEffect:function(e,t){mi(4,2,e,t)},useMemo:function(e,t){var n=Dl();t=void 0===t?null:t;var r=e();if(zl){fe(!0);try{e()}finally{fe(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Dl();if(void 0!==n){var a=n(t);if(zl){fe(!0);try{n(t)}finally{fe(!1)}}}else a=t;return r.memoizedState=r.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},r.queue=e,e=e.dispatch=Ii.bind(null,xl,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Dl().memoizedState=e},useState:function(e){var t=(e=Jl(e)).queue,n=Di.bind(null,xl,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Si,useDeferredValue:function(e,t){return Ci(Dl(),e,t)},useTransition:function(){var e=Jl(!1);return e=ji.bind(null,xl,e.queue,!0,!1),Dl().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=xl,a=Dl();if(la){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===rc)throw Error(i(349));0!==(124&lc)||$l(r,t,n)}a.memoizedState=n;var l={value:n,getSnapshot:t};return a.queue=l,bi(Xl.bind(null,r,l,e),[e]),r.flags|=2048,hi(9,{destroy:void 0,resource:void 0},Gl.bind(null,r,l,n,t),null),n},useId:function(){var e=Dl(),t=rc.identifierPrefix;if(la){var n=Zr;t="\xab"+t+"R"+(n=(Yr&~(1<<32-he(Yr)-1)).toString(32)+n),0<(n=Nl++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=jl++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Li,useFormState:si,useActionState:si,useOptimistic:function(e){var t=Dl();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=qi.bind(null,xl,!0,n),n.dispatch=t,[e,t]},useMemoCache:Ul,useCacheRefresh:function(){return Dl().memoizedState=Oi.bind(null,xl)}},Vi={readContext:Ca,use:Bl,useCallback:zi,useContext:Ca,useEffect:vi,useImperativeHandle:wi,useInsertionEffect:xi,useLayoutEffect:yi,useMemo:Ni,useReducer:Wl,useRef:pi,useState:function(){return Wl(Kl)},useDebugValue:Si,useDeferredValue:function(e,t){return _i(Fl(),yl.memoizedState,e,t)},useTransition:function(){var e=Wl(Kl)[0],t=Fl().memoizedState;return["boolean"===typeof e?e:ql(e),t]},useSyncExternalStore:Ql,useId:Ai,useHostTransitionStatus:Li,useFormState:ci,useActionState:ci,useOptimistic:function(e,t){return ei(Fl(),0,e,t)},useMemoCache:Ul,useCacheRefresh:Ri},Qi={readContext:Ca,use:Bl,useCallback:zi,useContext:Ca,useEffect:vi,useImperativeHandle:wi,useInsertionEffect:xi,useLayoutEffect:yi,useMemo:Ni,useReducer:Vl,useRef:pi,useState:function(){return Vl(Kl)},useDebugValue:Si,useDeferredValue:function(e,t){var n=Fl();return null===yl?Ci(n,e,t):_i(n,yl.memoizedState,e,t)},useTransition:function(){var e=Vl(Kl)[0],t=Fl().memoizedState;return["boolean"===typeof e?e:ql(e),t]},useSyncExternalStore:Ql,useId:Ai,useHostTransitionStatus:Li,useFormState:fi,useActionState:fi,useOptimistic:function(e,t){var n=Fl();return null!==yl?ei(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Ul,useCacheRefresh:Ri},$i=null,Gi=0;function Xi(e){var t=Gi;return Gi+=1,null===$i&&($i=[]),Ya($i,e,t)}function Yi(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Zi(e,t){if(t.$$typeof===h)throw Error(i(525));throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ji(e){return(0,e._init)(e._payload)}function eo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(e,t){return(e=Dr(e,t)).index=0,e.sibling=null,e}function l(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Ur(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var l=n.type;return l===g?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===C&&Ji(l)===t.type)?(Yi(t=a(t,n.props),n),t.return=e,t):(Yi(t=qr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Kr(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,l){return null===t||7!==t.tag?((t=Br(n,e.mode,r,l)).return=e,t):((t=a(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Ur(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case p:return Yi(n=qr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=Kr(t,e.mode,n)).return=e,t;case C:return f(e,t=(0,t._init)(t._payload),n)}if(L(t)||M(t))return(t=Br(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return f(e,Xi(t),n);if(t.$$typeof===k)return f(e,_a(e,t),n);Zi(e,t)}return null}function h(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==a?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===a?c(e,t,n,r):null;case m:return n.key===a?u(e,t,n,r):null;case C:return h(e,t,n=(a=n._init)(n._payload),r)}if(L(n)||M(n))return null!==a?null:d(e,t,n,r,null);if("function"===typeof n.then)return h(e,t,Xi(n),r);if(n.$$typeof===k)return h(e,t,_a(e,n),r);Zi(e,n)}return null}function b(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return s(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case p:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case m:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case C:return b(e,t,n,r=(0,r._init)(r._payload),a)}if(L(r)||M(r))return d(t,e=e.get(n)||null,r,a,null);if("function"===typeof r.then)return b(e,t,n,Xi(r),a);if(r.$$typeof===k)return b(e,t,n,_a(t,r),a);Zi(t,r)}return null}function v(s,c,u,d){if("object"===typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case p:e:{for(var x=u.key;null!==c;){if(c.key===x){if((x=u.type)===g){if(7===c.tag){n(s,c.sibling),(d=a(c,u.props.children)).return=s,s=d;break e}}else if(c.elementType===x||"object"===typeof x&&null!==x&&x.$$typeof===C&&Ji(x)===c.type){n(s,c.sibling),Yi(d=a(c,u.props),u),d.return=s,s=d;break e}n(s,c);break}t(s,c),c=c.sibling}u.type===g?((d=Br(u.props.children,s.mode,d,u.key)).return=s,s=d):(Yi(d=qr(u.type,u.key,u.props,null,s.mode,d),u),d.return=s,s=d)}return o(s);case m:e:{for(x=u.key;null!==c;){if(c.key===x){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(s,c.sibling),(d=a(c,u.children||[])).return=s,s=d;break e}n(s,c);break}t(s,c),c=c.sibling}(d=Kr(u,s.mode,d)).return=s,s=d}return o(s);case C:return v(s,c,u=(x=u._init)(u._payload),d)}if(L(u))return function(a,i,o,s){for(var c=null,u=null,d=i,p=i=0,m=null;null!==d&&p<o.length;p++){d.index>p?(m=d,d=null):m=d.sibling;var g=h(a,d,o[p],s);if(null===g){null===d&&(d=m);break}e&&d&&null===g.alternate&&t(a,d),i=l(g,i,p),null===u?c=g:u.sibling=g,u=g,d=m}if(p===o.length)return n(a,d),la&&Jr(a,p),c;if(null===d){for(;p<o.length;p++)null!==(d=f(a,o[p],s))&&(i=l(d,i,p),null===u?c=d:u.sibling=d,u=d);return la&&Jr(a,p),c}for(d=r(d);p<o.length;p++)null!==(m=b(d,a,p,o[p],s))&&(e&&null!==m.alternate&&d.delete(null===m.key?p:m.key),i=l(m,i,p),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach(function(e){return t(a,e)}),la&&Jr(a,p),c}(s,c,u,d);if(M(u)){if("function"!==typeof(x=M(u)))throw Error(i(150));return function(a,o,s,c){if(null==s)throw Error(i(151));for(var u=null,d=null,p=o,m=o=0,g=null,v=s.next();null!==p&&!v.done;m++,v=s.next()){p.index>m?(g=p,p=null):g=p.sibling;var x=h(a,p,v.value,c);if(null===x){null===p&&(p=g);break}e&&p&&null===x.alternate&&t(a,p),o=l(x,o,m),null===d?u=x:d.sibling=x,d=x,p=g}if(v.done)return n(a,p),la&&Jr(a,m),u;if(null===p){for(;!v.done;m++,v=s.next())null!==(v=f(a,v.value,c))&&(o=l(v,o,m),null===d?u=v:d.sibling=v,d=v);return la&&Jr(a,m),u}for(p=r(p);!v.done;m++,v=s.next())null!==(v=b(p,a,m,v.value,c))&&(e&&null!==v.alternate&&p.delete(null===v.key?m:v.key),o=l(v,o,m),null===d?u=v:d.sibling=v,d=v);return e&&p.forEach(function(e){return t(a,e)}),la&&Jr(a,m),u}(s,c,u=x.call(u),d)}if("function"===typeof u.then)return v(s,c,Xi(u),d);if(u.$$typeof===k)return v(s,c,_a(s,u),d);Zi(s,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(s,c.sibling),(d=a(c,u)).return=s,s=d):(n(s,c),(d=Ur(u,s.mode,d)).return=s,s=d),o(s)):n(s,c)}return function(e,t,n,r){try{Gi=0;var a=v(e,t,n,r);return $i=null,a}catch(i){if(i===Ha||i===Qa)throw i;var l=Or(29,i,null,e.mode);return l.lanes=r,l.return=e,l}}}var to=eo(!0),no=eo(!1),ro=F(null),ao=null;function lo(e){var t=e.alternate;B(co,1&co.current),B(ro,e),null===ao&&(null===t||null!==hl.current||null!==t.memoizedState)&&(ao=e)}function io(e){if(22===e.tag){if(B(co,co.current),B(ro,e),null===ao){var t=e.alternate;null!==t&&null!==t.memoizedState&&(ao=e)}}else oo()}function oo(){B(co,co.current),B(ro,ro.current)}function so(e){q(ro),ao===e&&(ao=null),q(co)}var co=F(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||gd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function fo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:f({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ho={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ac(),a=al(r);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=ll(e,a,r))&&(Oc(t,e,r),il(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ac(),a=al(r);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=ll(e,a,r))&&(Oc(t,e,r),il(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ac(),r=al(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=ll(e,r,n))&&(Oc(t,e,n),il(t,e,n))}};function po(e,t,n,r,a,l,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,l,i):!t.prototype||!t.prototype.isPureReactComponent||(!Xn(n,r)||!Xn(a,l))}function mo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ho.enqueueReplaceState(t,t.state,null)}function go(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var a in n===t&&(n=f({},n)),e)void 0===n[a]&&(n[a]=e[a]);return n}var bo="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function vo(e){bo(e)}function xo(e){console.error(e)}function yo(e){bo(e)}function ko(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function wo(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function So(e,t,n){return(n=al(n)).tag=3,n.payload={element:null},n.callback=function(){ko(e,t)},n}function zo(e){return(e=al(e)).tag=3,e}function No(e,t,n,r){var a=n.type.getDerivedStateFromError;if("function"===typeof a){var l=r.value;e.payload=function(){return a(l)},e.callback=function(){wo(t,n,r)}}var i=n.stateNode;null!==i&&"function"===typeof i.componentDidCatch&&(e.callback=function(){wo(t,n,r),"function"!==typeof a&&(null===zc?zc=new Set([this]):zc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Co=Error(i(461)),_o=!1;function jo(e,t,n,r){t.child=null===e?no(t,null,n,r):to(t,e.child,n,r)}function Eo(e,t,n,r,a){n=n.render;var l=t.ref;if("ref"in r){var i={};for(var o in r)"ref"!==o&&(i[o]=r[o])}else i=r;return Na(t),r=Pl(e,t,n,i,l,a),o=Rl(),null===e||_o?(la&&o&&ta(t),t.flags|=1,jo(e,t,r,a),t.child):(Ol(e,t,a),Go(e,t,a))}function Mo(e,t,n,r,a){if(null===e){var l=n.type;return"function"!==typeof l||Ir(l)||void 0!==l.defaultProps||null!==n.compare?((e=qr(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=l,Po(e,t,l,r,a))}if(l=e.child,!Xo(e,a)){var i=l.memoizedProps;if((n=null!==(n=n.compare)?n:Xn)(i,r)&&e.ref===t.ref)return Go(e,t,a)}return t.flags|=1,(e=Dr(l,r)).ref=t.ref,e.return=t,t.child=e}function Po(e,t,n,r,a){if(null!==e){var l=e.memoizedProps;if(Xn(l,r)&&e.ref===t.ref){if(_o=!1,t.pendingProps=r=l,!Xo(e,a))return t.lanes=e.lanes,Go(e,t,a);0!==(131072&e.flags)&&(_o=!0)}}return Ro(e,t,n,r,a)}function To(e,t,n){var r=t.pendingProps,a=r.children,l=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==l?l.baseLanes|n:n,null!==e){for(a=t.child=e.child,l=0;null!==a;)l=l|a.lanes|a.childLanes,a=a.sibling;t.childLanes=l&~r}else t.childLanes=0,t.child=null;return Lo(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Lo(e,t,null!==l?l.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Ka(0,null!==l?l.cachePool:null),null!==l?ml(t,l):gl(),io(t)}else null!==l?(Ka(0,l.cachePool),ml(t,l),oo(),t.memoizedState=null):(null!==e&&Ka(0,null),gl(),oo());return jo(e,t,a,n),t.child}function Lo(e,t,n,r){var a=Ua();return a=null===a?null:{parent:Ta._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},null!==e&&Ka(0,null),gl(),io(t),null!==e&&Sa(e,t,r,!0),null}function Ao(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(i(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Ro(e,t,n,r,a){return Na(t),n=Pl(e,t,n,r,void 0,a),r=Rl(),null===e||_o?(la&&r&&ta(t),t.flags|=1,jo(e,t,n,a),t.child):(Ol(e,t,a),Go(e,t,a))}function Oo(e,t,n,r,a,l){return Na(t),t.updateQueue=null,n=Ll(t,r,n,a),Tl(e),r=Rl(),null===e||_o?(la&&r&&ta(t),t.flags|=1,jo(e,t,n,l),t.child):(Ol(e,t,l),Go(e,t,l))}function Io(e,t,n,r,a){if(Na(t),null===t.stateNode){var l=Ar,i=n.contextType;"object"===typeof i&&null!==i&&(l=Ca(i)),l=new n(r,l),t.memoizedState=null!==l.state&&void 0!==l.state?l.state:null,l.updater=ho,t.stateNode=l,l._reactInternals=t,(l=t.stateNode).props=r,l.state=t.memoizedState,l.refs={},nl(t),i=n.contextType,l.context="object"===typeof i&&null!==i?Ca(i):Ar,l.state=t.memoizedState,"function"===typeof(i=n.getDerivedStateFromProps)&&(fo(t,n,i,r),l.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof l.getSnapshotBeforeUpdate||"function"!==typeof l.UNSAFE_componentWillMount&&"function"!==typeof l.componentWillMount||(i=l.state,"function"===typeof l.componentWillMount&&l.componentWillMount(),"function"===typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount(),i!==l.state&&ho.enqueueReplaceState(l,l.state,null),ul(t,r,l,a),cl(),l.state=t.memoizedState),"function"===typeof l.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){l=t.stateNode;var o=t.memoizedProps,s=go(n,o);l.props=s;var c=l.context,u=n.contextType;i=Ar,"object"===typeof u&&null!==u&&(i=Ca(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof l.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(o||c!==i)&&mo(t,l,r,i),tl=!1;var f=t.memoizedState;l.state=f,ul(t,r,l,a),cl(),c=t.memoizedState,o||f!==c||tl?("function"===typeof d&&(fo(t,n,d,r),c=t.memoizedState),(s=tl||po(t,n,s,r,f,c,i))?(u||"function"!==typeof l.UNSAFE_componentWillMount&&"function"!==typeof l.componentWillMount||("function"===typeof l.componentWillMount&&l.componentWillMount(),"function"===typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount()),"function"===typeof l.componentDidMount&&(t.flags|=4194308)):("function"===typeof l.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),l.props=r,l.state=c,l.context=i,r=s):("function"===typeof l.componentDidMount&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,rl(e,t),u=go(n,i=t.memoizedProps),l.props=u,d=t.pendingProps,f=l.context,c=n.contextType,s=Ar,"object"===typeof c&&null!==c&&(s=Ca(c)),(c="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof l.getSnapshotBeforeUpdate)||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(i!==d||f!==s)&&mo(t,l,r,s),tl=!1,f=t.memoizedState,l.state=f,ul(t,r,l,a),cl();var h=t.memoizedState;i!==d||f!==h||tl||null!==e&&null!==e.dependencies&&za(e.dependencies)?("function"===typeof o&&(fo(t,n,o,r),h=t.memoizedState),(u=tl||po(t,n,u,r,f,h,s)||null!==e&&null!==e.dependencies&&za(e.dependencies))?(c||"function"!==typeof l.UNSAFE_componentWillUpdate&&"function"!==typeof l.componentWillUpdate||("function"===typeof l.componentWillUpdate&&l.componentWillUpdate(r,h,s),"function"===typeof l.UNSAFE_componentWillUpdate&&l.UNSAFE_componentWillUpdate(r,h,s)),"function"===typeof l.componentDidUpdate&&(t.flags|=4),"function"===typeof l.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof l.componentDidUpdate||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),l.props=r,l.state=h,l.context=s,r=u):("function"!==typeof l.componentDidUpdate||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return l=r,Ao(e,t),r=0!==(128&t.flags),l||r?(l=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:l.render(),t.flags|=1,null!==e&&r?(t.child=to(t,e.child,null,a),t.child=to(t,null,n,a)):jo(e,t,n,a),t.memoizedState=l.state,e=t.child):e=Go(e,t,a),e}function Do(e,t,n,r){return ha(),t.flags|=256,jo(e,t,n,r),t.child}var Fo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qo(e){return{baseLanes:e,cachePool:Wa()}}function Bo(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gc),e}function Uo(e,t,n){var r,a=t.pendingProps,l=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&co.current)),r&&(l=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(la){if(l?lo(t):oo(),la){var s,c=aa;if(s=c){e:{for(s=c,c=oa;8!==s.nodeType;){if(!c){c=null;break e}if(null===(s=bd(s.nextSibling))){c=null;break e}}c=s}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Xr?{id:Yr,overflow:Zr}:null,retryLane:536870912,hydrationErrors:null},(s=Or(18,null,null,0)).stateNode=c,s.return=t,t.child=s,ra=t,aa=null,s=!0):s=!1}s||ca(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return gd(c)?t.lanes=32:t.lanes=536870912,null;so(t)}return c=a.children,a=a.fallback,l?(oo(),c=Wo({mode:"hidden",children:c},l=t.mode),a=Br(a,l,n,null),c.return=t,a.return=t,c.sibling=a,t.child=c,(l=t.child).memoizedState=qo(n),l.childLanes=Bo(e,r,n),t.memoizedState=Fo,a):(lo(t),Ko(t,c))}if(null!==(s=e.memoizedState)&&null!==(c=s.dehydrated)){if(o)256&t.flags?(lo(t),t.flags&=-257,t=Ho(e,t,n)):null!==t.memoizedState?(oo(),t.child=e.child,t.flags|=128,t=null):(oo(),l=a.fallback,c=t.mode,a=Wo({mode:"visible",children:a.children},c),(l=Br(l,c,n,null)).flags|=2,a.return=t,l.return=t,a.sibling=l,t.child=a,to(t,e.child,null,n),(a=t.child).memoizedState=qo(n),a.childLanes=Bo(e,r,n),t.memoizedState=Fo,t=l);else if(lo(t),gd(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(a=Error(i(419))).stack="",a.digest=r,ma({value:a,source:null,stack:null}),t=Ho(e,t,n)}else if(_o||Sa(e,t,n,!1),r=0!==(n&e.childLanes),_o||r){if(null!==(r=rc)&&(0!==(a=0!==((a=0!==(42&(a=n&-n))?1:je(a))&(r.suspendedLanes|n))?0:a)&&a!==s.retryLane))throw s.retryLane=a,Pr(e,a),Oc(r,e,a),Co;"$?"===c.data||Qc(),t=Ho(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=s.treeContext,aa=bd(c.nextSibling),ra=t,la=!0,ia=null,oa=!1,null!==e&&($r[Gr++]=Yr,$r[Gr++]=Zr,$r[Gr++]=Xr,Yr=e.id,Zr=e.overflow,Xr=t),(t=Ko(t,a.children)).flags|=4096);return t}return l?(oo(),l=a.fallback,c=t.mode,u=(s=e.child).sibling,(a=Dr(s,{mode:"hidden",children:a.children})).subtreeFlags=65011712&s.subtreeFlags,null!==u?l=Dr(u,l):(l=Br(l,c,n,null)).flags|=2,l.return=t,a.return=t,a.sibling=l,t.child=a,a=l,l=t.child,null===(c=e.child.memoizedState)?c=qo(n):(null!==(s=c.cachePool)?(u=Ta._currentValue,s=s.parent!==u?{parent:u,pool:u}:s):s=Wa(),c={baseLanes:c.baseLanes|n,cachePool:s}),l.memoizedState=c,l.childLanes=Bo(e,r,n),t.memoizedState=Fo,a):(lo(t),e=(n=e.child).sibling,(n=Dr(n,{mode:"visible",children:a.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Ko(e,t){return(t=Wo({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Wo(e,t){return(e=Or(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ho(e,t,n){return to(t,e.child,null,n),(e=Ko(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ka(e.return,t,n)}function Qo(e,t,n,r,a){var l=e.memoizedState;null===l?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=a)}function $o(e,t,n){var r=t.pendingProps,a=r.revealOrder,l=r.tail;if(jo(e,t,r.children,n),0!==(2&(r=co.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vo(e,n,t);else if(19===e.tag)Vo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(B(co,r),a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Qo(t,!1,a,n,l);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===uo(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Qo(t,!0,n,null,l);break;case"together":Qo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Go(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),hc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Sa(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Dr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Xo(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!za(e))}function Yo(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)_o=!0;else{if(!Xo(e,n)&&0===(128&t.flags))return _o=!1,function(e,t,n){switch(t.tag){case 3:V(t,t.stateNode.containerInfo),xa(0,Ta,e.memoizedState.cache),ha();break;case 27:case 5:$(t);break;case 4:V(t,t.stateNode.containerInfo);break;case 10:xa(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(lo(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Uo(e,t,n):(lo(t),null!==(e=Go(e,t,n))?e.sibling:null);lo(t);break;case 19:var a=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Sa(e,t,n,!1),r=0!==(n&t.childLanes)),a){if(r)return $o(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),B(co,co.current),r)break;return null;case 22:case 23:return t.lanes=0,To(e,t,n);case 24:xa(0,Ta,e.memoizedState.cache)}return Go(e,t,n)}(e,t,n);_o=0!==(131072&e.flags)}else _o=!1,la&&0!==(1048576&t.flags)&&ea(t,Qr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,a=r._init;if(r=a(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((a=r.$$typeof)===w){t.tag=11,t=Eo(null,t,r,e,n);break e}if(a===N){t.tag=14,t=Mo(null,t,r,e,n);break e}}throw t=T(r)||r,Error(i(306,t,""))}Ir(r)?(e=go(r,e),t.tag=1,t=Io(null,t,r,e,n)):(t.tag=0,t=Ro(null,t,r,e,n))}return t;case 0:return Ro(e,t,t.type,t.pendingProps,n);case 1:return Io(e,t,r=t.type,a=go(r,t.pendingProps),n);case 3:e:{if(V(t,t.stateNode.containerInfo),null===e)throw Error(i(387));r=t.pendingProps;var l=t.memoizedState;a=l.element,rl(e,t),ul(t,r,null,n);var o=t.memoizedState;if(r=o.cache,xa(0,Ta,r),r!==l.cache&&wa(t,[Ta],n,!0),cl(),r=o.element,l.isDehydrated){if(l={element:r,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=l,t.memoizedState=l,256&t.flags){t=Do(e,t,r,n);break e}if(r!==a){ma(a=zr(Error(i(424)),t)),t=Do(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(aa=bd(e.firstChild),ra=t,la=!0,ia=null,oa=!0,n=no(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ha(),r===a){t=Go(e,t,n);break e}jo(e,t,r,n)}t=t.child}return t;case 26:return Ao(e,t),null===e?(n=jd(t.type,null,t.pendingProps,null))?t.memoizedState=n:la||(n=t.type,e=t.pendingProps,(r=rd(W.current).createElement(n))[Te]=t,r[Le]=e,ed(r,n,e),He(r),t.stateNode=r):t.memoizedState=jd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return $(t),null===e&&la&&(r=t.stateNode=yd(t.type,t.pendingProps,W.current),ra=t,oa=!0,a=aa,hd(t.type)?(vd=a,aa=bd(r.firstChild)):aa=a),jo(e,t,t.pendingProps.children,n),Ao(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&la&&((a=r=aa)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Fe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(l=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(l!==a.rel||e.getAttribute("href")!==(null==a.href||""===a.href?null:a.href)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin)||e.getAttribute("title")!==(null==a.title?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((l=e.getAttribute("src"))!==(null==a.src?null:a.src)||e.getAttribute("type")!==(null==a.type?null:a.type)||e.getAttribute("crossorigin")!==(null==a.crossOrigin?null:a.crossOrigin))&&l&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var l=null==a.name?null:""+a.name;if("hidden"===a.type&&e.getAttribute("name")===l)return e}if(null===(e=bd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,oa))?(t.stateNode=r,ra=t,aa=bd(r.firstChild),oa=!1,a=!0):a=!1),a||ca(t)),$(t),a=t.type,l=t.pendingProps,o=null!==e?e.memoizedProps:null,r=l.children,id(a,l)?r=null:null!==o&&id(a,o)&&(t.flags|=32),null!==t.memoizedState&&(a=Pl(e,t,Al,null,null,n),$d._currentValue=a),Ao(e,t),jo(e,t,r,n),t.child;case 6:return null===e&&la&&((e=n=aa)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=bd(e.nextSibling)))return null}return e}(n,t.pendingProps,oa))?(t.stateNode=n,ra=t,aa=null,e=!0):e=!1),e||ca(t)),null;case 13:return Uo(e,t,n);case 4:return V(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=to(t,null,r,n):jo(e,t,r,n),t.child;case 11:return Eo(e,t,t.type,t.pendingProps,n);case 7:return jo(e,t,t.pendingProps,n),t.child;case 8:case 12:return jo(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,xa(0,t.type,r.value),jo(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,Na(t),r=r(a=Ca(a)),t.flags|=1,jo(e,t,r,n),t.child;case 14:return Mo(e,t,t.type,t.pendingProps,n);case 15:return Po(e,t,t.type,t.pendingProps,n);case 19:return $o(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=Wo(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Dr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return To(e,t,n);case 24:return Na(t),r=Ca(Ta),null===e?(null===(a=Ua())&&(a=rc,l=La(),a.pooledCache=l,l.refCount++,null!==l&&(a.pooledCacheLanes|=n),a=l),t.memoizedState={parent:r,cache:a},nl(t),xa(0,Ta,a)):(0!==(e.lanes&n)&&(rl(e,t),ul(t,null,null,n),cl()),a=e.memoizedState,l=t.memoizedState,a.parent!==r?(a={parent:r,cache:r},t.memoizedState=a,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=a),xa(0,Ta,r)):(r=l.cache,xa(0,Ta,r),r!==a.cache&&wa(t,[Ta],n,!0))),jo(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function Zo(e){e.flags|=4}function Jo(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Bd(t)){if(null!==(t=ro.current)&&((4194048&lc)===lc?null!==ao:(62914560&lc)!==lc&&0===(536870912&lc)||t!==ao))throw Za=$a,Va;e.flags|=8192}}function es(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Se():536870912,e.lanes|=t,bc|=t)}function ts(e,t){if(!la)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ns(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=65011712&a.subtreeFlags,r|=65011712&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rs(e,t,n){var r=t.pendingProps;switch(na(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return ns(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),ya(Ta),Q(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(fa(t)?Zo(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,pa())),ns(t),null;case 26:return n=t.memoizedState,null===e?(Zo(t),null!==n?(ns(t),Jo(t,n)):(ns(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Zo(t),ns(t),Jo(t,n)):(ns(t),t.flags&=-16777217):(e.memoizedProps!==r&&Zo(t),ns(t),t.flags&=-16777217),null;case 27:G(t),n=W.current;var a=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Zo(t);else{if(!r){if(null===t.stateNode)throw Error(i(166));return ns(t),null}e=U.current,fa(t)?ua(t):(e=yd(a,r,n),t.stateNode=e,Zo(t))}return ns(t),null;case 5:if(G(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Zo(t);else{if(!r){if(null===t.stateNode)throw Error(i(166));return ns(t),null}if(e=U.current,fa(t))ua(t);else{switch(a=rd(W.current),e){case 1:e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?a.createElement(n,{is:r.is}):a.createElement(n)}}e[Te]=t,e[Le]=r;e:for(a=t.child;null!==a;){if(5===a.tag||6===a.tag)e.appendChild(a.stateNode);else if(4!==a.tag&&27!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;null===a.sibling;){if(null===a.return||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=e;e:switch(ed(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Zo(t)}}return ns(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Zo(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(e=W.current,fa(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(a=ra))switch(a.tag){case 27:case 5:r=a.memoizedProps}e[Te]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Xu(e.nodeValue,n)))||ca(t)}else(e=rd(e).createTextNode(r))[Te]=t,t.stateNode=e}return ns(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(a=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));a[Te]=t}else ha(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;ns(t),a=!1}else a=pa(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return 256&t.flags?(so(t),t):(so(t),null)}if(so(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){a=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(a=r.alternate.memoizedState.cachePool.pool);var l=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),es(t,t.updateQueue),ns(t),null;case 4:return Q(),null===e&&qu(t.stateNode.containerInfo),ns(t),null;case 10:return ya(t.type),ns(t),null;case 19:if(q(co),null===(a=t.memoizedState))return ns(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)ts(a,!1);else{if(0!==fc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=uo(e))){for(t.flags|=128,ts(a,!1),e=l.updateQueue,t.updateQueue=e,es(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Fr(n,e),n=n.sibling;return B(co,1&co.current|2),t.child}e=e.sibling}null!==a.tail&&te()>wc&&(t.flags|=128,r=!0,ts(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(l))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,es(t,e),ts(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!la)return ns(t),null}else 2*te()-a.renderingStartTime>wc&&536870912!==n&&(t.flags|=128,r=!0,ts(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(e=a.last)?e.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=te(),t.sibling=null,e=co.current,B(co,r?1&e|2:1&e),t):(ns(t),null);case 22:case 23:return so(t),bl(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(ns(t),6&t.subtreeFlags&&(t.flags|=8192)):ns(t),null!==(n=t.updateQueue)&&es(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&q(Ba),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ya(Ta),ns(t),null;case 25:case 30:return null}throw Error(i(156,t.tag))}function as(e,t){switch(na(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ya(Ta),Q(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return G(t),null;case 13:if(so(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));ha()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return q(co),null;case 4:return Q(),null;case 10:return ya(t.type),null;case 22:case 23:return so(t),bl(),null!==e&&q(Ba),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return ya(Ta),null;default:return null}}function ls(e,t){switch(na(t),t.tag){case 3:ya(Ta),Q();break;case 26:case 27:case 5:G(t);break;case 4:Q();break;case 13:so(t);break;case 19:q(co);break;case 10:ya(t.type);break;case 22:case 23:so(t),bl(),null!==e&&q(Ba);break;case 24:ya(Ta)}}function is(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var a=r.next;n=a;do{if((n.tag&e)===e){r=void 0;var l=n.create,i=n.inst;r=l(),i.destroy=r}n=n.next}while(n!==a)}}catch(o){uu(t,t.return,o)}}function os(e,t,n){try{var r=t.updateQueue,a=null!==r?r.lastEffect:null;if(null!==a){var l=a.next;r=l;do{if((r.tag&e)===e){var i=r.inst,o=i.destroy;if(void 0!==o){i.destroy=void 0,a=t;var s=n,c=o;try{c()}catch(u){uu(a,s,u)}}}r=r.next}while(r!==l)}}catch(u){uu(t,t.return,u)}}function ss(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{fl(t,n)}catch(r){uu(e,e.return,r)}}}function cs(e,t,n){n.props=go(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){uu(e,t,r)}}function us(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(a){uu(e,t,a)}}function ds(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(a){uu(e,t,a)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(l){uu(e,t,l)}else n.current=null}function fs(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(a){uu(e,e.return,a)}}function hs(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,l=null,o=null,s=null,c=null,u=null,d=null;for(p in n){var f=n[p];if(n.hasOwnProperty(p)&&null!=f)switch(p){case"checked":case"value":break;case"defaultValue":c=f;default:r.hasOwnProperty(p)||Zu(e,t,p,null,r,f)}}for(var h in r){var p=r[h];if(f=n[h],r.hasOwnProperty(h)&&(null!=p||null!=f))switch(h){case"type":l=p;break;case"name":a=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":o=p;break;case"defaultValue":s=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(i(137,t));break;default:p!==f&&Zu(e,t,h,p,r,f)}}return void gt(e,o,s,c,u,d,l,a);case"select":for(l in p=o=s=h=null,n)if(c=n[l],n.hasOwnProperty(l)&&null!=c)switch(l){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(l)||Zu(e,t,l,null,r,c)}for(a in r)if(l=r[a],c=n[a],r.hasOwnProperty(a)&&(null!=l||null!=c))switch(a){case"value":h=l;break;case"defaultValue":s=l;break;case"multiple":o=l;default:l!==c&&Zu(e,t,a,l,r,c)}return t=s,n=o,r=p,void(null!=h?xt(e,!!n,h,!1):!!r!==!!n&&(null!=t?xt(e,!!n,t,!0):xt(e,!!n,n?[]:"",!1)));case"textarea":for(s in p=h=null,n)if(a=n[s],n.hasOwnProperty(s)&&null!=a&&!r.hasOwnProperty(s))switch(s){case"value":case"children":break;default:Zu(e,t,s,null,r,a)}for(o in r)if(a=r[o],l=n[o],r.hasOwnProperty(o)&&(null!=a||null!=l))switch(o){case"value":h=a;break;case"defaultValue":p=a;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(i(91));break;default:a!==l&&Zu(e,t,o,a,r,l)}return void yt(e,h,p);case"option":for(var m in n)if(h=n[m],n.hasOwnProperty(m)&&null!=h&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Zu(e,t,m,null,r,h);for(c in r)if(h=r[c],p=n[c],r.hasOwnProperty(c)&&h!==p&&(null!=h||null!=p))if("selected"===c)e.selected=h&&"function"!==typeof h&&"symbol"!==typeof h;else Zu(e,t,c,h,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)h=n[g],n.hasOwnProperty(g)&&null!=h&&!r.hasOwnProperty(g)&&Zu(e,t,g,null,r,h);for(u in r)if(h=r[u],p=n[u],r.hasOwnProperty(u)&&h!==p&&(null!=h||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(i(137,t));break;default:Zu(e,t,u,h,r,p)}return;default:if(Ct(t)){for(var b in n)h=n[b],n.hasOwnProperty(b)&&void 0!==h&&!r.hasOwnProperty(b)&&Ju(e,t,b,void 0,r,h);for(d in r)h=r[d],p=n[d],!r.hasOwnProperty(d)||h===p||void 0===h&&void 0===p||Ju(e,t,d,h,r,p);return}}for(var v in n)h=n[v],n.hasOwnProperty(v)&&null!=h&&!r.hasOwnProperty(v)&&Zu(e,t,v,null,r,h);for(f in r)h=r[f],p=n[f],!r.hasOwnProperty(f)||h===p||null==h&&null==p||Zu(e,t,f,h,r,p)}(r,e.type,n,t),r[Le]=t}catch(a){uu(e,e.return,a)}}function ps(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&hd(e.type)||4===e.tag}function ms(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ps(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&hd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Yu));else if(4!==r&&(27===r&&hd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(gs(e,t,n),e=e.sibling;null!==e;)gs(e,t,n),e=e.sibling}function bs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&hd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(bs(e,t,n),e=e.sibling;null!==e;)bs(e,t,n),e=e.sibling}function vs(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);ed(t,r,n),t[Te]=e,t[Le]=n}catch(l){uu(e,e.return,l)}}var xs=!1,ys=!1,ks=!1,ws="function"===typeof WeakSet?WeakSet:Set,Ss=null;function zs(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Is(e,n),4&r&&is(5,n);break;case 1:if(Is(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(i){uu(n,n.return,i)}else{var a=go(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){uu(n,n.return,o)}}64&r&&ss(n),512&r&&us(n,n.return);break;case 3:if(Is(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{fl(e,t)}catch(i){uu(n,n.return,i)}}break;case 27:null===t&&4&r&&vs(n);case 26:case 5:Is(e,n),null===t&&4&r&&fs(n),512&r&&us(n,n.return);break;case 12:Is(e,n);break;case 13:Is(e,n),4&r&&Ms(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=pu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||xs)){t=null!==t&&null!==t.memoizedState||ys,a=xs;var l=ys;xs=r,(ys=t)&&!l?Fs(e,n,0!==(8772&n.subtreeFlags)):Is(e,n),xs=a,ys=l}break;case 30:break;default:Is(e,n)}}function Ns(e){var t=e.alternate;null!==t&&(e.alternate=null,Ns(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&qe(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Cs=null,_s=!1;function js(e,t,n){for(n=n.child;null!==n;)Es(e,t,n),n=n.sibling}function Es(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,n)}catch(l){}switch(n.tag){case 26:ys||ds(n,t),js(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:ys||ds(n,t);var r=Cs,a=_s;hd(n.type)&&(Cs=n.stateNode,_s=!1),js(e,t,n),kd(n.stateNode),Cs=r,_s=a;break;case 5:ys||ds(n,t);case 6:if(r=Cs,a=_s,Cs=null,js(e,t,n),_s=a,null!==(Cs=r))if(_s)try{(9===Cs.nodeType?Cs.body:"HTML"===Cs.nodeName?Cs.ownerDocument.body:Cs).removeChild(n.stateNode)}catch(i){uu(n,t,i)}else try{Cs.removeChild(n.stateNode)}catch(i){uu(n,t,i)}break;case 18:null!==Cs&&(_s?(pd(9===(e=Cs).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),jf(e)):pd(Cs,n.stateNode));break;case 4:r=Cs,a=_s,Cs=n.stateNode.containerInfo,_s=!0,js(e,t,n),Cs=r,_s=a;break;case 0:case 11:case 14:case 15:ys||os(2,n,t),ys||os(4,n,t),js(e,t,n);break;case 1:ys||(ds(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&cs(n,t,r)),js(e,t,n);break;case 21:js(e,t,n);break;case 22:ys=(r=ys)||null!==n.memoizedState,js(e,t,n),ys=r;break;default:js(e,t,n)}}function Ms(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{jf(e)}catch(n){uu(t,t.return,n)}}function Ps(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new ws),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new ws),t;default:throw Error(i(435,e.tag))}}(e);t.forEach(function(t){var r=mu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function Ts(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r],l=e,o=t,s=o;e:for(;null!==s;){switch(s.tag){case 27:if(hd(s.type)){Cs=s.stateNode,_s=!1;break e}break;case 5:Cs=s.stateNode,_s=!1;break e;case 3:case 4:Cs=s.stateNode.containerInfo,_s=!0;break e}s=s.return}if(null===Cs)throw Error(i(160));Es(l,o,a),Cs=null,_s=!1,null!==(l=a.alternate)&&(l.return=null),a.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)As(t,e),t=t.sibling}var Ls=null;function As(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ts(t,e),Rs(e),4&r&&(os(3,e,e.return),is(3,e),os(5,e,e.return));break;case 1:Ts(t,e),Rs(e),512&r&&(ys||null===n||ds(n,n.return)),64&r&&xs&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var a=Ls;if(Ts(t,e),Rs(e),512&r&&(ys||null===n||ds(n,n.return)),4&r){var l=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;t:switch(r){case"title":(!(l=a.getElementsByTagName("title")[0])||l[Fe]||l[Te]||"http://www.w3.org/2000/svg"===l.namespaceURI||l.hasAttribute("itemprop"))&&(l=a.createElement(r),a.head.insertBefore(l,a.querySelector("head > title"))),ed(l,r,n),l[Te]=e,He(l),r=l;break e;case"link":var o=Fd("link","href",a).get(r+(n.href||""));if(o)for(var s=0;s<o.length;s++)if((l=o[s]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&l.getAttribute("rel")===(null==n.rel?null:n.rel)&&l.getAttribute("title")===(null==n.title?null:n.title)&&l.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(s,1);break t}ed(l=a.createElement(r),r,n),a.head.appendChild(l);break;case"meta":if(o=Fd("meta","content",a).get(r+(n.content||"")))for(s=0;s<o.length;s++)if((l=o[s]).getAttribute("content")===(null==n.content?null:""+n.content)&&l.getAttribute("name")===(null==n.name?null:n.name)&&l.getAttribute("property")===(null==n.property?null:n.property)&&l.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&l.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(s,1);break t}ed(l=a.createElement(r),r,n),a.head.appendChild(l);break;default:throw Error(i(468,r))}l[Te]=e,He(l),r=l}e.stateNode=r}else qd(a,e.type,e.stateNode);else e.stateNode=Ad(a,r,e.memoizedProps);else l!==r?(null===l?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):l.count--,null===r?qd(a,e.type,e.stateNode):Ad(a,r,e.memoizedProps)):null===r&&null!==e.stateNode&&hs(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ts(t,e),Rs(e),512&r&&(ys||null===n||ds(n,n.return)),null!==n&&4&r&&hs(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ts(t,e),Rs(e),512&r&&(ys||null===n||ds(n,n.return)),32&e.flags){a=e.stateNode;try{wt(a,"")}catch(p){uu(e,e.return,p)}}4&r&&null!=e.stateNode&&hs(e,a=e.memoizedProps,null!==n?n.memoizedProps:a),1024&r&&(ks=!0);break;case 6:if(Ts(t,e),Rs(e),4&r){if(null===e.stateNode)throw Error(i(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(p){uu(e,e.return,p)}}break;case 3:if(Dd=null,a=Ls,Ls=zd(t.containerInfo),Ts(t,e),Ls=a,Rs(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{jf(t.containerInfo)}catch(p){uu(e,e.return,p)}ks&&(ks=!1,Os(e));break;case 4:r=Ls,Ls=zd(e.stateNode.containerInfo),Ts(t,e),Rs(e),Ls=r;break;case 12:default:Ts(t,e),Rs(e);break;case 13:Ts(t,e),Rs(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(kc=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Ps(e,r)));break;case 22:a=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=xs,d=ys;if(xs=u||a,ys=d||c,Ts(t,e),ys=d,xs=u,Rs(e),8192&r)e:for(t=e.stateNode,t._visibility=a?-2&t._visibility:1|t._visibility,a&&(null===n||c||xs||ys||Ds(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(l=c.stateNode,a)"function"===typeof(o=l.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{s=c.stateNode;var f=c.memoizedProps.style,h=void 0!==f&&null!==f&&f.hasOwnProperty("display")?f.display:null;s.style.display=null==h||"boolean"===typeof h?"":(""+h).trim()}}catch(p){uu(c,c.return,p)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(p){uu(c,c.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Ps(e,n))));break;case 19:Ts(t,e),Rs(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Ps(e,r)));case 30:case 21:}}function Rs(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(ps(r)){n=r;break}r=r.return}if(null==n)throw Error(i(160));switch(n.tag){case 27:var a=n.stateNode;bs(e,ms(e),a);break;case 5:var l=n.stateNode;32&n.flags&&(wt(l,""),n.flags&=-33),bs(e,ms(e),l);break;case 3:case 4:var o=n.stateNode.containerInfo;gs(e,ms(e),o);break;default:throw Error(i(161))}}catch(s){uu(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Os(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Os(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Is(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)zs(e,t.alternate,t),t=t.sibling}function Ds(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:os(4,t,t.return),Ds(t);break;case 1:ds(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&cs(t,t.return,n),Ds(t);break;case 27:kd(t.stateNode);case 26:case 5:ds(t,t.return),Ds(t);break;case 22:null===t.memoizedState&&Ds(t);break;default:Ds(t)}e=e.sibling}}function Fs(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,a=e,l=t,i=l.flags;switch(l.tag){case 0:case 11:case 15:Fs(a,l,n),is(4,l);break;case 1:if(Fs(a,l,n),"function"===typeof(a=(r=l).stateNode).componentDidMount)try{a.componentDidMount()}catch(c){uu(r,r.return,c)}if(null!==(a=(r=l).updateQueue)){var o=r.stateNode;try{var s=a.shared.hiddenCallbacks;if(null!==s)for(a.shared.hiddenCallbacks=null,a=0;a<s.length;a++)dl(s[a],o)}catch(c){uu(r,r.return,c)}}n&&64&i&&ss(l),us(l,l.return);break;case 27:vs(l);case 26:case 5:Fs(a,l,n),n&&null===r&&4&i&&fs(l),us(l,l.return);break;case 12:Fs(a,l,n);break;case 13:Fs(a,l,n),n&&4&i&&Ms(a,l);break;case 22:null===l.memoizedState&&Fs(a,l,n),us(l,l.return);break;case 30:break;default:Fs(a,l,n)}t=t.sibling}}function qs(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Aa(n))}function Bs(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Aa(e))}function Us(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Ks(e,t,n,r),t=t.sibling}function Ks(e,t,n,r){var a=t.flags;switch(t.tag){case 0:case 11:case 15:Us(e,t,n,r),2048&a&&is(9,t);break;case 1:case 13:default:Us(e,t,n,r);break;case 3:Us(e,t,n,r),2048&a&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Aa(e)));break;case 12:if(2048&a){Us(e,t,n,r),e=t.stateNode;try{var l=t.memoizedProps,i=l.id,o=l.onPostCommit;"function"===typeof o&&o(i,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(s){uu(t,t.return,s)}}else Us(e,t,n,r);break;case 23:break;case 22:l=t.stateNode,i=t.alternate,null!==t.memoizedState?2&l._visibility?Us(e,t,n,r):Hs(e,t):2&l._visibility?Us(e,t,n,r):(l._visibility|=2,Ws(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&a&&qs(i,t);break;case 24:Us(e,t,n,r),2048&a&&Bs(t.alternate,t)}}function Ws(e,t,n,r,a){for(a=a&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var l=e,i=t,o=n,s=r,c=i.flags;switch(i.tag){case 0:case 11:case 15:Ws(l,i,o,s,a),is(8,i);break;case 23:break;case 22:var u=i.stateNode;null!==i.memoizedState?2&u._visibility?Ws(l,i,o,s,a):Hs(l,i):(u._visibility|=2,Ws(l,i,o,s,a)),a&&2048&c&&qs(i.alternate,i);break;case 24:Ws(l,i,o,s,a),a&&2048&c&&Bs(i.alternate,i);break;default:Ws(l,i,o,s,a)}t=t.sibling}}function Hs(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,a=r.flags;switch(r.tag){case 22:Hs(n,r),2048&a&&qs(r.alternate,r);break;case 24:Hs(n,r),2048&a&&Bs(r.alternate,r);break;default:Hs(n,r)}t=t.sibling}}var Vs=8192;function Qs(e){if(e.subtreeFlags&Vs)for(e=e.child;null!==e;)$s(e),e=e.sibling}function $s(e){switch(e.tag){case 26:Qs(e),e.flags&Vs&&null!==e.memoizedState&&function(e,t,n){if(null===Ud)throw Error(i(475));var r=Ud;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var a=Ed(n.href),l=e.querySelector(Md(a));if(l)return null!==(e=l._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Wd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=l,void He(l);l=e.ownerDocument||e,n=Pd(n),(a=wd.get(a))&&Od(n,a),He(l=l.createElement("link"));var o=l;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),ed(l,"link",n),t.instance=l}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Wd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Ls,e.memoizedState,e.memoizedProps);break;case 5:default:Qs(e);break;case 3:case 4:var t=Ls;Ls=zd(e.stateNode.containerInfo),Qs(e),Ls=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Vs,Vs=16777216,Qs(e),Vs=t):Qs(e))}}function Gs(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Xs(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Ss=r,Js(r,e)}Gs(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Ys(e),e=e.sibling}function Ys(e){switch(e.tag){case 0:case 11:case 15:Xs(e),2048&e.flags&&os(9,e,e.return);break;case 3:case 12:default:Xs(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Zs(e)):Xs(e)}}function Zs(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Ss=r,Js(r,e)}Gs(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:os(8,t,t.return),Zs(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Zs(t));break;default:Zs(t)}e=e.sibling}}function Js(e,t){for(;null!==Ss;){var n=Ss;switch(n.tag){case 0:case 11:case 15:os(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Aa(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Ss=r;else e:for(n=e;null!==Ss;){var a=(r=Ss).sibling,l=r.return;if(Ns(r),r===n){Ss=null;break e}if(null!==a){a.return=l,Ss=a;break e}Ss=l}}}var ec={getCacheForType:function(e){var t=Ca(Ta),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"===typeof WeakMap?WeakMap:Map,nc=0,rc=null,ac=null,lc=0,ic=0,oc=null,sc=!1,cc=!1,uc=!1,dc=0,fc=0,hc=0,pc=0,mc=0,gc=0,bc=0,vc=null,xc=null,yc=!1,kc=0,wc=1/0,Sc=null,zc=null,Nc=0,Cc=null,_c=null,jc=0,Ec=0,Mc=null,Pc=null,Tc=0,Lc=null;function Ac(){if(0!==(2&nc)&&0!==lc)return lc&-lc;if(null!==A.T){return 0!==Ia?Ia:Eu()}return Me()}function Rc(){0===gc&&(gc=0===(536870912&lc)||la?we():536870912);var e=ro.current;return null!==e&&(e.flags|=32),gc}function Oc(e,t,n){(e!==rc||2!==ic&&9!==ic)&&null===e.cancelPendingCommit||(Kc(e,0),qc(e,lc,gc,!1)),Ne(e,n),0!==(2&nc)&&e===rc||(e===rc&&(0===(2&nc)&&(pc|=n),4===fc&&qc(e,lc,gc,!1)),wu(e))}function Ic(e,t,n){if(0!==(6&nc))throw Error(i(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||ye(e,t),a=r?function(e,t){var n=nc;nc|=2;var r=Hc(),a=Vc();rc!==e||lc!==t?(Sc=null,wc=te()+500,Kc(e,t)):cc=ye(e,t);e:for(;;)try{if(0!==ic&&null!==ac){t=ac;var l=oc;t:switch(ic){case 1:ic=0,oc=null,Jc(e,t,l,1);break;case 2:case 9:if(Ga(l)){ic=0,oc=null,Zc(t);break}t=function(){2!==ic&&9!==ic||rc!==e||(ic=7),wu(e)},l.then(t,t);break e;case 3:ic=7;break e;case 4:ic=5;break e;case 7:Ga(l)?(ic=0,oc=null,Zc(t)):(ic=0,oc=null,Jc(e,t,l,7));break;case 5:var o=null;switch(ac.tag){case 26:o=ac.memoizedState;case 5:case 27:var s=ac;if(!o||Bd(o)){ic=0,oc=null;var c=s.sibling;if(null!==c)ac=c;else{var u=s.return;null!==u?(ac=u,eu(u)):ac=null}break t}}ic=0,oc=null,Jc(e,t,l,5);break;case 6:ic=0,oc=null,Jc(e,t,l,6);break;case 8:Uc(),fc=6;break e;default:throw Error(i(462))}}Xc();break}catch(d){Wc(e,d)}return va=ba=null,A.H=r,A.A=a,nc=n,null!==ac?0:(rc=null,lc=0,jr(),fc)}(e,t):$c(e,t,!0),l=r;;){if(0===a){cc&&!r&&qc(e,t,0,!1);break}if(n=e.current.alternate,!l||Fc(n)){if(2===a){if(l=t,e.errorRecoveryDisabledLanes&l)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var s=e;a=vc;var c=s.current.memoizedState.isDehydrated;if(c&&(Kc(s,o).flags|=256),2!==(o=$c(s,o,!1))){if(uc&&!c){s.errorRecoveryDisabledLanes|=l,pc|=l,a=4;break e}l=xc,xc=a,null!==l&&(null===xc?xc=l:xc.push.apply(xc,l))}a=o}if(l=!1,2!==a)continue}}if(1===a){Kc(e,0),qc(e,t,0,!0);break}e:{switch(r=e,l=a){case 0:case 1:throw Error(i(345));case 4:if((4194048&t)!==t)break;case 6:qc(r,t,gc,!sc);break e;case 2:xc=null;break;case 3:case 5:break;default:throw Error(i(329))}if((62914560&t)===t&&10<(a=kc+300-te())){if(qc(r,t,gc,!sc),0!==xe(r,0,!0))break e;r.timeoutHandle=sd(Dc.bind(null,r,n,xc,Sc,yc,t,gc,pc,bc,sc,l,2,-0,0),a)}else Dc(r,n,xc,Sc,yc,t,gc,pc,bc,sc,l,0,-0,0)}break}a=$c(e,t,!1),l=!1}wu(e)}function Dc(e,t,n,r,a,l,o,s,c,u,d,f,h,p){if(e.timeoutHandle=-1,(8192&(f=t.subtreeFlags)||16785408===(16785408&f))&&(Ud={stylesheets:null,count:0,unsuspend:Kd},$s(t),null!==(f=function(){if(null===Ud)throw Error(i(475));var e=Ud;return e.stylesheets&&0===e.count&&Vd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Vd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=f(nu.bind(null,e,t,l,n,r,a,o,s,c,d,1,h,p)),void qc(e,l,o,!u);nu(e,t,l,n,r,a,o,s,c)}function Fc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var a=n[r],l=a.getSnapshot;a=a.value;try{if(!Gn(l(),a))return!1}catch(i){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qc(e,t,n,r){t&=~mc,t&=~pc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var a=t;0<a;){var l=31-he(a),i=1<<l;r[l]=-1,a&=~i}0!==n&&Ce(e,n,t)}function Bc(){return 0!==(6&nc)||(Su(0,!1),!1)}function Uc(){if(null!==ac){if(0===ic)var e=ac.return;else va=ba=null,Il(e=ac),$i=null,Gi=0,e=ac;for(;null!==e;)ls(e.alternate,e),e=e.return;ac=null}}function Kc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,cd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Uc(),rc=e,ac=n=Dr(e.current,null),lc=t,ic=0,oc=null,sc=!1,cc=ye(e,t),uc=!1,bc=gc=mc=pc=hc=fc=0,xc=vc=null,yc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var a=31-he(r),l=1<<a;t|=e[a],r&=~l}return dc=t,jr(),n}function Wc(e,t){xl=null,A.H=Wi,t===Ha||t===Qa?(t=Ja(),ic=3):t===Va?(t=Ja(),ic=4):ic=t===Co?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,oc=t,null===ac&&(fc=1,ko(e,zr(t,e.current)))}function Hc(){var e=A.H;return A.H=Wi,null===e?Wi:e}function Vc(){var e=A.A;return A.A=ec,e}function Qc(){fc=4,sc||(4194048&lc)!==lc&&null!==ro.current||(cc=!0),0===(134217727&hc)&&0===(134217727&pc)||null===rc||qc(rc,lc,gc,!1)}function $c(e,t,n){var r=nc;nc|=2;var a=Hc(),l=Vc();rc===e&&lc===t||(Sc=null,Kc(e,t)),t=!1;var i=fc;e:for(;;)try{if(0!==ic&&null!==ac){var o=ac,s=oc;switch(ic){case 8:Uc(),i=6;break e;case 3:case 2:case 9:case 6:null===ro.current&&(t=!0);var c=ic;if(ic=0,oc=null,Jc(e,o,s,c),n&&cc){i=0;break e}break;default:c=ic,ic=0,oc=null,Jc(e,o,s,c)}}Gc(),i=fc;break}catch(u){Wc(e,u)}return t&&e.shellSuspendCounter++,va=ba=null,nc=r,A.H=a,A.A=l,null===ac&&(rc=null,lc=0,jr()),i}function Gc(){for(;null!==ac;)Yc(ac)}function Xc(){for(;null!==ac&&!J();)Yc(ac)}function Yc(e){var t=Yo(e.alternate,e,dc);e.memoizedProps=e.pendingProps,null===t?eu(e):ac=t}function Zc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Oo(n,t,t.pendingProps,t.type,void 0,lc);break;case 11:t=Oo(n,t,t.pendingProps,t.type.render,t.ref,lc);break;case 5:Il(t);default:ls(n,t),t=Yo(n,t=ac=Fr(t,dc),dc)}e.memoizedProps=e.pendingProps,null===t?eu(e):ac=t}function Jc(e,t,n,r){va=ba=null,Il(t),$i=null,Gi=0;var a=t.return;try{if(function(e,t,n,r,a){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Sa(t,n,a,!0),null!==(n=ro.current)){switch(n.tag){case 13:return null===ao?Qc():null===n.alternate&&0===fc&&(fc=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===$a?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),du(e,r,a)),!1;case 22:return n.flags|=65536,r===$a?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),du(e,r,a)),!1}throw Error(i(435,n.tag))}return du(e,r,a),Qc(),!1}if(la)return null!==(t=ro.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==sa&&ma(zr(e=Error(i(422),{cause:r}),n))):(r!==sa&&ma(zr(t=Error(i(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,a&=-a,e.lanes|=a,r=zr(r,n),ol(e,a=So(e.stateNode,r,a)),4!==fc&&(fc=2)),!1;var l=Error(i(520),{cause:r});if(l=zr(l,n),null===vc?vc=[l]:vc.push(l),4!==fc&&(fc=2),null===t)return!0;r=zr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,ol(n,e=So(n.stateNode,r,e)),!1;case 1:if(t=n.type,l=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==l&&"function"===typeof l.componentDidCatch&&(null===zc||!zc.has(l))))return n.flags|=65536,a&=-a,n.lanes|=a,No(a=zo(a),e,n,r),ol(n,a),!1}n=n.return}while(null!==n);return!1}(e,a,t,n,lc))return fc=1,ko(e,zr(n,e.current)),void(ac=null)}catch(l){if(null!==a)throw ac=a,l;return fc=1,ko(e,zr(n,e.current)),void(ac=null)}32768&t.flags?(la||1===r?e=!0:cc||0!==(536870912&lc)?e=!1:(sc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=ro.current)&&13===r.tag&&(r.flags|=16384))),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(0!==(32768&t.flags))return void tu(t,sc);e=t.return;var n=rs(t.alternate,t,dc);if(null!==n)return void(ac=n);if(null!==(t=t.sibling))return void(ac=t);ac=t=e}while(null!==t);0===fc&&(fc=5)}function tu(e,t){do{var n=as(e.alternate,e);if(null!==n)return n.flags&=32767,void(ac=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ac=e);ac=e=n}while(null!==e);fc=6,ac=null}function nu(e,t,n,r,a,l,o,s,c){e.cancelPendingCommit=null;do{ou()}while(0!==Nc);if(0!==(6&nc))throw Error(i(327));if(null!==t){if(t===e.current)throw Error(i(177));if(l=t.lanes|t.childLanes,function(e,t,n,r,a,l){var i=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,s=e.expirationTimes,c=e.hiddenUpdates;for(n=i&~n;0<n;){var u=31-he(n),d=1<<u;o[u]=0,s[u]=-1;var f=c[u];if(null!==f)for(c[u]=null,u=0;u<f.length;u++){var h=f[u];null!==h&&(h.lane&=-536870913)}n&=~d}0!==r&&Ce(e,r,0),0!==l&&0===a&&0!==e.tag&&(e.suspendedLanes|=l&~(i&~t))}(e,n,l|=_r,o,s,c),e===rc&&(ac=rc=null,lc=0),_c=t,Cc=e,jc=n,Ec=l,Mc=a,Pc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,Y(le,function(){return su(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=A.T,A.T=null,a=R.p,R.p=2,o=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,td=nf,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch(g){n=null;break e}var o=0,s=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||0!==a&&3!==f.nodeType||(s=o+a),f!==l||0!==r&&3!==f.nodeType||(c=o+r),3===f.nodeType&&(o+=f.nodeValue.length),null!==(p=f.firstChild);)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++u===a&&(s=o),h===l&&++d===r&&(c=o),null!==(p=f.nextSibling))break;h=(f=h).parentNode}f=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nd={focusedElem:e,selectionRange:n},nf=!1,Ss=t;null!==Ss;)if(e=(t=Ss).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,Ss=e;else for(;null!==Ss;){switch(l=(t=Ss).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==l){e=void 0,n=t,a=l.memoizedProps,l=l.memoizedState,r=n.stateNode;try{var m=go(n.type,a,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,l),r.__reactInternalSnapshotBeforeUpdate=e}catch(b){uu(n,n.return,b)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))md(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":md(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(i(163))}if(null!==(e=t.sibling)){e.return=t.return,Ss=e;break}Ss=t.return}}(e,t)}finally{nc=o,R.p=a,A.T=r}}Nc=1,ru(),au(),lu()}}function ru(){if(1===Nc){Nc=0;var e=Cc,t=_c,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=A.T,A.T=null;var r=R.p;R.p=2;var a=nc;nc|=4;try{As(t,e);var l=nd,i=er(e.containerInfo),o=l.focusedElem,s=l.selectionRange;if(i!==o&&o&&o.ownerDocument&&Jn(o.ownerDocument.documentElement,o)){if(null!==s&&tr(o)){var c=s.start,u=s.end;if(void 0===u&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var d=o.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var h=f.getSelection(),p=o.textContent.length,m=Math.min(s.start,p),g=void 0===s.end?m:Math.min(s.end,p);!h.extend&&m>g&&(i=g,g=m,m=i);var b=Zn(o,m),v=Zn(o,g);if(b&&v&&(1!==h.rangeCount||h.anchorNode!==b.node||h.anchorOffset!==b.offset||h.focusNode!==v.node||h.focusOffset!==v.offset)){var x=d.createRange();x.setStart(b.node,b.offset),h.removeAllRanges(),m>g?(h.addRange(x),h.extend(v.node,v.offset)):(x.setEnd(v.node,v.offset),h.addRange(x))}}}}for(d=[],h=o;h=h.parentNode;)1===h.nodeType&&d.push({element:h,left:h.scrollLeft,top:h.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<d.length;o++){var y=d[o];y.element.scrollLeft=y.left,y.element.scrollTop=y.top}}nf=!!td,nd=td=null}finally{nc=a,R.p=r,A.T=n}}e.current=t,Nc=2}}function au(){if(2===Nc){Nc=0;var e=Cc,t=_c,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=A.T,A.T=null;var r=R.p;R.p=2;var a=nc;nc|=4;try{zs(e,t.alternate,t)}finally{nc=a,R.p=r,A.T=n}}Nc=3}}function lu(){if(4===Nc||3===Nc){Nc=0,ee();var e=Cc,t=_c,n=jc,r=Pc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Nc=5:(Nc=0,_c=Cc=null,iu(e,e.pendingLanes));var a=e.pendingLanes;if(0===a&&(zc=null),Ee(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(s){}if(null!==r){t=A.T,a=R.p,R.p=2,A.T=null;try{for(var l=e.onRecoverableError,i=0;i<r.length;i++){var o=r[i];l(o.value,{componentStack:o.stack})}}finally{A.T=t,R.p=a}}0!==(3&jc)&&ou(),wu(e),a=e.pendingLanes,0!==(4194090&n)&&0!==(42&a)?e===Lc?Tc++:(Tc=0,Lc=e):Tc=0,Su(0,!1)}}function iu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Aa(t)))}function ou(e){return ru(),au(),lu(),su()}function su(){if(5!==Nc)return!1;var e=Cc,t=Ec;Ec=0;var n=Ee(jc),r=A.T,a=R.p;try{R.p=32>n?32:n,A.T=null,n=Mc,Mc=null;var l=Cc,o=jc;if(Nc=0,_c=Cc=null,jc=0,0!==(6&nc))throw Error(i(331));var s=nc;if(nc|=4,Ys(l.current),Ks(l,l.current,o,n),nc=s,Su(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,l)}catch(c){}return!0}finally{R.p=a,A.T=r,iu(e,t)}}function cu(e,t,n){t=zr(n,t),null!==(e=ll(e,t=So(e.stateNode,t,2),2))&&(Ne(e,2),wu(e))}function uu(e,t,n){if(3===e.tag)cu(e,e,n);else for(;null!==t;){if(3===t.tag){cu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===zc||!zc.has(r))){e=zr(n,e),null!==(r=ll(t,n=zo(2),2))&&(No(n,r,t,e),Ne(r,2),wu(r));break}}t=t.return}}function du(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new tc;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(uc=!0,a.add(n),e=fu.bind(null,e,t,n),t.then(e,e))}function fu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,rc===e&&(lc&n)===n&&(4===fc||3===fc&&(62914560&lc)===lc&&300>te()-kc?0===(2&nc)&&Kc(e,0):mc|=n,bc===lc&&(bc=0)),wu(e)}function hu(e,t){0===t&&(t=Se()),null!==(e=Pr(e,t))&&(Ne(e,t),wu(e))}function pu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),hu(e,n)}function mu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}null!==r&&r.delete(t),hu(e,n)}var gu=null,bu=null,vu=!1,xu=!1,yu=!1,ku=0;function wu(e){e!==bu&&null===e.next&&(null===bu?gu=bu=e:bu=bu.next=e),xu=!0,vu||(vu=!0,dd(function(){0!==(6&nc)?Y(re,zu):Nu()}))}function Su(e,t){if(!yu&&xu){yu=!0;do{for(var n=!1,r=gu;null!==r;){if(!t)if(0!==e){var a=r.pendingLanes;if(0===a)var l=0;else{var i=r.suspendedLanes,o=r.pingedLanes;l=(1<<31-he(42|e)+1)-1,l=201326741&(l&=a&~(i&~o))?201326741&l|1:l?2|l:0}0!==l&&(n=!0,ju(r,l))}else l=lc,0===(3&(l=xe(r,r===rc?l:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||ye(r,l)||(n=!0,ju(r,l));r=r.next}}while(n);yu=!1}}function zu(){Nu()}function Nu(){xu=vu=!1;var e=0;0!==ku&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==od&&(od=e,!0);return od=null,!1}()&&(e=ku),ku=0);for(var t=te(),n=null,r=gu;null!==r;){var a=r.next,l=Cu(r,t);0===l?(r.next=null,null===n?gu=a:n.next=a,null===a&&(bu=n)):(n=r,(0!==e||0!==(3&l))&&(xu=!0)),r=a}Su(e,!1)}function Cu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,l=-62914561&e.pendingLanes;0<l;){var i=31-he(l),o=1<<i,s=a[i];-1===s?0!==(o&n)&&0===(o&r)||(a[i]=ke(o,t)):s<=t&&(e.expiredLanes|=o),l&=~o}if(n=lc,n=xe(e,e===(t=rc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===ic||9===ic)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&Z(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||ye(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&Z(r),Ee(n)){case 2:case 8:n=ae;break;case 32:default:n=le;break;case 268435456:n=oe}return r=_u.bind(null,e),n=Y(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&Z(r),e.callbackPriority=2,e.callbackNode=null,2}function _u(e,t){if(0!==Nc&&5!==Nc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(ou()&&e.callbackNode!==n)return null;var r=lc;return 0===(r=xe(e,e===rc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Ic(e,r,t),Cu(e,te()),null!=e.callbackNode&&e.callbackNode===n?_u.bind(null,e):null)}function ju(e,t){if(ou())return null;Ic(e,t,!0)}function Eu(){return 0===ku&&(ku=we()),ku}function Mu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Et(""+e)}function Pu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Tu=0;Tu<kr.length;Tu++){var Lu=kr[Tu];wr(Lu.toLowerCase(),"on"+(Lu[0].toUpperCase()+Lu.slice(1)))}wr(hr,"onAnimationEnd"),wr(pr,"onAnimationIteration"),wr(mr,"onAnimationStart"),wr("dblclick","onDoubleClick"),wr("focusin","onFocus"),wr("focusout","onBlur"),wr(gr,"onTransitionRun"),wr(br,"onTransitionStart"),wr(vr,"onTransitionCancel"),wr(xr,"onTransitionEnd"),Ge("onMouseEnter",["mouseout","mouseover"]),Ge("onMouseLeave",["mouseout","mouseover"]),Ge("onPointerEnter",["pointerout","pointerover"]),Ge("onPointerLeave",["pointerout","pointerover"]),$e("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$e("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$e("onBeforeInput",["compositionend","keypress","textInput","paste"]),$e("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$e("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$e("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Au="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ru=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Au));function Ou(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var i=r.length-1;0<=i;i--){var o=r[i],s=o.instance,c=o.currentTarget;if(o=o.listener,s!==l&&a.isPropagationStopped())break e;l=o,a.currentTarget=c;try{l(a)}catch(u){bo(u)}a.currentTarget=null,l=s}else for(i=0;i<r.length;i++){if(s=(o=r[i]).instance,c=o.currentTarget,o=o.listener,s!==l&&a.isPropagationStopped())break e;l=o,a.currentTarget=c;try{l(a)}catch(u){bo(u)}a.currentTarget=null,l=s}}}}function Iu(e,t){var n=t[Re];void 0===n&&(n=t[Re]=new Set);var r=e+"__bubble";n.has(r)||(Bu(t,e,2,!1),n.add(r))}function Du(e,t,n){var r=0;t&&(r|=4),Bu(n,e,r,t)}var Fu="_reactListening"+Math.random().toString(36).slice(2);function qu(e){if(!e[Fu]){e[Fu]=!0,Ve.forEach(function(t){"selectionchange"!==t&&(Ru.has(t)||Du(t,!1,e),Du(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Fu]||(t[Fu]=!0,Du("selectionchange",!1,t))}}function Bu(e,t,n,r){switch(uf(t)){case 2:var a=rf;break;case 8:a=af;break;default:a=lf}n=a.bind(null,t,n,e),a=void 0,!Ft||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Uu(e,t,n,r,a){var l=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var o=r.stateNode.containerInfo;if(o===a)break;if(4===i)for(i=r.return;null!==i;){var c=i.tag;if((3===c||4===c)&&i.stateNode.containerInfo===a)return;i=i.return}for(;null!==o;){if(null===(i=Be(o)))return;if(5===(c=i.tag)||6===c||26===c||27===c){r=l=i;continue e}o=o.parentNode}}r=r.return}Ot(function(){var r=l,a=Pt(n),i=[];e:{var o=yr.get(e);if(void 0!==o){var c=Jt,u=e;switch(e){case"keypress":if(0===Ht(n))break e;case"keydown":case"keyup":c=mn;break;case"focusin":u="focus",c=ln;break;case"focusout":u="blur",c=ln;break;case"beforeblur":case"afterblur":c=ln;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=an;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=bn;break;case hr:case pr:case mr:c=on;break;case xr:c=vn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=xn;break;case"copy":case"cut":case"paste":c=sn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gn;break;case"toggle":case"beforetoggle":c=yn}var d=0!==(4&t),f=!d&&("scroll"===e||"scrollend"===e),h=d?null!==o?o+"Capture":null:o;d=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===h||null!=(g=It(m,h))&&d.push(Ku(m,g,p)),f)break;m=m.return}0<d.length&&(o=new c(o,u,null,n,a),i.push({event:o,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===Mt||!(u=n.relatedTarget||n.fromElement)||!Be(u)&&!u[Ae])&&(c||o)&&(o=a.window===a?a:(o=a.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Be(u):null)&&(f=s(u),d=u.tag,u!==f||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=rn,g="onMouseLeave",h="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=gn,g="onPointerLeave",h="onPointerEnter",m="pointer"),f=null==c?o:Ke(c),p=null==u?o:Ke(u),(o=new d(g,m+"leave",c,n,a)).target=f,o.relatedTarget=p,g=null,Be(a)===r&&((d=new d(h,m+"enter",u,n,a)).target=p,d.relatedTarget=f,g=d),f=g,c&&u)e:{for(h=u,m=0,p=d=c;p;p=Hu(p))m++;for(p=0,g=h;g;g=Hu(g))p++;for(;0<m-p;)d=Hu(d),m--;for(;0<p-m;)h=Hu(h),p--;for(;m--;){if(d===h||null!==h&&d===h.alternate)break e;d=Hu(d),h=Hu(h)}d=null}else d=null;null!==c&&Vu(i,o,c,d,!1),null!==u&&null!==f&&Vu(i,f,u,d,!0)}if("select"===(c=(o=r?Ke(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var b=Dn;else if(Tn(o))if(Fn)b=$n;else{b=Vn;var v=Hn}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?r&&Ct(r.elementType)&&(b=Dn):b=Qn;switch(b&&(b=b(e,r))?Ln(i,b,n,a):(v&&v(e,o,r),"focusout"===e&&r&&"number"===o.type&&null!=r.memoizedProps.value&&vt(o,"number",o.value)),v=r?Ke(r):window,e){case"focusin":(Tn(v)||"true"===v.contentEditable)&&(rr=v,ar=r,lr=null);break;case"focusout":lr=ar=rr=null;break;case"mousedown":ir=!0;break;case"contextmenu":case"mouseup":case"dragend":ir=!1,or(i,n,a);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":or(i,n,a)}var x;if(wn)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Mn?jn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Nn&&"ko"!==n.locale&&(Mn||"onCompositionStart"!==y?"onCompositionEnd"===y&&Mn&&(x=Wt()):(Ut="value"in(Bt=a)?Bt.value:Bt.textContent,Mn=!0)),0<(v=Wu(r,y)).length&&(y=new cn(y,e,null,n,a),i.push({event:y,listeners:v}),x?y.data=x:null!==(x=En(n))&&(y.data=x))),(x=zn?function(e,t){switch(e){case"compositionend":return En(t);case"keypress":return 32!==t.which?null:(_n=!0,Cn);case"textInput":return(e=t.data)===Cn&&_n?null:e;default:return null}}(e,n):function(e,t){if(Mn)return"compositionend"===e||!wn&&jn(e,t)?(e=Wt(),Kt=Ut=Bt=null,Mn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(y=Wu(r,"onBeforeInput")).length&&(v=new cn("onBeforeInput","beforeinput",null,n,a),i.push({event:v,listeners:y}),v.data=x)),function(e,t,n,r,a){if("submit"===t&&n&&n.stateNode===a){var l=Mu((a[Le]||null).action),i=r.submitter;i&&null!==(t=(t=i[Le]||null)?Mu(t.formAction):i.getAttribute("formAction"))&&(l=t,i=null);var o=new Jt("action","action",null,r,a);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==ku){var e=i?Pu(a,i):new FormData(a);Mi(n,{pending:!0,data:e,method:a.method,action:l},null,e)}}else"function"===typeof l&&(o.preventDefault(),e=i?Pu(a,i):new FormData(a),Mi(n,{pending:!0,data:e,method:a.method,action:l},l,e))},currentTarget:a}]})}}(i,e,r,n,a)}Ou(i,t)})}function Ku(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wu(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,l=a.stateNode;if(5!==(a=a.tag)&&26!==a&&27!==a||null===l||(null!=(a=It(e,n))&&r.unshift(Ku(e,a,l)),null!=(a=It(e,t))&&r.push(Ku(e,a,l))),3===e.tag)return r;e=e.return}return[]}function Hu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Vu(e,t,n,r,a){for(var l=t._reactName,i=[];null!==n&&n!==r;){var o=n,s=o.alternate,c=o.stateNode;if(o=o.tag,null!==s&&s===r)break;5!==o&&26!==o&&27!==o||null===c||(s=c,a?null!=(c=It(n,l))&&i.unshift(Ku(n,c,s)):a||null!=(c=It(n,l))&&i.push(Ku(n,c,s))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Qu=/\r\n?/g,$u=/\u0000|\uFFFD/g;function Gu(e){return("string"===typeof e?e:""+e).replace(Qu,"\n").replace($u,"")}function Xu(e,t){return t=Gu(t),Gu(e)===t}function Yu(){}function Zu(e,t,n,r,a,l){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||wt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&wt(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":Nt(e,r,l);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Et(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof l&&("formAction"===n?("input"!==t&&Zu(e,t,"name",a.name,a,null),Zu(e,t,"formEncType",a.formEncType,a,null),Zu(e,t,"formMethod",a.formMethod,a,null),Zu(e,t,"formTarget",a.formTarget,a,null)):(Zu(e,t,"encType",a.encType,a,null),Zu(e,t,"method",a.method,a,null),Zu(e,t,"target",a.target,a,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Et(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Yu);break;case"onScroll":null!=r&&Iu("scroll",e);break;case"onScrollEnd":null!=r&&Iu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(i(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(i(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Et(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Iu("beforetoggle",e),Iu("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=_t.get(n)||n,r)}}function Ju(e,t,n,r,a,l){switch(n){case"style":Nt(e,r,l);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(i(61));if(null!=(n=r.__html)){if(null!=a.children)throw Error(i(60));e.innerHTML=n}}break;case"children":"string"===typeof r?wt(e,r):("number"===typeof r||"bigint"===typeof r)&&wt(e,""+r);break;case"onScroll":null!=r&&Iu("scroll",e);break;case"onScrollEnd":null!=r&&Iu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Yu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Qe.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),"function"===typeof(l=null!=(l=e[Le]||null)?l[n]:null)&&e.removeEventListener(t,l,a),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof l&&null!==l&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a)))}}function ed(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Iu("error",e),Iu("load",e);var r,a=!1,l=!1;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(null!=o)switch(r){case"src":a=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Zu(e,t,r,o,n,null)}}return l&&Zu(e,t,"srcSet",n.srcSet,n,null),void(a&&Zu(e,t,"src",n.src,n,null));case"input":Iu("invalid",e);var s=r=o=l=null,c=null,u=null;for(a in n)if(n.hasOwnProperty(a)){var d=n[a];if(null!=d)switch(a){case"name":l=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":s=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(i(137,t));break;default:Zu(e,t,a,d,n,null)}}return bt(e,r,s,c,u,o,l,!1),void dt(e);case"select":for(l in Iu("invalid",e),a=o=r=null,n)if(n.hasOwnProperty(l)&&null!=(s=n[l]))switch(l){case"value":r=s;break;case"defaultValue":o=s;break;case"multiple":a=s;default:Zu(e,t,l,s,n,null)}return t=r,n=o,e.multiple=!!a,void(null!=t?xt(e,!!a,t,!1):null!=n&&xt(e,!!a,n,!0));case"textarea":for(o in Iu("invalid",e),r=l=a=null,n)if(n.hasOwnProperty(o)&&null!=(s=n[o]))switch(o){case"value":a=s;break;case"defaultValue":l=s;break;case"children":r=s;break;case"dangerouslySetInnerHTML":if(null!=s)throw Error(i(91));break;default:Zu(e,t,o,s,n,null)}return kt(e,a,l,r),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(a=n[c]))if("selected"===c)e.selected=a&&"function"!==typeof a&&"symbol"!==typeof a;else Zu(e,t,c,a,n,null);return;case"dialog":Iu("beforetoggle",e),Iu("toggle",e),Iu("cancel",e),Iu("close",e);break;case"iframe":case"object":Iu("load",e);break;case"video":case"audio":for(a=0;a<Au.length;a++)Iu(Au[a],e);break;case"image":Iu("error",e),Iu("load",e);break;case"details":Iu("toggle",e);break;case"embed":case"source":case"link":Iu("error",e),Iu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(a=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Zu(e,t,u,a,n,null)}return;default:if(Ct(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(a=n[d])&&Ju(e,t,d,a,n,void 0));return}}for(s in n)n.hasOwnProperty(s)&&(null!=(a=n[s])&&Zu(e,t,s,a,n,null))}var td=null,nd=null;function rd(e){return 9===e.nodeType?e:e.ownerDocument}function ad(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ld(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function id(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var od=null;var sd="function"===typeof setTimeout?setTimeout:void 0,cd="function"===typeof clearTimeout?clearTimeout:void 0,ud="function"===typeof Promise?Promise:void 0,dd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ud?function(e){return ud.resolve(null).then(e).catch(fd)}:sd;function fd(e){setTimeout(function(){throw e})}function hd(e){return"head"===e}function pd(e,t){var n=t,r=0,a=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&8===l.nodeType)if("/$"===(n=l.data)){if(0<r&&8>r){n=r;var i=e.ownerDocument;if(1&n&&kd(i.documentElement),2&n&&kd(i.body),4&n)for(kd(n=i.head),i=n.firstChild;i;){var o=i.nextSibling,s=i.nodeName;i[Fe]||"SCRIPT"===s||"STYLE"===s||"LINK"===s&&"stylesheet"===i.rel.toLowerCase()||n.removeChild(i),i=o}}if(0===a)return e.removeChild(l),void jf(t);a--}else"$"===n||"$?"===n||"$!"===n?a++:r=n.charCodeAt(0)-48;else r=0;n=l}while(n);jf(t)}function md(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":md(n),qe(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function gd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function bd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var vd=null;function xd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function yd(e,t,n){switch(t=rd(n),e){case"html":if(!(e=t.documentElement))throw Error(i(452));return e;case"head":if(!(e=t.head))throw Error(i(453));return e;case"body":if(!(e=t.body))throw Error(i(454));return e;default:throw Error(i(451))}}function kd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);qe(e)}var wd=new Map,Sd=new Set;function zd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Nd=R.d;R.d={f:function(){var e=Nd.f(),t=Bc();return e||t},r:function(e){var t=Ue(e);null!==t&&5===t.tag&&"form"===t.type?Ti(t):Nd.r(e)},D:function(e){Nd.D(e),_d("dns-prefetch",e,null)},C:function(e,t){Nd.C(e,t),_d("preconnect",e,t)},L:function(e,t,n){Nd.L(e,t,n);var r=Cd;if(r&&e&&t){var a='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(a+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(a+='[imagesizes="'+mt(n.imageSizes)+'"]')):a+='[href="'+mt(e)+'"]';var l=a;switch(t){case"style":l=Ed(e);break;case"script":l=Td(e)}wd.has(l)||(e=f({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),wd.set(l,e),null!==r.querySelector(a)||"style"===t&&r.querySelector(Md(l))||"script"===t&&r.querySelector(Ld(l))||(ed(t=r.createElement("link"),"link",e),He(t),r.head.appendChild(t)))}},m:function(e,t){Nd.m(e,t);var n=Cd;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",a='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',l=a;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":l=Td(e)}if(!wd.has(l)&&(e=f({rel:"modulepreload",href:e},t),wd.set(l,e),null===n.querySelector(a))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ld(l)))return}ed(r=n.createElement("link"),"link",e),He(r),n.head.appendChild(r)}}},X:function(e,t){Nd.X(e,t);var n=Cd;if(n&&e){var r=We(n).hoistableScripts,a=Td(e),l=r.get(a);l||((l=n.querySelector(Ld(a)))||(e=f({src:e,async:!0},t),(t=wd.get(a))&&Id(e,t),He(l=n.createElement("script")),ed(l,"link",e),n.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},r.set(a,l))}},S:function(e,t,n){Nd.S(e,t,n);var r=Cd;if(r&&e){var a=We(r).hoistableStyles,l=Ed(e);t=t||"default";var i=a.get(l);if(!i){var o={loading:0,preload:null};if(i=r.querySelector(Md(l)))o.loading=5;else{e=f({rel:"stylesheet",href:e,"data-precedence":t},n),(n=wd.get(l))&&Od(e,n);var s=i=r.createElement("link");He(s),ed(s,"link",e),s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),s.addEventListener("load",function(){o.loading|=1}),s.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Rd(i,t,r)}i={type:"stylesheet",instance:i,count:1,state:o},a.set(l,i)}}},M:function(e,t){Nd.M(e,t);var n=Cd;if(n&&e){var r=We(n).hoistableScripts,a=Td(e),l=r.get(a);l||((l=n.querySelector(Ld(a)))||(e=f({src:e,async:!0,type:"module"},t),(t=wd.get(a))&&Id(e,t),He(l=n.createElement("script")),ed(l,"link",e),n.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},r.set(a,l))}}};var Cd="undefined"===typeof document?null:document;function _d(e,t,n){var r=Cd;if(r&&"string"===typeof t&&t){var a=mt(t);a='link[rel="'+e+'"][href="'+a+'"]',"string"===typeof n&&(a+='[crossorigin="'+n+'"]'),Sd.has(a)||(Sd.add(a),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(a)&&(ed(t=r.createElement("link"),"link",e),He(t),r.head.appendChild(t)))}}function jd(e,t,n,r){var a,l,o,s,c=(c=W.current)?zd(c):null;if(!c)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Ed(n.href),(r=(n=We(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Ed(n.href);var u=We(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Md(e)))&&!u._p&&(d.instance=u,d.state.loading=5),wd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},wd.set(e,n),u||(a=c,l=e,o=n,s=d.state,a.querySelector('link[rel="preload"][as="style"]['+l+"]")?s.loading=1:(l=a.createElement("link"),s.preload=l,l.addEventListener("load",function(){return s.loading|=1}),l.addEventListener("error",function(){return s.loading|=2}),ed(l,"link",o),He(l),a.head.appendChild(l))))),t&&null===r)throw Error(i(528,""));return d}if(t&&null!==r)throw Error(i(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Td(n),(r=(n=We(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Ed(e){return'href="'+mt(e)+'"'}function Md(e){return'link[rel="stylesheet"]['+e+"]"}function Pd(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function Td(e){return'[src="'+mt(e)+'"]'}function Ld(e){return"script[async]"+e}function Ad(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,He(r),r;var a=f({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return He(r=(e.ownerDocument||e).createElement("style")),ed(r,"style",a),Rd(r,n.precedence,e),t.instance=r;case"stylesheet":a=Ed(n.href);var l=e.querySelector(Md(a));if(l)return t.state.loading|=4,t.instance=l,He(l),l;r=Pd(n),(a=wd.get(a))&&Od(r,a),He(l=(e.ownerDocument||e).createElement("link"));var o=l;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),ed(l,"link",r),t.state.loading|=4,Rd(l,n.precedence,e),t.instance=l;case"script":return l=Td(n.src),(a=e.querySelector(Ld(l)))?(t.instance=a,He(a),a):(r=n,(a=wd.get(l))&&Id(r=f({},n),a),He(a=(e=e.ownerDocument||e).createElement("script")),ed(a,"link",r),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(i(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Rd(r,n.precedence,e));return t.instance}function Rd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=r.length?r[r.length-1]:null,l=a,i=0;i<r.length;i++){var o=r[i];if(o.dataset.precedence===t)l=o;else if(l!==a)break}l?l.parentNode.insertBefore(e,l.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Od(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Id(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Dd=null;function Fd(e,t,n){if(null===Dd){var r=new Map,a=Dd=new Map;a.set(n,r)}else(r=(a=Dd).get(n))||(r=new Map,a.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var l=n[a];if(!(l[Fe]||l[Te]||"link"===e&&"stylesheet"===l.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==l.namespaceURI){var i=l.getAttribute(t)||"";i=e+i;var o=r.get(i);o?o.push(l):r.set(i,[l])}}return r}function qd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Bd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Ud=null;function Kd(){}function Wd(){if(this.count--,0===this.count)if(this.stylesheets)Vd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Hd=null;function Vd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Hd=new Map,t.forEach(Qd,e),Hd=null,Wd.call(e))}function Qd(e,t){if(!(4&t.state.loading)){var n=Hd.get(e);if(n)var r=n.get(null);else{n=new Map,Hd.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),l=0;l<a.length;l++){var i=a[l];"LINK"!==i.nodeName&&"not all"===i.getAttribute("media")||(n.set(i.dataset.precedence,i),r=i)}r&&n.set(null,r)}i=(a=t.instance).getAttribute("data-precedence"),(l=n.get(i)||r)===r&&n.set(null,a),n.set(i,a),this.count++,r=Wd.bind(this),a.addEventListener("load",r),a.addEventListener("error",r),l?l.parentNode.insertBefore(a,l.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(a,e.firstChild),t.state.loading|=4}}var $d={$$typeof:k,Provider:null,Consumer:null,_currentValue:O,_currentValue2:O,_threadCount:0};function Gd(e,t,n,r,a,l,i,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ze(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ze(0),this.hiddenUpdates=ze(null),this.identifierPrefix=r,this.onUncaughtError=a,this.onCaughtError=l,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Xd(e,t,n,r,a,l,i,o,s,c,u,d){return e=new Gd(e,t,n,i,o,s,c,d),t=1,!0===l&&(t|=24),l=Or(3,null,null,t),e.current=l,l.stateNode=e,(t=La()).refCount++,e.pooledCache=t,t.refCount++,l.memoizedState={element:r,isDehydrated:n,cache:t},nl(l),e}function Yd(e){return e?e=Ar:Ar}function Zd(e,t,n,r,a,l){a=Yd(a),null===r.context?r.context=a:r.pendingContext=a,(r=al(t)).payload={element:n},null!==(l=void 0===l?null:l)&&(r.callback=l),null!==(n=ll(e,r,t))&&(Oc(n,0,t),il(n,e,t))}function Jd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ef(e,t){Jd(e,t),(e=e.alternate)&&Jd(e,t)}function tf(e){if(13===e.tag){var t=Pr(e,67108864);null!==t&&Oc(t,0,67108864),ef(e,67108864)}}var nf=!0;function rf(e,t,n,r){var a=A.T;A.T=null;var l=R.p;try{R.p=2,lf(e,t,n,r)}finally{R.p=l,A.T=a}}function af(e,t,n,r){var a=A.T;A.T=null;var l=R.p;try{R.p=8,lf(e,t,n,r)}finally{R.p=l,A.T=a}}function lf(e,t,n,r){if(nf){var a=of(r);if(null===a)Uu(e,t,r,sf,n),xf(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return ff=yf(ff,e,t,n,r,a),!0;case"dragenter":return hf=yf(hf,e,t,n,r,a),!0;case"mouseover":return pf=yf(pf,e,t,n,r,a),!0;case"pointerover":var l=a.pointerId;return mf.set(l,yf(mf.get(l)||null,e,t,n,r,a)),!0;case"gotpointercapture":return l=a.pointerId,gf.set(l,yf(gf.get(l)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(xf(e,r),4&t&&-1<vf.indexOf(e)){for(;null!==a;){var l=Ue(a);if(null!==l)switch(l.tag){case 3:if((l=l.stateNode).current.memoizedState.isDehydrated){var i=ve(l.pendingLanes);if(0!==i){var o=l;for(o.pendingLanes|=2,o.entangledLanes|=2;i;){var s=1<<31-he(i);o.entanglements[1]|=s,i&=~s}wu(l),0===(6&nc)&&(wc=te()+500,Su(0,!1))}}break;case 13:null!==(o=Pr(l,2))&&Oc(o,0,2),Bc(),ef(l,2)}if(null===(l=of(r))&&Uu(e,t,r,sf,n),l===a)break;a=l}null!==a&&r.stopPropagation()}else Uu(e,t,r,null,n)}}function of(e){return cf(e=Pt(e))}var sf=null;function cf(e){if(sf=null,null!==(e=Be(e))){var t=s(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return sf=e,null}function uf(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case ae:return 8;case le:case ie:return 32;case oe:return 268435456;default:return 32}default:return 32}}var df=!1,ff=null,hf=null,pf=null,mf=new Map,gf=new Map,bf=[],vf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xf(e,t){switch(e){case"focusin":case"focusout":ff=null;break;case"dragenter":case"dragleave":hf=null;break;case"mouseover":case"mouseout":pf=null;break;case"pointerover":case"pointerout":mf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gf.delete(t.pointerId)}}function yf(e,t,n,r,a,l){return null===e||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[a]},null!==t&&(null!==(t=Ue(t))&&tf(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function kf(e){var t=Be(e.target);if(null!==t){var n=s(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=R.p;try{return R.p=e,t()}finally{R.p=n}}(e.priority,function(){if(13===n.tag){var e=Ac();e=je(e);var t=Pr(n,e);null!==t&&Oc(t,0,e),ef(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function wf(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=of(e.nativeEvent);if(null!==n)return null!==(t=Ue(n))&&tf(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Mt=r,n.target.dispatchEvent(r),Mt=null,t.shift()}return!0}function Sf(e,t,n){wf(e)&&n.delete(t)}function zf(){df=!1,null!==ff&&wf(ff)&&(ff=null),null!==hf&&wf(hf)&&(hf=null),null!==pf&&wf(pf)&&(pf=null),mf.forEach(Sf),gf.forEach(Sf)}function Nf(e,t){e.blockedOn===t&&(e.blockedOn=null,df||(df=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,zf)))}var Cf=null;function _f(e){Cf!==e&&(Cf=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Cf===e&&(Cf=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],a=e[t+2];if("function"!==typeof r){if(null===cf(r||n))continue;break}var l=Ue(n);null!==l&&(e.splice(t,3),t-=3,Mi(l,{pending:!0,data:a,method:n.method,action:r},r,a))}}))}function jf(e){function t(t){return Nf(t,e)}null!==ff&&Nf(ff,e),null!==hf&&Nf(hf,e),null!==pf&&Nf(pf,e),mf.forEach(t),gf.forEach(t);for(var n=0;n<bf.length;n++){var r=bf[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<bf.length&&null===(n=bf[0]).blockedOn;)kf(n),null===n.blockedOn&&bf.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var a=n[r],l=n[r+1],i=a[Le]||null;if("function"===typeof l)i||_f(n);else if(i){var o=null;if(l&&l.hasAttribute("formAction")){if(a=l,i=l[Le]||null)o=i.formAction;else if(null!==cf(a))continue}else o=i.action;"function"===typeof o?n[r+1]=o:(n.splice(r,3),r-=3),_f(n)}}}function Ef(e){this._internalRoot=e}function Mf(e){this._internalRoot=e}Mf.prototype.render=Ef.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Zd(t.current,Ac(),e,t,null,null)},Mf.prototype.unmount=Ef.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Zd(e.current,2,null,e,null,null),Bc(),t[Ae]=null}},Mf.prototype.unstable_scheduleHydration=function(e){if(e){var t=Me();e={blockedOn:null,target:e,priority:t};for(var n=0;n<bf.length&&0!==t&&t<bf[n].priority;n++);bf.splice(n,0,e),0===n&&kf(e)}};var Pf=a.version;if("19.1.1"!==Pf)throw Error(i(527,Pf,"19.1.1"));R.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=s(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var l=a.alternate;if(null===l){if(null!==(r=a.return)){n=r;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===n)return u(a),e;if(l===r)return u(a),t;l=l.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=l;else{for(var o=!1,c=a.child;c;){if(c===n){o=!0,n=a,r=l;break}if(c===r){o=!0,r=a,n=l;break}c=c.sibling}if(!o){for(c=l.child;c;){if(c===n){o=!0,n=l,r=a;break}if(c===r){o=!0,r=l,n=a;break}c=c.sibling}if(!o)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Tf={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.1.1"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Lf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lf.isDisabled&&Lf.supportsFiber)try{ue=Lf.inject(Tf),de=Lf}catch(Rf){}}t.createRoot=function(e,t){if(!o(e))throw Error(i(299));var n=!1,r="",a=vo,l=xo,s=yo;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(a=t.onUncaughtError),void 0!==t.onCaughtError&&(l=t.onCaughtError),void 0!==t.onRecoverableError&&(s=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Xd(e,1,!1,null,0,n,r,a,l,s,0,null),e[Ae]=t.current,qu(e),new Ef(t)},t.hydrateRoot=function(e,t,n){if(!o(e))throw Error(i(299));var r=!1,a="",l=vo,s=xo,c=yo,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onUncaughtError&&(l=n.onUncaughtError),void 0!==n.onCaughtError&&(s=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Xd(e,1,!0,t,0,r,a,l,s,c,0,u)).context=Yd(null),n=t.current,(a=al(r=je(r=Ac()))).callback=null,ll(n,a,r),n=r,t.current.lanes=n,Ne(t,n),wu(t),e[Ae]=t.current,qu(e),new Mf(t)},t.version="19.1.1"},43:(e,t,n)=>{e.exports=n(288)},288:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=b.prototype;var y=x.prototype=new v;y.constructor=x,m(y,b.prototype),y.isPureReactComponent=!0;var k=Array.isArray,w={H:null,A:null,T:null,S:null,V:null},S=Object.prototype.hasOwnProperty;function z(e,t,r,a,l,i){return r=i.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:i}}function N(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function _(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function j(){}function E(e,t,a,l,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var s,c,u=!1;if(null===e)u=!0;else switch(o){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case f:return E((u=e._init)(e._payload),t,a,l,i)}}if(u)return i=i(e),u=""===l?"."+_(e,0):l,k(i)?(a="",null!=u&&(a=u.replace(C,"$&/")+"/"),E(i,t,a,"",function(e){return e})):null!=i&&(N(i)&&(s=i,c=a+(null==i.key||e&&e.key===i.key?"":(""+i.key).replace(C,"$&/")+"/")+u,i=z(s.type,c,void 0,0,0,s.props)),t.push(i)),1;u=0;var d,p=""===l?".":l+":";if(k(e))for(var m=0;m<e.length;m++)u+=E(l=e[m],t,a,o=p+_(l,m),i);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=h&&d[h]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(l=e.next()).done;)u+=E(l=l.value,t,a,o=p+_(l,m++),i);else if("object"===o){if("function"===typeof e.then)return E(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(j,j):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,a,l,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function M(e,t,n){if(null==e)return e;var r=[],a=0;return E(e,r,"","",function(e){return t.call(n,e,a++)}),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var T="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function L(){}t.Children={map:M,forEach:function(e,t,n){M(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return M(e,function(){t++}),t},toArray:function(e){return M(e,function(e){return e})||[]},only:function(e){if(!N(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=b,t.Fragment=a,t.Profiler=i,t.PureComponent=x,t.StrictMode=l,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return w.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),a=e.key;if(null!=t)for(l in void 0!==t.ref&&void 0,void 0!==t.key&&(a=""+t.key),t)!S.call(t,l)||"key"===l||"__self"===l||"__source"===l||"ref"===l&&void 0===t.ref||(r[l]=t[l]);var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){for(var i=Array(l),o=0;o<l;o++)i[o]=arguments[o+2];r.children=i}return z(e.type,a,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var r,a={},l=null;if(null!=t)for(r in void 0!==t.key&&(l=""+t.key),t)S.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(a[r]=t[r]);var i=arguments.length-2;if(1===i)a.children=n;else if(1<i){for(var o=Array(i),s=0;s<i;s++)o[s]=arguments[s+2];a.children=o}if(e&&e.defaultProps)for(r in i=e.defaultProps)void 0===a[r]&&(a[r]=i[r]);return z(e,l,void 0,0,0,a)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=w.T,n={};w.T=n;try{var r=e(),a=w.S;null!==a&&a(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(L,T)}catch(l){T(l)}finally{w.T=t}},t.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},t.use=function(e){return w.H.use(e)},t.useActionState=function(e,t,n){return w.H.useActionState(e,t,n)},t.useCallback=function(e,t){return w.H.useCallback(e,t)},t.useContext=function(e){return w.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return w.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=w.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return w.H.useId()},t.useImperativeHandle=function(e,t,n){return w.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return w.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return w.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return w.H.useMemo(e,t)},t.useOptimistic=function(e,t){return w.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return w.H.useReducer(e,t,n)},t.useRef=function(e){return w.H.useRef(e)},t.useState=function(e){return w.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return w.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return w.H.useTransition()},t.version="19.1.1"},391:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579:(e,t,n)=>{e.exports=n(799)},672:(e,t,n)=>{var r=n(43);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var i={d:{f:l,r:function(){throw Error(a(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},o=Symbol.for("react.portal");var s=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(a(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=s.T,n=i.p;try{if(s.T=null,i.p=2,e)return e()}finally{s.T=t,i.p=n,i.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,i.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&i.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),a="string"===typeof t.integrity?t.integrity:void 0,l="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?i.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:l}):"script"===n&&i.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:l,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&i.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);i.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);i.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else i.d.m(e)},t.requestFormReset=function(e){i.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return s.H.useFormState(e,t,n)},t.useFormStatus=function(){return s.H.useHostTransitionStatus()},t.version="19.1.1"},799:(e,t)=>{var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(e,t,r){var a=null;if(void 0!==r&&(a=""+r),void 0!==t.key&&(a=""+t.key),"key"in t)for(var l in r={},t)"key"!==l&&(r[l]=t[l]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:a,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=a,t.jsxs=a},853:(e,t,n)=>{e.exports=n(896)},896:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<l(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,i=a>>>1;r<i;){var o=2*(r+1)-1,s=e[o],c=o+1,u=e[c];if(0>l(s,n))c<a&&0>l(u,s)?(e[r]=u,e[c]=n,r=c):(e[r]=s,e[o]=n,r=o);else{if(!(c<a&&0>l(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function l(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var c=[],u=[],d=1,f=null,h=3,p=!1,m=!1,g=!1,b=!1,v="function"===typeof setTimeout?setTimeout:null,x="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,k(e),!m)if(null!==r(c))m=!0,z||(z=!0,S());else{var t=r(u);null!==t&&T(w,t.startTime-e)}}var S,z=!1,N=-1,C=5,_=-1;function j(){return!!b||!(t.unstable_now()-_<C)}function E(){if(b=!1,z){var e=t.unstable_now();_=e;var n=!0;try{e:{m=!1,g&&(g=!1,x(N),N=-1),p=!0;var l=h;try{t:{for(k(e),f=r(c);null!==f&&!(f.expirationTime>e&&j());){var i=f.callback;if("function"===typeof i){f.callback=null,h=f.priorityLevel;var o=i(f.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){f.callback=o,k(e),n=!0;break t}f===r(c)&&a(c),k(e)}else a(c);f=r(c)}if(null!==f)n=!0;else{var s=r(u);null!==s&&T(w,s.startTime-e),n=!1}}break e}finally{f=null,h=l,p=!1}n=void 0}}finally{n?S():z=!1}}}if("function"===typeof y)S=function(){y(E)};else if("undefined"!==typeof MessageChannel){var M=new MessageChannel,P=M.port2;M.port1.onmessage=E,S=function(){P.postMessage(null)}}else S=function(){v(E,0)};function T(e,n){N=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_requestPaint=function(){b=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,a,l){var i=t.unstable_now();switch("object"===typeof l&&null!==l?l="number"===typeof(l=l.delay)&&0<l?i+l:i:l=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:l,expirationTime:o=l+o,sortIndex:-1},l>i?(e.sortIndex=l,n(u,e),null===r(c)&&e===r(u)&&(g?(x(N),N=-1):g=!0,T(w,l-i))):(e.sortIndex=o,n(c,e),m||p||(m=!0,z||(z=!0,S()))),e},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var l=t[r]={exports:{}};return e[r](l,l.exports,n),l.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".e38180fe.chunk.js",n.miniCssF=e=>{},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="astralsquares:";n.l=(r,a,l,i)=>{if(e[r])e[r].push(a);else{var o,s;if(void 0!==l)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+l){o=d;break}}o||(s=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+l),o.src=r),e[r]=[a];var f=(t,n)=>{o.onerror=o.onload=null,clearTimeout(h);var a=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),a&&a.forEach(e=>e(n)),t)return t(n)},h=setTimeout(f.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=f.bind(null,o.onerror),o.onload=f.bind(null,o.onload),s&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/AstralSquares/",(()=>{var e={792:0};n.f.j=(t,r)=>{var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var l=new Promise((n,r)=>a=e[t]=[n,r]);r.push(a[2]=l);var i=n.p+n.u(t),o=new Error;n.l(i,r=>{if(n.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var l=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+l+": "+i+")",o.name="ChunkLoadError",o.type=l,o.request=i,a[1](o)}},"chunk-"+t,t)}};var t=(t,r)=>{var a,l,i=r[0],o=r[1],s=r[2],c=0;if(i.some(t=>0!==e[t])){for(a in o)n.o(o,a)&&(n.m[a]=o[a]);if(s)s(n)}for(t&&t(r);c<i.length;c++)l=i[c],n.o(e,l)&&e[l]&&e[l][0](),e[l]=0},r=self.webpackChunkastralsquares=self.webpackChunkastralsquares||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n(43),a=n(391);n.p;function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function i(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}function o(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var u=n(579);function d(e){let{headerContent:t,sidebar:n=null,footer:r=null,children:a}=e;return(0,u.jsxs)("div",{className:"w-full min-h-screen bg-white dark:bg-zinc-950 text-zinc-900 dark:text-zinc-100 overflow-x-hidden",children:[(0,u.jsx)("header",{className:"w-full border-b border-zinc-200 dark:border-zinc-800 bg-white/80 dark:bg-zinc-950/80 backdrop-blur supports-[backdrop-filter]:bg-white/60 supports-[backdrop-filter]:dark:bg-zinc-950/60",children:(0,u.jsx)("div",{className:"mx-auto max-w-6xl px-4 py-3",children:t||null})}),(0,u.jsxs)("main",{className:"mx-auto max-w-none md:max-w-6xl px-0 md:px-6 py-4 grid grid-cols-1 md:grid-cols-[320px_minmax(0,1fr)] gap-4",children:[n?(0,u.jsx)("aside",{className:"order-2 md:order-1 md:sticky md:top-4 md:self-start overflow-visible",children:n}):null,(0,u.jsx)("section",{className:n?"order-1 md:order-2":"col-span-1",children:a})]}),r?(0,u.jsx)("footer",{className:"w-full border-t border-zinc-200 dark:border-zinc-800 bg-white dark:bg-zinc-950",children:(0,u.jsx)("div",{className:"mx-auto max-w-6xl px-4 py-3",children:r})}):null]})}const f={classicWood:{light:"#F0D9B5",dark:"#B58863",texture:"classicWood"},walnut:{light:"#D6BB90",dark:"#6F4628",texture:"wood"},glassyWood:{light:"#E2C9A6",dark:"#7A4B28",texture:"woodGlass"},ice:{light:"#EEF6FF",dark:"#255CA5",texture:"ice"},grass:{light:"#E6F4E6",dark:"#0C6139",texture:"grass"}},h=["a","b","c","d","e","f","g","h"],p=[1,2,3,4,5,6,7,8],m=e=>h.indexOf(e),g=e=>e-1,b=(e,t)=>(m(e)+g(t))%2===1;function v(e,t){switch(e){case"classicWood":return{backgroundImage:"\n          repeating-linear-gradient(90deg,\n            rgba(0,0,0,".concat(t?".04":".07",") 0 2px,\n            rgba(0,0,0,0) 2px 10px\n          ),\n          repeating-linear-gradient(0deg,\n            rgba(255,255,255,").concat(t?".12":".06",") 0 6px,\n            rgba(255,255,255,0) 6px 22px\n          )\n        "),backgroundSize:"36px 100%, 100% 36px",backgroundBlendMode:"multiply, soft-light"};case"wood":return{backgroundImage:"\n          repeating-linear-gradient(90deg,\n            rgba(0,0,0,".concat(t?".025":".05",") 0 2px,\n            rgba(0,0,0,0) 2px 9px\n          )\n        "),backgroundBlendMode:"multiply"};case"woodGlass":return{backgroundImage:"\n          repeating-linear-gradient(90deg,\n            rgba(0,0,0,".concat(t?".04":".075",") 0 2px,\n            rgba(0,0,0,0) 2px 9px\n          ),\n          linear-gradient(135deg, rgba(255,255,255,").concat(t?".25":".08",") 0%, rgba(255,255,255,0) 60%)\n        "),backgroundBlendMode:"multiply, soft-light"};case"ice":return{backgroundImage:"linear-gradient(180deg, rgba(255,255,255,.5), rgba(255,255,255,0) 60%)",backgroundBlendMode:"soft-light"};case"grass":return{backgroundImage:"\n          radial-gradient(rgba(0,0,0,".concat(t?".02":".05",") 1px, transparent 1px),\n          radial-gradient(rgba(255,255,255,").concat(t?".25":".05",") 1px, transparent 1px)\n        "),backgroundPosition:"0 0, 2px 2px",backgroundSize:"6px 6px, 6px 6px",backgroundBlendMode:"multiply"};default:return{}}}function x(e,t,n){return c(c({backgroundColor:e?n.light:n.dark},v(n.texture,e)),{},{transition:"transform 120ms ease-out",willChange:"transform"})}function y(e){return{color:"rgba(26,18,10,.95)",fontVariantNumeric:"tabular-nums",fontWeight:900,letterSpacing:"0.02em",textShadow:"0 1px 0 rgba(255,255,255,.4), 0 2px 6px rgba(0,0,0,.12)",fontSize:Math.max(12,Math.floor(.2*e)),lineHeight:1}}function k(e){return{color:"#3B2A1A",fontWeight:900,letterSpacing:"0.01em",textTransform:"lowercase",textShadow:"0 2px 8px rgba(0,0,0,.15), 0 1px 0 rgba(255,255,255,.6)",fontSize:Math.max(18,Math.floor(.6*e)),lineHeight:1,opacity:.9}}function w(e,t){const n="light"===e;return c(c({backgroundColor:n?t.light:t.dark},v(t.texture,n)),{},{color:n?"#111827":"#ffffff",border:n?"2px solid rgba(0,0,0,.15)":"2px solid rgba(0,0,0,.25)",textShadow:n?"0 1px 0 rgba(255,255,255,.5)":"0 1px 0 rgba(0,0,0,.25)",boxShadow:"inset 0 1px 0 rgba(255,255,255,.15), 0 6px 18px rgba(0,0,0,.14)",backgroundBlendMode:"multiply, soft-light"})}function S(e){let{containerRef:t,themeVars:n,viewFiles:a,viewRanks:l,phase:i,target:o,lastResult:s,restricted:d,activeStart:f,activeSize:h,revealMode:p,onSquareClick:v,showLabels:w}=e;const[S,z]=(0,r.useState)(520),[N,C]=(0,r.useState)(!1);(0,r.useEffect)(()=>{if(!t.current)return;const e=t.current,n=()=>{const t=window.innerWidth<768;if(C(t),t){const e=Math.max(260,window.innerWidth);z(Math.floor(e))}else{const t=24,n=8,r=8,a=Math.max(260,e.clientWidth-t-n-r),l=160,i=110,o=Math.max(300,window.innerHeight-l-i);z(Math.floor(Math.min(a,o)))}document.documentElement.style.overflowX="hidden",document.body.style.overflowX="hidden"};n();const r=new ResizeObserver(n);return r.observe(e),window.addEventListener("resize",n),()=>{r.disconnect(),window.removeEventListener("resize",n)}},[t]);const _=l.length,j=a.length,E=S/Math.max(_,j),M="#d4d4d8",P=(0,r.useCallback)((e,t)=>{if(!o)return!1;if("board"===p)return!0;if("square"===p)return e===o.r&&t===o.c;if("2x2"===p){const n=Math.min(o.r+1,_-1),r=Math.min(o.c+1,j-1);return e>=o.r&&e<=n&&t>=o.c&&t<=r}const n=Math.max(0,o.r-1),r=Math.max(0,o.c-1),a=Math.min(_-1,o.r+1),l=Math.min(j-1,o.c+1);return e>=n&&e<=a&&t>=r&&t<=l},[o,p,_,j]),T=(0,r.useCallback)((e,t)=>{if(!d)return!0;const n=f.file,r=f.rank;return e>=n&&e<=n+h-1&&t>=r&&t<=r+h-1},[d,f.file,f.rank,h]);return(0,u.jsx)("div",{className:"w-full flex justify-center items-center",children:(0,u.jsxs)("div",{className:"grid gap-2 max-w-full",style:{gridTemplateColumns:N?"1fr":"auto 1fr",gridTemplateRows:N?"1fr":"1fr auto"},children:[!N&&(0,u.jsx)("div",{className:"flex flex-col justify-between pr-1 select-none text-zinc-900 dark:text-zinc-100",style:{gridColumn:1,gridRow:1},children:l.map((e,t)=>(0,u.jsx)("div",{className:"flex items-center justify-center font-bold",style:{height:S/_,width:24},"aria-hidden":!0,children:w?e:""},"rank-".concat(e,"-").concat(t)))}),(0,u.jsx)("div",{className:"rounded-2xl overflow-hidden relative bg-white dark:bg-zinc-900",style:{width:S,height:S,gridColumn:N?"1":"2",gridRow:1},children:(0,u.jsx)("div",{className:"w-full h-full grid",style:{gridTemplateColumns:"repeat(".concat(j,", 1fr)"),gridTemplateRows:"repeat(".concat(_,", 1fr)"),gap:"mesh"===i?1:0,backgroundColor:"mesh"===i?"#a1a1aa":"transparent"},role:"grid","aria-label":"Eagle Eye board",children:Array.from({length:_}).map((e,t)=>Array.from({length:j}).map((e,r)=>{const f=a[r],h=l[t],p=b(f,h);let S;if("mesh"===i)S={backgroundColor:M,border:"0.1px solid black"};else if("reveal"===i){S=P(t,r)?x(p,0,n):{backgroundColor:M}}else S=x(p,0,n);const z=T(m(f),g(h)),C=0===r,j=t===_-1,L=o&&o.r===t&&o.c===r,A=Math.max(4,Math.floor(.08*E)),R="correct"===s?"#228B22":"rgba(244,63,94,.95)";return(0,u.jsxs)("button",{className:"relative",style:c(c({},S),{},{cursor:"pointer",transform:"translateZ(0)"}),onMouseDown:e=>e.currentTarget.style.transform="scale(0.985)",onMouseUp:e=>e.currentTarget.style.transform="translateZ(0)",onMouseLeave:e=>e.currentTarget.style.transform="translateZ(0)",onClick:()=>null===v||void 0===v?void 0:v(t,r),role:"gridcell","aria-label":"".concat(f).concat(h),children:[d&&!z&&(0,u.jsx)("div",{className:"absolute inset-0 bg-black/40 pointer-events-none"}),"mesh"===i&&o&&L&&(0,u.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none select-none",children:(0,u.jsx)("div",{style:k(E),children:"".concat(f).concat(h)})}),"reveal"===i&&L&&(0,u.jsx)("div",{className:"absolute inset-0 pointer-events-none",style:{boxShadow:"inset 0 0 0 ".concat(A,"px ").concat(R)}}),N&&w&&"mesh"!==i&&(0,u.jsxs)(u.Fragment,{children:[C&&(0,u.jsx)("span",{className:"absolute select-none",style:c(c({},y(E)),{},{top:Math.max(3,Math.floor(.06*E)),left:Math.max(5,Math.floor(.07*E)),zIndex:1}),"aria-hidden":!0,children:h}),j&&(0,u.jsx)("span",{className:"absolute select-none",style:c(c({},y(E)),{},{right:Math.max(5,Math.floor(.07*E)),bottom:Math.max(3,Math.floor(.06*E)),zIndex:1,textTransform:"lowercase"}),"aria-hidden":!0,children:f})]})]},"".concat(f).concat(h))}))})}),!N&&(0,u.jsxs)("div",{className:"flex gap-0 select-none text-zinc-900 dark:text-zinc-100",style:{gridColumn:"1 / span 2",gridRow:2,width:S+24},children:[(0,u.jsx)("div",{style:{width:24},"aria-hidden":!0}),(0,u.jsx)("div",{className:"grid w-full",style:{gridTemplateColumns:"repeat(".concat(j,", 1fr)")},children:a.map(e=>(0,u.jsx)("div",{className:"flex items-center justify-center font-bold",style:{height:24},"aria-hidden":!0,children:w?e:""},"file-".concat(e)))})]})]})})}function z(e){let{phase:t,lastResult:n,target:r,viewFiles:a,viewRanks:l}=e;return(0,u.jsx)("div",{className:"w-full flex justify-center items-center",children:(0,u.jsx)("div",{className:"rounded-xl border bg-white dark:bg-zinc-900 border-zinc-200 dark:border-zinc-800 overflow-hidden grid place-items-center",style:{width:"min(90vmin, 600px)",aspectRatio:"1 / 1"},children:(0,u.jsx)("div",{className:"w-full max-w-sm px-4",children:(0,u.jsx)("div",{className:"rounded-2xl border border-zinc-200 dark:border-zinc-800 bg-white dark:bg-zinc-900 p-4 shadow-sm",children:(0,u.jsxs)("div",{className:"text-center text-zinc-900 dark:text-zinc-100",children:["mesh"===t&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"text-4xl font-black tracking-tight",children:r?"".concat(a[r.c]).concat(l[r.r]):"e4"}),(0,u.jsxs)("div",{className:"mt-1 text-sm text-zinc-600 dark:text-zinc-400",children:["Press ",(0,u.jsx)("span",{className:"px-2 py-0.5 rounded-full border text-xs",children:"L \u2190 / D \u2192"})," or use the buttons."]})]}),"reveal"===t&&(0,u.jsx)("div",{className:"text-sm font-semibold",style:{color:"correct"===n?"#10b981":"#f43f5e"},children:"correct"===n?"Correct":"Wrong"}),"idle"===t&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"text-3xl font-black tracking-tight",children:"Ready?"}),(0,u.jsxs)("div",{className:"mt-1 text-sm text-zinc-600 dark:text-zinc-400",children:["Press ",(0,u.jsx)("span",{className:"px-2 py-0.5 rounded-full border text-xs",children:"Start"})," to begin."]})]})]})})})})})}function N(){const[e,t]=(0,r.useState)("classicWood"),n=f[e]||f.classicWood,[a,l]=(0,r.useState)(!0),[i,o]=(0,r.useState)(1),[s,v]=(0,r.useState)("board"),[x,y]=(0,r.useState)(300),[k,N]=(0,r.useState)(!0),[C,_]=(0,r.useState)(!1),[j,E]=(0,r.useState)(60),[M,P]=(0,r.useState)(60),[T,L]=(0,r.useState)(!1),[A,R]=(0,r.useState)("idle"),[O,I]=(0,r.useState)(null),[D,F]=(0,r.useState)(null),[q,B]=(0,r.useState)(0),[U,K]=(0,r.useState)(8),[W,H]=(0,r.useState)(!1),[V,Q]=(0,r.useState)({file:0,rank:0}),$=Math.min(Math.max(U,3),8),G=V,X=$,Y=(0,r.useMemo)(()=>h,[]),Z=(0,r.useMemo)(()=>[...p].reverse(),[]),J=(0,r.useRef)(null);(0,r.useEffect)(()=>{if(T)return P(j),J.current&&clearInterval(J.current),J.current=setInterval(()=>{P(e=>e<=1?(clearInterval(J.current),J.current=null,L(!1),R("idle"),I(null),F(null),0):e-1)},1e3),()=>{J.current&&(clearInterval(J.current),J.current=null)}},[T,j]);const ee=(0,r.useCallback)(()=>{let e,t;W?(e=G.file+Math.floor(Math.random()*X),t=G.rank+Math.floor(Math.random()*X)):(e=Math.floor(8*Math.random()),t=Math.floor(8*Math.random()));const n=h[e],r=t+1,a=Y.indexOf(n),l=Z.indexOf(r);I({r:l,c:a})},[W,G.file,G.rank,X,Y,Z]),te=(0,r.useCallback)(()=>{B(0),F(null),L(!0),R("mesh"),P(j),ee(),_(!1)},[j,ee]),ne=(0,r.useCallback)(()=>{L(!1),R("idle"),I(null),F(null),J.current&&(clearInterval(J.current),J.current=null)},[]);(0,r.useEffect)(()=>{T&&ee()},[T,W,G.file,G.rank,X,ee]),(0,r.useEffect)(()=>{Q(e=>{const t=Math.min(Math.max(0,e.file),8-$),n=Math.min(Math.max(0,e.rank),8-$);return t===e.file&&n===e.rank?e:{file:t,rank:n}})},[$]);(0,r.useEffect)(()=>{function e(e){if((e=>{if(!e)return!1;const t=e.tagName;return e.isContentEditable||"INPUT"===t||"TEXTAREA"===t||"SELECT"===t})(e.target))return;const t=e.key.toLowerCase();if(" "===t||"Spacebar"===e.key)return e.preventDefault(),void(T?ne():te());const n=T&&"mesh"===A&&O;return!n||"l"!==t&&"ArrowRight"!==e.key?!n||"d"!==t&&"ArrowLeft"!==e.key?void 0:(e.preventDefault(),void le("dark")):(e.preventDefault(),void le("light"))}return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[T,A,O,te,ne]);const re=(0,r.useRef)(null);function ae(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:440,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.12,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"sine",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.08;!function(){if(!re.current){const e=window.AudioContext||window.webkitAudioContext;re.current=new e}"suspended"===re.current.state&&re.current.resume()}();const l=re.current;if(!l)return;const i=l.createOscillator(),o=l.createGain();i.type=r,i.frequency.value=e,i.connect(o),o.connect(l.destination);const s=l.currentTime+t,c=s+n,u=Math.max(1e-4,a*Math.min(1,Math.max(0,.75)));o.gain.setValueAtTime(u,s),o.gain.exponentialRampToValueAtTime(1e-4,c),i.start(s),i.stop(c+.01)}const le=e=>{if("mesh"!==A||!O)return;const t=Y[O.c],n=Z[O.r],r=b(t,n),a="light"===e&&r||"dark"===e&&!r;F(a?"correct":"incorrect"),B(e=>e+(a?1:0)),function(e){e?(ae(660,0,.1,"sine",.08),ae(880,.1,.12,"sine",.08)):(ae(220,0,.1,"square",.07),ae(160,.09,.14,"square",.07))}(a),R("reveal");const l=Math.max(100,x);setTimeout(()=>{T&&(!a&&k?(R("mesh"),F(null)):(R("mesh"),F(null),ee()))},l)},ie=(0,r.useCallback)((e,t)=>{if(!W)return;const n=Y[t],r=Z[e],a=m(n),l=g(r),i=Math.min(Math.max(0,a),8-$),o=Math.min(Math.max(0,l),8-$);Q({file:i,rank:o}),T&&ee()},[W,Y,Z,$,T,ee]),oe=(0,u.jsxs)("div",{className:"grid gap-4",children:[(0,u.jsxs)("div",{className:"rounded-xl border border-zinc-200 dark:border-zinc-800 p-3 shadow-sm bg-white dark:bg-zinc-900",children:[(0,u.jsx)("div",{className:"text-xs font-bold uppercase tracking-wide text-zinc-500 dark:text-zinc-400 mb-2",children:"Gameplay"}),(0,u.jsxs)("div",{className:"grid gap-3",children:[(0,u.jsxs)("label",{className:"grid gap-1",children:[(0,u.jsx)("span",{className:"text-sm text-zinc-800 dark:text-zinc-100",children:"Mode"}),(0,u.jsxs)("select",{className:"rounded-lg border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 text-zinc-900 dark:text-zinc-100 px-2 py-1",value:i,onChange:e=>o(Number(e.target.value)),children:[(0,u.jsx)("option",{value:1,children:"Mode 1 \u2014 Board visible"}),(0,u.jsx)("option",{value:2,children:"Mode 2 \u2014 Prompt only"})]})]}),(0,u.jsxs)("div",{className:"grid gap-1",children:[(0,u.jsxs)("label",{className:"text-sm text-zinc-800 dark:text-zinc-100",children:["Reveal length (ms): ",x]}),(0,u.jsx)("input",{className:"w-full accent-zinc-900 dark:accent-zinc-100",type:"range",min:300,max:2e3,step:50,value:x,onChange:e=>y(Number(e.target.value))})]}),(0,u.jsxs)("label",{className:"grid gap-1",children:[(0,u.jsx)("span",{className:"text-sm text-zinc-800 dark:text-zinc-100",children:"Reveal Mode"}),(0,u.jsxs)("select",{className:"rounded-lg border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 text-zinc-900 dark:text-zinc-100 px-2 py-1",value:s,onChange:e=>v(e.target.value),children:[(0,u.jsx)("option",{value:"square",children:"Only selected square"}),(0,u.jsx)("option",{value:"2x2",children:"2\xd72 patch"}),(0,u.jsx)("option",{value:"3x3",children:"3\xd73 patch"}),(0,u.jsx)("option",{value:"board",children:"Full board"})]})]})]})]}),(0,u.jsxs)("div",{className:"rounded-xl border border-zinc-200 dark:border-zinc-800 p-3 shadow-sm bg-white dark:bg-zinc-900",children:[(0,u.jsx)("div",{className:"text-xs font-bold uppercase tracking-wide text-zinc-500 dark:text-zinc-400 mb-2",children:"Board"}),(0,u.jsxs)("div",{className:"grid gap-3",children:[(0,u.jsxs)("label",{className:"grid gap-1",children:[(0,u.jsx)("span",{className:"text-sm text-zinc-800 dark:text-zinc-100",children:"Theme"}),(0,u.jsx)("select",{className:"rounded-lg border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 text-zinc-900 dark:text-zinc-100 px-2 py-1",value:e,onChange:e=>t(e.target.value),children:Object.keys(f).map(e=>(0,u.jsx)("option",{value:e,children:e},e))})]}),(0,u.jsxs)("div",{className:"grid gap-1",children:[(0,u.jsx)("span",{className:"text-sm text-zinc-800 dark:text-zinc-100",children:"Restricted size (n\xd7n)"}),(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)("button",{className:"w-8 h-8 rounded-full border border-zinc-300 dark:border-zinc-700",onClick:()=>K(e=>Math.max(3,e-1)),children:"\u2212"}),(0,u.jsxs)("div",{className:"w-20 text-center font-black",children:[U,"\xd7",U]}),(0,u.jsx)("button",{className:"w-8 h-8 rounded-full border border-zinc-300 dark:border-zinc-700",onClick:()=>K(e=>Math.min(8,e+1)),children:"+"})]})]}),(0,u.jsxs)("label",{className:"inline-flex items-center gap-2 text-sm text-zinc-800 dark:text-zinc-100",children:[(0,u.jsx)("input",{type:"checkbox",checked:W,onChange:()=>H(e=>!e)}),"Restricted sub-board"]}),(0,u.jsxs)("label",{className:"inline-flex items-center gap-2 text-sm text-zinc-800 dark:text-zinc-100",children:[(0,u.jsx)("input",{type:"checkbox",checked:a,onChange:()=>l(e=>!e)}),"Show rank/file labels"]})]})]})]}),se=(0,u.jsx)("div",{className:"hidden md:block overflow-auto max-h-[70vh] pr-1",children:oe}),ce=()=>{if(T)return(0,u.jsxs)("div",{className:"w-full grid grid-cols-2 gap-3 items-center",children:[(0,u.jsx)("button",{className:"h-16 rounded-2xl font-black shadow-sm active:scale-[.99] transition-transform",onClick:()=>le("dark"),disabled:!T||"mesh"!==A||!O,style:c(c({},w("dark",n)),{},{opacity:T&&"mesh"===A&&O?1:.6}),children:"Dark"}),(0,u.jsx)("button",{className:"h-16 rounded-2xl font-black shadow-sm active:scale-[.99] transition-transform",onClick:()=>le("light"),disabled:!T||"mesh"!==A||!O,style:c(c({},w("light",n)),{},{opacity:T&&"mesh"===A&&O?1:.6}),children:"Light"})]})},ue=(0,u.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,u.jsxs)("div",{className:"text-base md:text-lg font-semibold",children:[(0,u.jsx)("span",{className:"text-zinc-700 dark:text-zinc-300",children:"Score:"})," ",(0,u.jsx)("span",{className:"font-black text-zinc-900 dark:text-zinc-100",children:q})]}),T?(0,u.jsx)("button",{onClick:ne,className:"rounded-xl px-4 py-2 font-semibold text-white shadow-sm active:scale-[.99]",style:{backgroundColor:"#8B5A2B"},children:"Stop"}):(0,u.jsx)("button",{onClick:te,className:"rounded-xl px-4 py-2 font-semibold text-white shadow-sm active:scale-[.99]",style:{backgroundColor:"#7E8F64"},children:"Start"}),(0,u.jsx)("button",{className:"md:hidden rounded-lg px-3 py-2 text-sm border border-zinc-300 dark:border-zinc-700",onClick:()=>_(!0),style:{background:"#EAD6B7",color:"#3B2A1A"},children:"Controls"}),(0,u.jsxs)("div",{className:"text-base md:text-lg font-semibold",children:[(0,u.jsx)("span",{className:"text-zinc-700 dark:text-zinc-300",children:"Timer:"})," ",(0,u.jsx)("span",{className:"font-black text-zinc-900 dark:text-zinc-100",children:M})]})]}),de=(0,r.useRef)(null);return(0,u.jsxs)(d,{headerContent:ue,sidebar:se,footer:(0,u.jsx)(ce,{}),children:[(0,u.jsx)("div",{ref:de,className:"w-full overflow-visible",children:1===i?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"md:hidden",style:{width:"100vw",marginLeft:"calc(50% - 50vw)",marginRight:"calc(50% - 50vw)"},children:(0,u.jsx)(S,{containerRef:de,themeVars:n,viewFiles:Y,viewRanks:Z,phase:A,target:O,lastResult:D,restricted:W,activeStart:V,activeSize:$,revealMode:s,onSquareClick:ie,showLabels:a})}),(0,u.jsx)("div",{className:"hidden md:block",children:(0,u.jsx)(S,{containerRef:de,themeVars:n,viewFiles:Y,viewRanks:Z,phase:A,target:O,lastResult:D,restricted:W,activeStart:V,activeSize:$,revealMode:s,onSquareClick:ie,showLabels:a})})]}):(0,u.jsx)(z,{phase:A,lastResult:D,target:O,viewFiles:Y,viewRanks:Z})}),C&&(0,u.jsxs)("div",{className:"fixed inset-0 z-50 md:hidden",children:[(0,u.jsx)("div",{className:"absolute inset-0 bg-black/40",onClick:()=>_(!1)}),(0,u.jsxs)("div",{className:"absolute left-0 right-0 bottom-0 rounded-t-2xl bg-white dark:bg-zinc-950 border-t border-zinc-200 dark:border-zinc-800 p-4 max-h-[70vh] overflow-auto",children:[(0,u.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,u.jsx)("h3",{className:"text-sm font-semibold text-zinc-900 dark:text-zinc-100",children:"Controls"}),(0,u.jsx)("button",{className:"px-3 py-1 rounded-lg border border-zinc-300 dark:border-zinc-700",onClick:()=>_(!1),children:"Close"})]}),(0,u.jsxs)("div",{className:"grid gap-4",children:[(0,u.jsxs)("div",{className:"rounded-xl border border-zinc-200 dark:border-zinc-800 p-3 shadow-sm bg-white dark:bg-zinc-900",children:[(0,u.jsx)("div",{className:"text-xs font-bold uppercase tracking-wide text-zinc-500 dark:text-zinc-400 mb-2",children:"Gameplay"}),(0,u.jsxs)("div",{className:"grid gap-3",children:[(0,u.jsxs)("label",{className:"grid gap-1",children:[(0,u.jsx)("span",{className:"text-sm text-zinc-800 dark:text-zinc-100",children:"Mode"}),(0,u.jsxs)("select",{className:"rounded-lg border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 text-zinc-900 dark:text-zinc-100 px-2 py-1",value:i,onChange:e=>o(Number(e.target.value)),children:[(0,u.jsx)("option",{value:1,children:"Mode 1 \u2014 Board visible"}),(0,u.jsx)("option",{value:2,children:"Mode 2 \u2014 Prompt only"})]})]}),(0,u.jsxs)("div",{className:"grid gap-1",children:[(0,u.jsxs)("label",{className:"text-sm text-zinc-800 dark:text-zinc-100",children:["Reveal length (ms): ",x]}),(0,u.jsx)("input",{className:"w-full accent-zinc-900 dark:accent-zinc-100",type:"range",min:300,max:2e3,step:50,value:x,onChange:e=>y(Number(e.target.value))})]}),(0,u.jsxs)("label",{className:"grid gap-1",children:[(0,u.jsx)("span",{className:"text-sm text-zinc-800 dark:text-zinc-100",children:"Reveal Mode"}),(0,u.jsxs)("select",{className:"rounded-lg border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 text-zinc-900 dark:text-zinc-100 px-2 py-1",value:s,onChange:e=>v(e.target.value),children:[(0,u.jsx)("option",{value:"square",children:"Only selected square"}),(0,u.jsx)("option",{value:"2x2",children:"2\xd72 patch"}),(0,u.jsx)("option",{value:"3x3",children:"3\xd73 patch"}),(0,u.jsx)("option",{value:"board",children:"Full board"})]})]})]})]}),(0,u.jsxs)("div",{className:"rounded-xl border border-zinc-200 dark:border-zinc-800 p-3 shadow-sm bg-white dark:bg-zinc-900",children:[(0,u.jsx)("div",{className:"text-xs font-bold uppercase tracking-wide text-zinc-500 dark:text-zinc-400 mb-2",children:"Board"}),(0,u.jsxs)("div",{className:"grid gap-3",children:[(0,u.jsxs)("label",{className:"grid gap-1",children:[(0,u.jsx)("span",{className:"text-sm text-zinc-800 dark:text-zinc-100",children:"Theme"}),(0,u.jsx)("select",{className:"rounded-lg border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 text-zinc-900 dark:text-zinc-100 px-2 py-1",value:e,onChange:e=>t(e.target.value),children:Object.keys(f).map(e=>(0,u.jsx)("option",{value:e,children:e},e))})]}),(0,u.jsxs)("div",{className:"grid gap-1",children:[(0,u.jsx)("span",{className:"text-sm text-zinc-800 dark:text-zinc-100",children:"Restricted size (n\xd7n)"}),(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)("button",{className:"w-8 h-8 rounded-full border border-zinc-300 dark:border-zinc-700",onClick:()=>K(e=>Math.max(3,e-1)),children:"\u2212"}),(0,u.jsxs)("div",{className:"w-20 text-center font-black",children:[U,"\xd7",U]}),(0,u.jsx)("button",{className:"w-8 h-8 rounded-full border border-zinc-300 dark:border-zinc-700",onClick:()=>K(e=>Math.min(8,e+1)),children:"+"})]})]}),(0,u.jsxs)("label",{className:"inline-flex items-center gap-2 text-sm text-zinc-800 dark:text-zinc-100",children:[(0,u.jsx)("input",{type:"checkbox",checked:W,onChange:()=>H(e=>!e)}),"Restricted sub-board"]}),(0,u.jsxs)("label",{className:"inline-flex items-center gap-2 text-sm text-zinc-800 dark:text-zinc-100",children:[(0,u.jsx)("input",{type:"checkbox",checked:a,onChange:()=>l(e=>!e)}),"Show rank/file labels"]})]})]})]})]})]})]})}const C={classicWood:{light:"#F0D9B5",dark:"#B58863",texture:"classicWood"},wooden:{light:"#EBD3B0",dark:"#AE6B36",texture:"wood"},green:{light:"#e6f4ea",dark:"#0d7a5f",texture:"grass"},ice:{light:"#eaf6ff",dark:"#2e5eaa",texture:"ice"},wb:{light:"#ffffff",dark:"#000000",texture:null}},_=["a","b","c","d","e","f","g","h"],j={Q:"https://upload.wikimedia.org/wikipedia/commons/1/15/Chess_qlt45.svg",R:"https://upload.wikimedia.org/wikipedia/commons/7/72/Chess_rlt45.svg",B:"https://upload.wikimedia.org/wikipedia/commons/b/b1/Chess_blt45.svg",N:"https://upload.wikimedia.org/wikipedia/commons/7/70/Chess_nlt45.svg"},E=(e,t)=>"".concat(e,",").concat(t),M=(e,t,n)=>e>=0&&t>=0&&e<n&&t<n;function P(e,t,n,r,a){const l=[];for(const[i,o]of n){let n=e+i,s=t+o;for(;M(n,s,a);){const e=E(n,s);if(r.has(e))break;l.push([n,s]),n+=i,s+=o}}return l}function T(e,t,n,r,a){switch(e){case"N":return[[2,1],[2,-1],[-2,1],[-2,-1],[1,2],[-1,2],[1,-2],[-1,-2]].map(e=>{let[r,a]=e;return[t+r,n+a]}).filter(e=>{let[t,n]=e;return M(t,n,a)&&!r.has(E(t,n))});case"R":return P(t,n,[[1,0],[-1,0],[0,1],[0,-1]],r,a);case"B":return P(t,n,[[1,1],[1,-1],[-1,1],[-1,-1]],r,a);case"Q":return P(t,n,[[1,0],[-1,0],[0,1],[0,-1],[1,1],[1,-1],[-1,1],[-1,-1]],r,a);default:return[]}}function L(e,t){const n=function(e){const t=new Set;for(const n of Object.keys(e))t.add(E(e[n][0],e[n][1]));return t}(e),r=new Map;for(const a of Object.keys(e)){const[l,i]=e[a],o=T(a,l,i,n,t);for(const[e,t]of o){const n=E(e,t);r.has(n)||r.set(n,new Set),r.get(n).add(a)}}return r}function A(e){let{containerRef:t,n:n,themeVars:a,positions:l,targetSq:i,running:o,shouldShowPieces:s,animateMoves:d,anim:f,showLabels:h}=e;const[p,m]=(0,r.useState)(360),[g,b]=(0,r.useState)(!1);(0,r.useEffect)(()=>{if(!t.current)return;const e=t.current,n=()=>{const t=window.innerWidth<768;if(b(t),t){const e=Math.max(240,window.innerWidth);m(Math.floor(e))}else{const t=h?24:0,n=8,r=8,a=Math.max(280,e.clientWidth-t-n-r),l=160,i=120,o=Math.max(300,window.innerHeight-l-i);m(Math.floor(Math.min(a,o)))}document.documentElement.style.overflowX="hidden",document.body.style.overflowX="hidden"};n();const r=new ResizeObserver(n);return r.observe(e),window.addEventListener("resize",n),()=>{r.disconnect(),window.removeEventListener("resize",n)}},[t,h]);const v=(0,r.useMemo)(()=>_.slice(0,n),[n]),x=(0,r.useMemo)(()=>Array.from({length:n},(e,t)=>n-t),[n]),y=(0,r.useMemo)(()=>Array.from({length:n},(e,t)=>t),[n]),k=(0,r.useMemo)(()=>Array.from({length:n},(e,t)=>t),[n]),w=p/n;function S(){if(!f||!d)return null;const[e,t]=f.from,[r,a]=f.to,l=100/n,i=e=>e*l+l/2,o=e=>e*l+l/2,s=i(t),c=o(e),h=i(a),p=o(r);return(0,u.jsxs)("svg",{className:"absolute inset-0 z-10 pointer-events-none",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[(0,u.jsx)("defs",{children:(0,u.jsx)("filter",{id:"mm-blur",x:"-20%",y:"-20%",width:"140%",height:"140%",children:(0,u.jsx)("feGaussianBlur",{stdDeviation:"0.6"})})}),(0,u.jsxs)("path",{d:"M ".concat(s," ").concat(c," L ").concat(h," ").concat(p),pathLength:"1",stroke:"white",strokeWidth:"2",strokeLinecap:"round",fill:"none",opacity:"0.38",filter:"url(#mm-blur)",children:[(0,u.jsx)("animate",{attributeName:"stroke-dasharray",values:"0,1;0.2,0.8;1,0",dur:"0.36s",keyTimes:"0;0.5;1",calcMode:"spline",keySplines:"0.25 0.8 0.25 1;0.25 0.8 0.25 1",fill:"freeze"}),(0,u.jsx)("animate",{attributeName:"opacity",values:"0.0;0.38;0.0",dur:"0.38s",keyTimes:"0;0.35;1",calcMode:"spline",keySplines:"0.25 0.8 0.25 1;0.25 0.8 0.25 1"})]})]},f.key)}return(0,u.jsxs)("div",{className:"w-full flex justify-center items-center",children:[(0,u.jsxs)("div",{className:"grid max-w-full",style:{gridTemplateColumns:g?"1fr":h?"auto 1fr":"1fr",gridTemplateRows:g?"1fr":"1fr auto",gap:g?0:8},children:[!g&&h&&(0,u.jsx)("div",{className:"flex flex-col justify-between pr-1 select-none text-zinc-900 dark:text-zinc-100",style:{gridColumn:1,gridRow:1},children:x.map(e=>(0,u.jsx)("div",{className:"flex items-center justify-center font-black",style:{height:p/n,width:24},"aria-hidden":!0,children:e},"rank-".concat(e)))}),(0,u.jsxs)("div",{className:"rounded-xl border bg-white dark:bg-zinc-900 border-zinc-200 dark:border-zinc-800 overflow-hidden relative",style:{width:p,height:p,gridColumn:g?"1":h?"2":"1",gridRow:1},children:[(0,u.jsx)(S,{}),(0,u.jsx)("div",{className:"w-full h-full grid",style:{gridTemplateColumns:"repeat(".concat(n,", 1fr)"),gridTemplateRows:"repeat(".concat(n,", 1fr)")},role:"grid","aria-label":"Mind Mirage board",children:y.map(e=>k.map(t=>{const r=((e,t)=>(t+(n-1-e))%2===1)(e,t),o=function(e,t,n){const r=e?n.light:n.dark,a=function(e,t){switch(e){case"classicWood":return{backgroundImage:"\n          repeating-linear-gradient(90deg,\n            rgba(0,0,0,".concat(t?".04":".07",") 0 2px,\n            rgba(0,0,0,0) 2px 10px\n          ),\n          repeating-linear-gradient(0deg,\n            rgba(255,255,255,").concat(t?".12":".06",") 0 6px,\n            rgba(255,255,255,0) 6px 22px\n          )\n        "),backgroundSize:"36px 100%, 100% 36px",backgroundBlendMode:"multiply, soft-light"};case"wood":return{backgroundImage:"\n          repeating-linear-gradient(90deg,\n            rgba(0,0,0,".concat(t?".025":".05",") 0 2px,\n            rgba(0,0,0,0) 2px 9px\n          )\n        "),backgroundBlendMode:"multiply"};case"ice":return{backgroundImage:"linear-gradient(180deg, rgba(255,255,255,.5), rgba(255,255,255,0) 60%)",backgroundBlendMode:"soft-light"};case"grass":return{backgroundImage:"\n          radial-gradient(rgba(0,0,0,".concat(t?".02":".05",") 1px, transparent 1px),\n          radial-gradient(rgba(255,255,255,").concat(t?".25":".05",") 1px, transparent 1px)\n        "),backgroundPosition:"0 0, 2px 2px",backgroundSize:"6px 6px, 6px 6px",backgroundBlendMode:"multiply"};default:return{}}}(n.texture,e);return c(c({backgroundColor:r},a),{},{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.06)",willChange:"transform"})}(r,0,a),d=Object.entries(l).find(n=>{let[,r]=n;return r[0]===e&&r[1]===t}),f=null===d||void 0===d?void 0:d[0],p=!!i&&e===i[0]&&t===i[1],m=(((e,t)=>{String.fromCharCode(97+t)})(e,t),String.fromCharCode(97+t)),b=n-e;return(0,u.jsxs)("div",{className:"relative",style:o,children:[p&&(0,u.jsx)("div",{className:"absolute",style:{width:"22%",height:"22%",left:"50%",top:"50%",transform:"translate(-50%, -50%)",background:"#111",border:"3px solid #fff",borderRadius:"9999px",animation:"mm_bounce .9s ease-in-out infinite",zIndex:3}}),f&&s&&(0,u.jsx)("img",{src:j[f],alt:f,draggable:"false",className:"absolute",style:{width:"calc(".concat(w,"px * .78)"),height:"auto",left:"50%",top:"50%",transform:"translate(-50%, -50%)",filter:"drop-shadow(0 3px 6px rgba(0,0,0,.25))",zIndex:2}}),g&&h&&(0,u.jsxs)(u.Fragment,{children:[0===t&&(0,u.jsx)("span",{className:"absolute select-none",style:{color:"rgba(26,18,10,.95)",fontWeight:900,letterSpacing:"0.02em",textShadow:"0 1px 0 rgba(255,255,255,.4)",fontSize:Math.max(11,Math.floor(.18*w)),top:Math.max(3,Math.floor(.06*w)),left:Math.max(5,Math.floor(.07*w)),zIndex:1},"aria-hidden":!0,children:b}),e===n-1&&(0,u.jsx)("span",{className:"absolute select-none",style:{color:"rgba(26,18,10,.95)",fontWeight:900,letterSpacing:"0.02em",textShadow:"0 1px 0 rgba(255,255,255,.4)",fontSize:Math.max(11,Math.floor(.18*w)),right:Math.max(5,Math.floor(.07*w)),bottom:Math.max(3,Math.floor(.06*w)),zIndex:1,textTransform:"lowercase"},"aria-hidden":!0,children:m})]})]},"".concat(e,",").concat(t))}))})]}),!g&&h&&(0,u.jsxs)("div",{className:"flex gap-0 select-none text-zinc-900 dark:text-zinc-100",style:{gridColumn:h?"1 / span 2":"1",gridRow:2,width:p+24},children:[(0,u.jsx)("div",{style:{width:24},"aria-hidden":!0}),(0,u.jsx)("div",{className:"grid w-full",style:{gridTemplateColumns:"repeat(".concat(n,", 1fr)")},children:v.map(e=>(0,u.jsx)("div",{className:"flex items-center justify-center font-black",style:{height:24},"aria-hidden":!0,children:e},"file-".concat(e)))})]})]}),(0,u.jsx)("style",{children:"\n        @keyframes mm_bounce {\n          0%,100% { transform: translate(-50%, -58%); }\n          50%     { transform: translate(-50%, -42%); }\n        }\n      "})]})}function R(){const[e,t]=(0,r.useState)("classicWood"),n=C[e]||C.classicWood,[a,l]=(0,r.useState)(8),[i,o]=(0,r.useState)({Q:!0,R:!0,B:!0,N:!0}),s=(0,r.useMemo)(()=>["Q","R","B","N"].filter(e=>i[e]),[i]),[f,h]=(0,r.useState)(!1),[p,m]=(0,r.useState)(0),[g,b]=(0,r.useState)(60),v=(0,r.useRef)(null),[x,y]=(0,r.useState)({}),[k,w]=(0,r.useState)(null),[S,z]=(0,r.useState)(new Set),[N,_]=(0,r.useState)(null),[M,P]=(0,r.useState)(!0),[T,R]=(0,r.useState)(!1),O=!f||T,[I,D]=(0,r.useState)(!0),[F,q]=(0,r.useState)(null),[B,U]=(0,r.useState)(!0),K=(0,r.useRef)(null);function W(){const e=window.AudioContext||window.webkitAudioContext;K.current||(K.current=new e),"suspended"===K.current.state&&K.current.resume()}function H(e,t,n,r){const a=K.current,l=a.createOscillator(),i=a.createGain();l.type=n,l.frequency.value=e,l.connect(i),i.connect(a.destination);const o=a.currentTime,s=o+t;i.gain.setValueAtTime(r,o),i.gain.exponentialRampToValueAtTime(1e-4,s),l.start(o),l.stop(s+.01)}const V=(0,r.useCallback)(()=>{const e=s,t={};if(e.length){const n=function(e,t){const n=new Set,r=[];for(;r.length<e;){const e=Math.floor(Math.random()*t),a=Math.floor(Math.random()*t),l=E(e,a);n.has(l)||(n.add(l),r.push([e,a]))}return r}(e.length,a);e.forEach((e,r)=>{t[e]=n[r]})}y(t),w(null),z(new Set)},[s,a]);(0,r.useEffect)(()=>{f||V()},[a,i.Q,i.R,i.B,i.N]);const Q=(0,r.useCallback)(function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:M;const t=L(arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,a),n=Array.from(t.entries());if(0===n.length)return void V();const r=n.filter(e=>{let[,t]=e;return 1===t.size}),l=n.filter(e=>{let[,t]=e;return t.size>=1}),i=e&&r.length?r:l;if(!i.length)return void V();const[o,s]=i[Math.floor(Math.random()*i.length)],[c,u]=o.split(",").map(Number);w([c,u]),z(new Set(s))},[x,a,M,V]);function $(){f||0===s.length||(W(),m(0),h(!0),Q(x,M),re(!1),R(!1))}function G(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];h(!1),e&&(W(),H(220,.12,"square",.08),H(160,.14,"square",.07)),w(null),R(!1)}function X(e){if(!f||!k)return;if(_(e),setTimeout(()=>_(null),180),!S.has(e))return void G(!0);const t=x[e],n=k;if(W(),H(720,.1,"sine",.06),H(960,.12,"sine",.05),I){const r=Date.now();q({type:e,from:t,to:n,key:r}),setTimeout(()=>{const t=c(c({},x),{},{[e]:n});y(t),m(e=>e+1),q(null),Q(t,M)},380)}else{const t=c(c({},x),{},{[e]:n});y(t),m(e=>e+1),Q(t,M)}}(0,r.useEffect)(()=>{if(f)return b(60),v.current=setInterval(()=>{b(e=>e<=1?(clearInterval(v.current),v.current=null,h(!1),w(null),0):e-1)},1e3),()=>{v.current&&(clearInterval(v.current),v.current=null)};v.current&&(clearInterval(v.current),v.current=null)},[f]),(0,r.useEffect)(()=>{function e(e){if(e.target&&("INPUT"===e.target.tagName||"TEXTAREA"===e.target.tagName||e.target.isContentEditable))return;let t=e.key.toLowerCase();if(" "===t)return e.preventDefault(),void(f?G(!1):$());if("p"===t&&(e.preventDefault(),R(!0)),f&&k&&("j"===t&&(t="q"),"k"===t&&(t="r"),"l"===t&&(t="b"),";"===t&&(t="n"),["q","r","b","n"].includes(t))){const n=t.toUpperCase();i[n]&&(e.preventDefault(),X(n))}}function t(e){"p"===e.key.toLowerCase()&&R(!1)}return window.addEventListener("keydown",e),window.addEventListener("keyup",t),()=>{window.removeEventListener("keydown",e),window.removeEventListener("keyup",t)}},[f,k,i]);const Y=(0,u.jsxs)("div",{className:"grid gap-4",children:[(0,u.jsxs)("div",{className:"rounded-xl border border-zinc-200 dark:border-zinc-800 p-3 shadow-sm bg-white dark:bg-zinc-900",children:[(0,u.jsx)("div",{className:"text-xs font-bold uppercase tracking-wide text-zinc-500 dark:text-zinc-400 mb-2",children:"Pieces"}),(0,u.jsx)("div",{className:"grid grid-cols-4 gap-2 w-full",children:["Q","R","B","N"].map(e=>(0,u.jsx)("button",{className:["w-full px-2 py-2 rounded-lg border text-sm flex items-center justify-center gap-2",i[e]?"border-emerald-500":"border-zinc-300 dark:border-zinc-700","bg-white dark:bg-zinc-900"].join(" "),onClick:()=>o(t=>c(c({},t),{},{[e]:!t[e]})),disabled:f,title:{Q:"Queen",R:"Rook",B:"Bishop",N:"Knight"}[e],children:(0,u.jsx)("img",{src:j[e],alt:e,style:{width:22,height:22}})},e))})]}),(0,u.jsxs)("div",{className:"rounded-xl border border-zinc-200 dark:border-zinc-800 p-3 shadow-sm bg-white dark:bg-zinc-900",children:[(0,u.jsx)("div",{className:"text-xs font-bold uppercase tracking-wide text-zinc-500 dark:text-zinc-400 mb-2",children:"Board"}),(0,u.jsxs)("div",{className:"grid gap-3",children:[(0,u.jsxs)("label",{className:"grid gap-1",children:[(0,u.jsx)("span",{className:"text-sm text-zinc-800 dark:text-zinc-100",children:"Theme"}),(0,u.jsx)("select",{className:"rounded-lg border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 text-zinc-900 dark:text-zinc-100 px-2 py-1",value:e,onChange:e=>t(e.target.value),disabled:f,children:Object.keys(C).map(e=>(0,u.jsx)("option",{value:e,children:e},e))})]}),(0,u.jsxs)("div",{className:"grid gap-1",children:[(0,u.jsx)("span",{className:"text-sm text-zinc-800 dark:text-zinc-100",children:"Board Size (n\xd7n)"}),(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)("button",{className:"w-8 h-8 rounded-full border border-zinc-300 dark:border-zinc-700",onClick:()=>l(e=>Math.max(3,e-1)),disabled:f,children:"\u2212"}),(0,u.jsxs)("div",{className:"w-16 text-center font-black",children:[a,"\xd7",a]}),(0,u.jsx)("button",{className:"w-8 h-8 rounded-full border border-zinc-300 dark:border-zinc-700",onClick:()=>l(e=>Math.min(8,e+1)),disabled:f,children:"+"}),(0,u.jsx)("button",{className:"px-3 py-2 rounded-lg border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-900",onClick:V,disabled:f,children:"Roll"})]})]}),(0,u.jsxs)("div",{className:"grid gap-1",children:[(0,u.jsx)("span",{className:"text-sm text-zinc-800 dark:text-zinc-100",children:"Target Rule"}),(0,u.jsxs)("div",{className:"inline-flex rounded-lg overflow-hidden border border-zinc-300 dark:border-zinc-700",children:[(0,u.jsx)("button",{className:"px-3 py-2 text-sm ".concat(M?"bg-emerald-50 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-300":"bg-white dark:bg-zinc-900"),onClick:()=>P(!0),"aria-pressed":M,children:"Unique Reach"}),(0,u.jsx)("button",{className:"px-3 py-2 text-sm border-l border-zinc-300 dark:border-zinc-700 ".concat(M?"bg-white dark:bg-zinc-900":"bg-emerald-50 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-300"),onClick:()=>P(!1),"aria-pressed":!M,children:"Any Reach"})]})]}),(0,u.jsxs)("div",{className:"grid gap-1",children:[(0,u.jsx)("span",{className:"text-sm text-zinc-800 dark:text-zinc-100",children:"Animation"}),(0,u.jsx)("button",{className:"px-3 py-2 rounded-lg border text-sm w-fit ".concat(I?"border-emerald-500 bg-emerald-50 text-emerald-700 dark:border-emerald-500 dark:bg-emerald-900/30 dark:text-emerald-300":"border-zinc-300 bg-white text-zinc-900 dark:border-zinc-700 dark:bg-zinc-900 dark:text-zinc-100"),onClick:()=>D(e=>!e),children:I?"On":"Off"})]}),(0,u.jsxs)("label",{className:"inline-flex items-center gap-2 text-sm",children:[(0,u.jsx)("input",{type:"checkbox",checked:B,onChange:()=>U(e=>!e)}),"Show labels"]})]})]})]}),Z=(0,u.jsx)("div",{className:"hidden md:block overflow-auto max-h-[70vh] pr-1",children:Y}),J=(0,u.jsxs)("div",{className:"flex items-center justify-between gap-3 w-full",children:[(0,u.jsxs)("div",{className:"text-base md:text-lg font-semibold",children:[(0,u.jsx)("span",{className:"text-zinc-700 dark:text-zinc-300",children:"Moves:"})," ",(0,u.jsx)("span",{className:"font-black text-zinc-900 dark:text-zinc-100",children:p})]}),(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[f?(0,u.jsx)("button",{onClick:()=>G(!1),className:"rounded-xl px-4 py-2 font-semibold text-white shadow-sm active:scale-[.99]",style:{backgroundColor:"#8B5A2B"},children:"Stop"}):(0,u.jsx)("button",{onClick:$,className:"rounded-xl px-4 py-2 font-semibold text-white shadow-sm active:scale-[.99]",style:{backgroundColor:"#7E8F64"},children:"Start"}),(0,u.jsx)("button",{className:"md:hidden rounded-lg px-3 py-2 text-sm border border-zinc-300 dark:border-zinc-700 text-zinc-800 dark:text-zinc-100 bg-white/70 dark:bg-zinc-900/70",onClick:()=>re(!0),children:"Controls"})]}),(0,u.jsxs)("div",{className:"text-base md:text-lg font-semibold",children:[(0,u.jsx)("span",{className:"text-zinc-700 dark:text-zinc-300",children:"Timer:"})," ",(0,u.jsx)("span",{className:"font-black text-zinc-900 dark:text-zinc-100",children:g})]})]}),ee=()=>{const e=function(e){const t=(null===e||void 0===e?void 0:e.light)||"#F0D9B5",n=(null===e||void 0===e?void 0:e.dark)||"#B58863";return{backgroundImage:"\n      linear-gradient(180deg, ".concat(t,", ").concat(n,"),\n      repeating-linear-gradient(90deg, rgba(0,0,0,.05) 0 2px, rgba(0,0,0,0) 2px 10px)\n    "),backgroundBlendMode:"normal, multiply",boxShadow:"inset 0 1px 0 rgba(255,255,255,.35), 0 2px 6px rgba(0,0,0,.15)"}}(n);if(f)return(0,u.jsxs)("div",{className:" w-full px-3 py-3 flex flex-wrap gap-3 items-center justify-center",children:[["Q","R","B","N"].filter(e=>i[e]).map(t=>(0,u.jsx)("button",{className:["h-14 w-14 rounded-full border-2 flex items-center justify-center transition active:scale-[0.98]",N===t?"border-sky-500":"border-zinc-900 dark:border-zinc-200","text-zinc-900 dark:text-zinc-100 shadow-sm"].join(" "),style:e,onClick:()=>X(t),disabled:!f||!k,title:{Q:"Queen",R:"Rook",B:"Bishop",N:"Knight"}[t],children:(0,u.jsx)("img",{src:j[t],alt:t,style:{width:34,height:34,filter:"drop-shadow(0 2px 2px rgba(0,0,0,.18))"}})},t)),(0,u.jsx)("button",{className:["h-14 w-14 rounded-full border-2 flex items-center justify-center transition active:scale-[0.98]",T?"border-amber-600 ring-2 ring-amber-400/60":"border-amber-700","text-white shadow-sm"].join(" "),style:{background:"linear-gradient(180deg, rgba(255,190,92,1), rgba(216,139,39,1))",boxShadow:"inset 0 1px 0 rgba(255,255,255,.35)"},onPointerDown:()=>f&&R(!0),onPointerUp:()=>R(!1),onPointerLeave:()=>R(!1),onPointerCancel:()=>R(!1),"aria-pressed":T,disabled:!f,title:"Hold to Peek (or press P)",children:(0,u.jsxs)("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"none","aria-hidden":!0,children:[(0,u.jsx)("path",{d:"M2.2 12c2.2-4 5.9-6.4 9.8-6.4S19.6 8 21.8 12c-2.2 4-5.9 6.4-9.8 6.4S4.4 16 2.2 12Z",stroke:"currentColor",strokeWidth:"1.6"}),(0,u.jsx)("circle",{cx:"12",cy:"12",r:"3.5",stroke:"currentColor",strokeWidth:"1.6"})]})},"peek")]})},te=(0,r.useRef)(null),[ne,re]=(0,r.useState)(!1);return(0,u.jsxs)(d,{headerContent:J,sidebar:Z,footer:(0,u.jsx)(ee,{}),children:[(0,u.jsxs)("div",{ref:te,className:"w-full overflow-visible",children:[(0,u.jsx)("div",{className:"md:hidden",style:{width:"100vw",marginLeft:"calc(50% - 50vw)",marginRight:"calc(50% - 50vw)"},children:(0,u.jsx)(A,{containerRef:te,n:a,themeVars:n,positions:x,targetSq:k,running:f,shouldShowPieces:O,anim:F,animateMoves:I,showLabels:B})}),(0,u.jsx)("div",{className:"hidden md:block",children:(0,u.jsx)(A,{containerRef:te,n:a,themeVars:n,positions:x,targetSq:k,running:f,shouldShowPieces:O,anim:F,animateMoves:I,showLabels:B})})]}),ne&&(0,u.jsxs)("div",{className:"fixed inset-0 z-50 md:hidden",children:[(0,u.jsx)("div",{className:"absolute inset-0 bg-black/40",onClick:()=>re(!1)}),(0,u.jsxs)("div",{className:"absolute left-0 right-0 bottom-0 rounded-t-2xl bg-white dark:bg-zinc-950 border-t border-zinc-200 dark:border-zinc-800 p-4 max-h-[70vh] overflow-auto",children:[(0,u.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,u.jsx)("h3",{className:"text-sm font-semibold text-zinc-900 dark:text-zinc-100",children:"Controls"}),(0,u.jsx)("button",{className:"px-3 py-1 rounded-lg border border-zinc-300 dark:border-zinc-700",onClick:()=>re(!1),children:"Close"})]}),Y]})]})]})}function O(e,t,n,r){var a=Error.call(this,e);return Object.setPrototypeOf&&Object.setPrototypeOf(a,O.prototype),a.expected=t,a.found=n,a.location=r,a.name="SyntaxError",a}function I(e,t,n){return n=n||" ",e.length>t?e:(t-=e.length,e+(n+=n.repeat(t)).slice(0,t))}function D(e,t){var n,r,a,l,i={},o=(t=void 0!==t?t:{}).grammarSource,s={pgn:Qe},c=Qe,u="[",d='"',f="]",h=".",p="O-O-O",m="O-O",g="0-0-0",b="0-0",v="$",x="{",y="}",k=";",w="(",S=")",z="1-0",N="0-1",C="1/2-1/2",_="*",j=/^[a-zA-Z]/,E=/^[^"]/,M=/^[0-9]/,P=/^[.]/,T=/^[a-zA-Z1-8\-=]/,L=/^[+#]/,A=/^[!?]/,R=/^[^}]/,I=/^[^\r\n]/,D=/^[ \t\r\n]/,F=Ke("tag pair"),q=Be("[",!1),B=Be('"',!1),U=Be("]",!1),K=Ke("tag name"),W=Ue([["a","z"],["A","Z"]],!1,!1),H=Ke("tag value"),V=Ue(['"'],!0,!1),Q=Ke("move number"),$=Ue([["0","9"]],!1,!1),G=Be(".",!1),X=Ue(["."],!1,!1),Y=Ke("standard algebraic notation"),Z=Be("O-O-O",!1),J=Be("O-O",!1),ee=Be("0-0-0",!1),te=Be("0-0",!1),ne=Ue([["a","z"],["A","Z"],["1","8"],"-","="],!1,!1),re=Ue(["+","#"],!1,!1),ae=Ke("suffix annotation"),le=Ue(["!","?"],!1,!1),ie=Ke("NAG"),oe=Be("$",!1),se=Ke("brace comment"),ce=Be("{",!1),ue=Ue(["}"],!0,!1),de=Be("}",!1),fe=Ke("rest of line comment"),he=Be(";",!1),pe=Ue(["\r","\n"],!0,!1),me=Ke("variation"),ge=Be("(",!1),be=Be(")",!1),ve=Ke("game termination marker"),xe=Be("1-0",!1),ye=Be("0-1",!1),ke=Be("1/2-1/2",!1),we=Be("*",!1),Se=Ke("whitespace"),ze=Ue([" ","\t","\r","\n"],!1,!1),Ne=function(e,t){return function(e,t){var n;if(t.marker&&t.marker.comment){let e=t.root;for(;;){const n=e.variations[0];if(!n){e.comment=t.marker.comment;break}e=n}}return{headers:e,root:t.root,result:null!==(n=t.marker&&t.marker.result)&&void 0!==n?n:void 0}}(e,t)},Ce=function(e){return Object.fromEntries(e)},_e=function(e,t){return[e,t]},je=function(e,t){return{root:e,marker:t}},Ee=function(e,t){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const[r,...a]=t;let l=r;for(const i of a)null!==i&&(l.variations=[i,...i.variations],i.variations=[],l=i);return r}(function(e){return null!==e?{comment:e,variations:[]}:{variations:[]}}(e),...t.flat())},Me=function(e,t,n,r,a){return function(e,t,n,r,a){const l={move:e,variations:a};return t&&(l.suffix=t),n&&(l.nag=n),null!==r&&(l.comment=r),l}(e,t,n,r,a)},Pe=function(e){return e},Te=function(e){return e.replace(/[\r\n]+/g," ")},Le=function(e){return e.trim()},Ae=function(e){return e},Re=function(e,t){return{result:e,comment:t}},Oe=0|t.peg$currPos,Ie=[{line:1,column:1}],De=Oe,Fe=t.peg$maxFailExpected||[],qe=0|t.peg$silentFails;if(t.startRule){if(!(t.startRule in s))throw new Error("Can't start parsing from rule \""+t.startRule+'".');c=s[t.startRule]}function Be(e,t){return{type:"literal",text:e,ignoreCase:t}}function Ue(e,t,n){return{type:"class",parts:e,inverted:t,ignoreCase:n}}function Ke(e){return{type:"other",description:e}}function We(t){var n,r=Ie[t];if(r)return r;if(t>=Ie.length)n=Ie.length-1;else for(n=t;!Ie[--n];);for(r={line:(r=Ie[n]).line,column:r.column};n<t;)10===e.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return Ie[t]=r,r}function He(e,t,n){var r=We(e),a=We(t);return{source:o,start:{offset:e,line:r.line,column:r.column},end:{offset:t,line:a.line,column:a.column}}}function Ve(e){Oe<De||(Oe>De&&(De=Oe,Fe=[]),Fe.push(e))}function Qe(){var t,n;return t=function(){var e,t,n;e=Oe,t=[],n=$e();for(;n!==i;)t.push(n),n=$e();return n=et(),e=Ce(t),e}(),n=function(){var t,n,r;t=Oe,n=Ge(),et(),r=function(){var t,n,r;qe++,t=Oe,e.substr(Oe,3)===z?(n=z,Oe+=3):(n=i,0===qe&&Ve(xe));n===i&&(e.substr(Oe,3)===N?(n=N,Oe+=3):(n=i,0===qe&&Ve(ye)),n===i&&(e.substr(Oe,7)===C?(n=C,Oe+=7):(n=i,0===qe&&Ve(ke)),n===i&&(42===e.charCodeAt(Oe)?(n=_,Oe++):(n=i,0===qe&&Ve(we)))));n!==i?(et(),(r=Ze())===i&&(r=null),t=Re(n,r)):(Oe=t,t=i);qe--,t===i&&(n=i,0===qe&&Ve(ve));return t}(),r===i&&(r=null);return et(),t=je(n,r),t}(),Ne(t,n)}function $e(){var t,n,r,a,l,o,s;return qe++,t=Oe,et(),91===e.charCodeAt(Oe)?(n=u,Oe++):(n=i,0===qe&&Ve(q)),n!==i?(et(),r=function(){var t,n,r;qe++,t=Oe,n=[],r=e.charAt(Oe),j.test(r)?Oe++:(r=i,0===qe&&Ve(W));if(r!==i)for(;r!==i;)n.push(r),r=e.charAt(Oe),j.test(r)?Oe++:(r=i,0===qe&&Ve(W));else n=i;t=n!==i?e.substring(t,Oe):n;qe--,t===i&&(n=i,0===qe&&Ve(K));return t}(),r!==i?(et(),34===e.charCodeAt(Oe)?(a=d,Oe++):(a=i,0===qe&&Ve(B)),a!==i?(l=function(){var t,n,r;qe++,t=Oe,n=[],r=e.charAt(Oe),E.test(r)?Oe++:(r=i,0===qe&&Ve(V));for(;r!==i;)n.push(r),r=e.charAt(Oe),E.test(r)?Oe++:(r=i,0===qe&&Ve(V));t=e.substring(t,Oe),qe--,n=i,0===qe&&Ve(H);return t}(),34===e.charCodeAt(Oe)?(o=d,Oe++):(o=i,0===qe&&Ve(B)),o!==i?(et(),93===e.charCodeAt(Oe)?(s=f,Oe++):(s=i,0===qe&&Ve(U)),s!==i?t=_e(r,l):(Oe=t,t=i)):(Oe=t,t=i)):(Oe=t,t=i)):(Oe=t,t=i)):(Oe=t,t=i),qe--,t===i&&0===qe&&Ve(F),t}function Ge(){var e,t,n;for((e=Ze())===i&&(e=null),t=[],n=Xe();n!==i;)t.push(n),n=Xe();return Ee(e,t)}function Xe(){var t,n,r,a,l,o,s,c;if(t=Oe,et(),function(){var t,n,r,a,l,o;qe++,t=Oe,n=[],r=e.charAt(Oe),M.test(r)?Oe++:(r=i,0===qe&&Ve($));for(;r!==i;)n.push(r),r=e.charAt(Oe),M.test(r)?Oe++:(r=i,0===qe&&Ve($));46===e.charCodeAt(Oe)?(r=h,Oe++):(r=i,0===qe&&Ve(G));if(r!==i){for(a=et(),l=[],o=e.charAt(Oe),P.test(o)?Oe++:(o=i,0===qe&&Ve(X));o!==i;)l.push(o),o=e.charAt(Oe),P.test(o)?Oe++:(o=i,0===qe&&Ve(X));t=n=[n,r,a,l]}else Oe=t,t=i;qe--,t===i&&(n=i,0===qe&&Ve(Q))}(),et(),n=function(){var t,n,r,a,l,o;qe++,t=Oe,n=Oe,e.substr(Oe,5)===p?(r=p,Oe+=5):(r=i,0===qe&&Ve(Z));if(r===i&&(e.substr(Oe,3)===m?(r=m,Oe+=3):(r=i,0===qe&&Ve(J)),r===i&&(e.substr(Oe,5)===g?(r=g,Oe+=5):(r=i,0===qe&&Ve(ee)),r===i&&(e.substr(Oe,3)===b?(r=b,Oe+=3):(r=i,0===qe&&Ve(te)),r===i))))if(r=Oe,a=e.charAt(Oe),j.test(a)?Oe++:(a=i,0===qe&&Ve(W)),a!==i){if(l=[],o=e.charAt(Oe),T.test(o)?Oe++:(o=i,0===qe&&Ve(ne)),o!==i)for(;o!==i;)l.push(o),o=e.charAt(Oe),T.test(o)?Oe++:(o=i,0===qe&&Ve(ne));else l=i;l!==i?r=a=[a,l]:(Oe=r,r=i)}else Oe=r,r=i;r!==i?(a=e.charAt(Oe),L.test(a)?Oe++:(a=i,0===qe&&Ve(re)),a===i&&(a=null),n=r=[r,a]):(Oe=n,n=i);t=n!==i?e.substring(t,Oe):n;qe--,t===i&&(n=i,0===qe&&Ve(Y));return t}(),n!==i){for(r=function(){var t,n,r;qe++,t=Oe,n=[],r=e.charAt(Oe),A.test(r)?Oe++:(r=i,0===qe&&Ve(le));for(;r!==i;)n.push(r),n.length>=2?r=i:(r=e.charAt(Oe),A.test(r)?Oe++:(r=i,0===qe&&Ve(le)));n.length<1?(Oe=t,t=i):t=n;qe--,t===i&&(n=i,0===qe&&Ve(ae));return t}(),r===i&&(r=null),a=[],l=Ye();l!==i;)a.push(l),l=Ye();for(l=et(),(o=Ze())===i&&(o=null),s=[],c=Je();c!==i;)s.push(c),c=Je();t=Me(n,r,a,o,s)}else Oe=t,t=i;return t}function Ye(){var t,n,r,a,l;if(qe++,t=Oe,et(),36===e.charCodeAt(Oe)?(n=v,Oe++):(n=i,0===qe&&Ve(oe)),n!==i){if(r=Oe,a=[],l=e.charAt(Oe),M.test(l)?Oe++:(l=i,0===qe&&Ve($)),l!==i)for(;l!==i;)a.push(l),l=e.charAt(Oe),M.test(l)?Oe++:(l=i,0===qe&&Ve($));else a=i;(r=a!==i?e.substring(r,Oe):a)!==i?t=Pe(r):(Oe=t,t=i)}else Oe=t,t=i;return qe--,t===i&&0===qe&&Ve(ie),t}function Ze(){var t;return(t=function(){var t,n,r,a,l;qe++,t=Oe,123===e.charCodeAt(Oe)?(n=x,Oe++):(n=i,0===qe&&Ve(ce));if(n!==i){for(r=Oe,a=[],l=e.charAt(Oe),R.test(l)?Oe++:(l=i,0===qe&&Ve(ue));l!==i;)a.push(l),l=e.charAt(Oe),R.test(l)?Oe++:(l=i,0===qe&&Ve(ue));r=e.substring(r,Oe),125===e.charCodeAt(Oe)?(a=y,Oe++):(a=i,0===qe&&Ve(de)),a!==i?t=Te(r):(Oe=t,t=i)}else Oe=t,t=i;qe--,t===i&&(n=i,0===qe&&Ve(se));return t}())===i&&(t=function(){var t,n,r,a,l;qe++,t=Oe,59===e.charCodeAt(Oe)?(n=k,Oe++):(n=i,0===qe&&Ve(he));if(n!==i){for(r=Oe,a=[],l=e.charAt(Oe),I.test(l)?Oe++:(l=i,0===qe&&Ve(pe));l!==i;)a.push(l),l=e.charAt(Oe),I.test(l)?Oe++:(l=i,0===qe&&Ve(pe));r=e.substring(r,Oe),t=Le(r)}else Oe=t,t=i;qe--,t===i&&(n=i,0===qe&&Ve(fe));return t}()),t}function Je(){var t,n,r,a;return qe++,t=Oe,et(),40===e.charCodeAt(Oe)?(n=w,Oe++):(n=i,0===qe&&Ve(ge)),n!==i&&(r=Ge())!==i?(et(),41===e.charCodeAt(Oe)?(a=S,Oe++):(a=i,0===qe&&Ve(be)),a!==i?t=Ae(r):(Oe=t,t=i)):(Oe=t,t=i),qe--,t===i&&0===qe&&Ve(me),t}function et(){var t,n;for(qe++,t=[],n=e.charAt(Oe),D.test(n)?Oe++:(n=i,0===qe&&Ve(ze));n!==i;)t.push(n),n=e.charAt(Oe),D.test(n)?Oe++:(n=i,0===qe&&Ve(ze));return qe--,n=i,0===qe&&Ve(Se),t}if(n=c(),t.peg$library)return{peg$result:n,peg$currPos:Oe,peg$FAILED:i,peg$maxFailExpected:Fe,peg$maxFailPos:De};if(n!==i&&Oe===e.length)return n;throw n!==i&&Oe<e.length&&Ve({type:"end"}),r=Fe,a=De<e.length?e.charAt(De):null,l=De<e.length?He(De,De+1):He(De,De),new O(O.buildMessage(r,a),r,a,l)}!function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}(O,Error),O.prototype.format=function(e){var t="Error: "+this.message;if(this.location){var n,r=null;for(n=0;n<e.length;n++)if(e[n].source===this.location.source){r=e[n].text.split(/\r\n|\n|\r/g);break}var a=this.location.start,l=this.location.source&&"function"===typeof this.location.source.offset?this.location.source.offset(a):a,i=this.location.source+":"+l.line+":"+l.column;if(r){var o=this.location.end,s=I("",l.line.toString().length," "),c=r[a.line-1],u=(a.line===o.line?o.column:c.length+1)-a.column||1;t+="\n --\x3e "+i+"\n"+s+" |\n"+l.line+" | "+c+"\n"+s+" | "+I("",a.column-1," ")+I("",u,"^")}else t+="\n at "+i}return t},O.buildMessage=function(e,t){var n={literal:function(e){return'"'+a(e.text)+'"'},class:function(e){var t=e.parts.map(function(e){return Array.isArray(e)?l(e[0])+"-"+l(e[1]):l(e)});return"["+(e.inverted?"^":"")+t.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(e){return e.description}};function r(e){return e.charCodeAt(0).toString(16).toUpperCase()}function a(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+r(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+r(e)})}function l(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+r(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+r(e)})}function i(e){return n[e.type](e)}return"Expected "+function(e){var t,n,r=e.map(i);if(r.sort(),r.length>0){for(t=1,n=1;t<r.length;t++)r[t-1]!==r[t]&&(r[n]=r[t],n++);r.length=n}switch(r.length){case 1:return r[0];case 2:return r[0]+" or "+r[1];default:return r.slice(0,-1).join(", ")+", or "+r[r.length-1]}}(e)+" but "+function(e){return e?'"'+a(e)+'"':"end of input"}(t)+" found."};const F=0xffffffffffffffffn;function q(e,t){return 0xffffffffffffffffn&(e<<t|e>>64n-t)}function B(e,t){return e*t&F}const U=(K=0xa187eb39cdcaed8f31c4b365b102e01en,function(){let e=BigInt(K&F),t=BigInt(K>>64n&F);const n=B(q(B(e,5n),7n),9n);return t^=e,e=(q(e,24n)^t^t<<16n)&F,t=q(t,37n),K=t<<64n|e,n});var K;const W=Array.from({length:2},()=>Array.from({length:6},()=>Array.from({length:128},()=>U()))),H=Array.from({length:8},()=>U()),V=Array.from({length:16},()=>U()),Q=U(),$="w",G="b",X="p",Y="b",Z="r",J="q",ee="k",te="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";class ne{constructor(e,t){o(this,"color",void 0),o(this,"from",void 0),o(this,"to",void 0),o(this,"piece",void 0),o(this,"captured",void 0),o(this,"promotion",void 0),o(this,"flags",void 0),o(this,"san",void 0),o(this,"lan",void 0),o(this,"before",void 0),o(this,"after",void 0);const{color:n,piece:r,from:a,to:l,flags:i,captured:s,promotion:c}=t,u=we(a),d=we(l);this.color=n,this.piece=r,this.from=u,this.to=d,this.san=e._moveToSan(t,e._moves({legal:!0})),this.lan=u+d,this.before=e.fen(),e._makeMove(t),this.after=e.fen(),e._undoMove(),this.flags="";for(const o in le)le[o]&i&&(this.flags+=ae[o]);s&&(this.captured=s),c&&(this.promotion=c,this.lan+=c)}isCapture(){return this.flags.indexOf(ae.CAPTURE)>-1}isPromotion(){return this.flags.indexOf(ae.PROMOTION)>-1}isEnPassant(){return this.flags.indexOf(ae.EP_CAPTURE)>-1}isKingsideCastle(){return this.flags.indexOf(ae.KSIDE_CASTLE)>-1}isQueensideCastle(){return this.flags.indexOf(ae.QSIDE_CASTLE)>-1}isBigPawn(){return this.flags.indexOf(ae.BIG_PAWN)>-1}}const re=-1,ae={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q",NULL_MOVE:"-"},le={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64,NULL_MOVE:128},ie={Event:"?",Site:"?",Date:"????.??.??",Round:"?",White:"?",Black:"?",Result:"*"},oe=c(c({},ie),{WhiteTitle:null,BlackTitle:null,WhiteElo:null,BlackElo:null,WhiteUSCF:null,BlackUSCF:null,WhiteNA:null,BlackNA:null,WhiteType:null,BlackType:null,EventDate:null,EventSponsor:null,Section:null,Stage:null,Board:null,Opening:null,Variation:null,SubVariation:null,ECO:null,NIC:null,Time:null,UTCTime:null,UTCDate:null,TimeControl:null,SetUp:null,FEN:null,Termination:null,Annotator:null,Mode:null,PlyCount:null}),se={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},ce={b:[16,32,17,15],w:[-16,-32,-17,-15]},ue={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},de=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],fe=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],he={p:1,n:2,b:4,r:8,q:16,k:32},pe=["n",Y,Z,J],me={[ee]:le.KSIDE_CASTLE,[J]:le.QSIDE_CASTLE},ge={w:[{square:se.a1,flag:le.QSIDE_CASTLE},{square:se.h1,flag:le.KSIDE_CASTLE}],b:[{square:se.a8,flag:le.QSIDE_CASTLE},{square:se.h8,flag:le.KSIDE_CASTLE}]},be={b:1,w:6},ve="--";function xe(e){return e>>4}function ye(e){return 15&e}function ke(e){return-1!=="0123456789".indexOf(e)}function we(e){const t=ye(e),n=xe(e);return"abcdefgh".substring(t,t+1)+"87654321".substring(n,n+1)}function Se(e){return e===$?G:$}function ze(e,t,n,r,a){let l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:le.NORMAL;const o=xe(r);if(a!==X||7!==o&&0!==o)e.push({color:t,from:n,to:r,piece:a,captured:l,flags:i});else for(let s=0;s<pe.length;s++){const o=pe[s];e.push({color:t,from:n,to:r,piece:a,captured:l,promotion:o,flags:i|le.PROMOTION})}}function Ne(e){let t=e.charAt(0);if(t>="a"&&t<="h"){if(e.match(/[a-h]\d.*[a-h]\d/))return;return X}return t=t.toLowerCase(),"o"===t?ee:t}function Ce(e){return e.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}class _e{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,{skipValidation:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,"_board",new Array(128)),o(this,"_turn",$),o(this,"_header",{}),o(this,"_kings",{w:re,b:re}),o(this,"_epSquare",-1),o(this,"_halfMoves",0),o(this,"_moveNumber",0),o(this,"_history",[]),o(this,"_comments",{}),o(this,"_castling",{w:0,b:0}),o(this,"_hash",0n),o(this,"_positionCount",new Map),this.load(e,{skipValidation:t})}clear(){let{preserveHeaders:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._board=new Array(128),this._kings={w:re,b:re},this._turn=$,this._castling={w:0,b:0},this._epSquare=re,this._halfMoves=0,this._moveNumber=1,this._history=[],this._comments={},this._header=e?this._header:c({},oe),this._hash=this._computeHash(),this._positionCount=new Map,this._header.SetUp=null,this._header.FEN=null}load(e){let{skipValidation:t=!1,preserveHeaders:n=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.split(/\s+/);if(r.length>=2&&r.length<6){const t=["-","-","0","1"];e=r.concat(t.slice(-(6-r.length))).join(" ")}if(r=e.split(/\s+/),!t){const{ok:t,error:n}=function(e){const t=e.split(/\s+/);if(6!==t.length)return{ok:!1,error:"Invalid FEN: must contain six space-delimited fields"};const n=parseInt(t[5],10);if(isNaN(n)||n<=0)return{ok:!1,error:"Invalid FEN: move number must be a positive integer"};const r=parseInt(t[4],10);if(isNaN(r)||r<0)return{ok:!1,error:"Invalid FEN: half move counter number must be a non-negative integer"};if(!/^(-|[abcdefgh][36])$/.test(t[3]))return{ok:!1,error:"Invalid FEN: en-passant square is invalid"};if(/[^kKqQ-]/.test(t[2]))return{ok:!1,error:"Invalid FEN: castling availability is invalid"};if(!/^(w|b)$/.test(t[1]))return{ok:!1,error:"Invalid FEN: side-to-move is invalid"};const a=t[0].split("/");if(8!==a.length)return{ok:!1,error:"Invalid FEN: piece data does not contain 8 '/'-delimited rows"};for(let i=0;i<a.length;i++){let e=0,t=!1;for(let n=0;n<a[i].length;n++)if(ke(a[i][n])){if(t)return{ok:!1,error:"Invalid FEN: piece data is invalid (consecutive number)"};e+=parseInt(a[i][n],10),t=!0}else{if(!/^[prnbqkPRNBQK]$/.test(a[i][n]))return{ok:!1,error:"Invalid FEN: piece data is invalid (invalid piece)"};e+=1,t=!1}if(8!==e)return{ok:!1,error:"Invalid FEN: piece data is invalid (too many squares in rank)"}}if("3"==t[3][1]&&"w"==t[1]||"6"==t[3][1]&&"b"==t[1])return{ok:!1,error:"Invalid FEN: illegal en-passant square"};const l=[{color:"white",regex:/K/g},{color:"black",regex:/k/g}];for(const{color:i,regex:o}of l){if(!o.test(t[0]))return{ok:!1,error:"Invalid FEN: missing ".concat(i," king")};if((t[0].match(o)||[]).length>1)return{ok:!1,error:"Invalid FEN: too many ".concat(i," kings")}}return Array.from(a[0]+a[7]).some(e=>"P"===e.toUpperCase())?{ok:!1,error:"Invalid FEN: some pawns are on the edge rows"}:{ok:!0}}(e);if(!t)throw new Error(n)}const a=r[0];let l=0;this.clear({preserveHeaders:n});for(let i=0;i<a.length;i++){const e=a.charAt(i);if("/"===e)l+=8;else if(ke(e))l+=parseInt(e,10);else{const t=e<"a"?$:G;this._put({type:e.toLowerCase(),color:t},we(l)),l++}}this._turn=r[1],r[2].indexOf("K")>-1&&(this._castling.w|=le.KSIDE_CASTLE),r[2].indexOf("Q")>-1&&(this._castling.w|=le.QSIDE_CASTLE),r[2].indexOf("k")>-1&&(this._castling.b|=le.KSIDE_CASTLE),r[2].indexOf("q")>-1&&(this._castling.b|=le.QSIDE_CASTLE),this._epSquare="-"===r[3]?re:se[r[3]],this._halfMoves=parseInt(r[4],10),this._moveNumber=parseInt(r[5],10),this._hash=this._computeHash(),this._updateSetup(e),this._incPositionCount()}fen(){let{forceEnpassantSquare:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=0,n="";for(let o=se.a8;o<=se.h1;o++){if(this._board[o]){t>0&&(n+=t,t=0);const{color:e,type:r}=this._board[o];n+=e===$?r.toUpperCase():r.toLowerCase()}else t++;o+1&136&&(t>0&&(n+=t),o!==se.h1&&(n+="/"),t=0,o+=8)}let r="";this._castling[$]&le.KSIDE_CASTLE&&(r+="K"),this._castling[$]&le.QSIDE_CASTLE&&(r+="Q"),this._castling[G]&le.KSIDE_CASTLE&&(r+="k"),this._castling[G]&le.QSIDE_CASTLE&&(r+="q"),r=r||"-";let a="-";if(this._epSquare!==re)if(e)a=we(this._epSquare);else{const e=this._epSquare+(this._turn===$?16:-16),t=[e+1,e-1];for(const n of t){var l,i;if(136&n)continue;const e=this._turn;if((null===(l=this._board[n])||void 0===l?void 0:l.color)===e&&(null===(i=this._board[n])||void 0===i?void 0:i.type)===X){this._makeMove({color:e,from:n,to:this._epSquare,piece:X,captured:X,flags:le.EP_CAPTURE});const t=!this._isKingAttacked(e);if(this._undoMove(),t){a=we(this._epSquare);break}}}}return[n,this._turn,r,a,this._halfMoves,this._moveNumber].join(" ")}_pieceKey(e){if(!this._board[e])return 0n;const{color:t,type:n}=this._board[e],r={p:0,n:1,b:2,r:3,q:4,k:5}[n];return W[{w:0,b:1}[t]][r][e]}_epKey(){return this._epSquare===re?0n:H[7&this._epSquare]}_castlingKey(){const e=this._castling.w>>5|this._castling.b>>3;return V[e]}_computeHash(){let e=0n;for(let t=se.a8;t<=se.h1;t++)136&t?t+=7:this._board[t]&&(e^=this._pieceKey(t));return e^=this._epKey(),e^=this._castlingKey(),"b"===this._turn&&(e^=Q),e}_updateSetup(e){this._history.length>0||(e!==te?(this._header.SetUp="1",this._header.FEN=e):(this._header.SetUp=null,this._header.FEN=null))}reset(){this.load(te)}get(e){return this._board[se[e]]}findPiece(e){const t=[];for(let r=se.a8;r<=se.h1;r++){var n;136&r?r+=7:this._board[r]&&(null===(n=this._board[r])||void 0===n?void 0:n.color)===e.color&&this._board[r].color===e.color&&this._board[r].type===e.type&&t.push(we(r))}return t}put(e,t){let{type:n,color:r}=e;return!!this._put({type:n,color:r},t)&&(this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),!0)}_set(e,t){this._hash^=this._pieceKey(e),this._board[e]=t,this._hash^=this._pieceKey(e)}_put(e,t){let{type:n,color:r}=e;if(-1==="pnbrqkPNBRQK".indexOf(n.toLowerCase()))return!1;if(!(t in se))return!1;const a=se[t];if(n==ee&&this._kings[r]!=re&&this._kings[r]!=a)return!1;const l=this._board[a];return l&&l.type===ee&&(this._kings[l.color]=re),this._set(a,{type:n,color:r}),n===ee&&(this._kings[r]=a),!0}_clear(e){this._hash^=this._pieceKey(e),delete this._board[e]}remove(e){const t=this.get(e);return this._clear(se[e]),t&&t.type===ee&&(this._kings[t.color]=re),this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),t}_updateCastlingRights(){var e,t,n,r,a,l,i,o,s,c,u,d;this._hash^=this._castlingKey();const f=(null===(e=this._board[se.e1])||void 0===e?void 0:e.type)===ee&&(null===(t=this._board[se.e1])||void 0===t?void 0:t.color)===$,h=(null===(n=this._board[se.e8])||void 0===n?void 0:n.type)===ee&&(null===(r=this._board[se.e8])||void 0===r?void 0:r.color)===G;f&&(null===(a=this._board[se.a1])||void 0===a?void 0:a.type)===Z&&(null===(l=this._board[se.a1])||void 0===l?void 0:l.color)===$||(this._castling.w&=-65),f&&(null===(i=this._board[se.h1])||void 0===i?void 0:i.type)===Z&&(null===(o=this._board[se.h1])||void 0===o?void 0:o.color)===$||(this._castling.w&=-33),h&&(null===(s=this._board[se.a8])||void 0===s?void 0:s.type)===Z&&(null===(c=this._board[se.a8])||void 0===c?void 0:c.color)===G||(this._castling.b&=-65),h&&(null===(u=this._board[se.h8])||void 0===u?void 0:u.type)===Z&&(null===(d=this._board[se.h8])||void 0===d?void 0:d.color)===G||(this._castling.b&=-33),this._hash^=this._castlingKey()}_updateEnPassantSquare(){var e,t;if(this._epSquare===re)return;const n=this._epSquare+(this._turn===$?-16:16),r=this._epSquare+(this._turn===$?16:-16),a=[r+1,r-1];if(null!==this._board[n]||null!==this._board[this._epSquare]||(null===(e=this._board[r])||void 0===e?void 0:e.color)!==Se(this._turn)||(null===(t=this._board[r])||void 0===t?void 0:t.type)!==X)return this._hash^=this._epKey(),void(this._epSquare=re);a.some(e=>{var t,n;return!(136&e)&&(null===(t=this._board[e])||void 0===t?void 0:t.color)===this._turn&&(null===(n=this._board[e])||void 0===n?void 0:n.type)===X})||(this._hash^=this._epKey(),this._epSquare=re)}_attacked(e,t,n){const r=[];for(let a=se.a8;a<=se.h1;a++){if(136&a){a+=7;continue}if(void 0===this._board[a]||this._board[a].color!==e)continue;const l=this._board[a],i=a-t;if(0===i)continue;const o=i+119;if(de[o]&he[l.type]){if(l.type===X){if(i>0&&l.color===$||i<=0&&l.color===G){if(!n)return!0;r.push(we(a))}continue}if("n"===l.type||"k"===l.type){if(n){r.push(we(a));continue}return!0}const e=fe[o];let s=a+e,c=!1;for(;s!==t;){if(null!=this._board[s]){c=!0;break}s+=e}if(!c){if(n){r.push(we(a));continue}return!0}}}return!!n&&r}attackers(e,t){return t?this._attacked(t,se[e],!0):this._attacked(this._turn,se[e],!0)}_isKingAttacked(e){const t=this._kings[e];return-1!==t&&this._attacked(Se(e),t)}hash(){return this._hash.toString(16)}isAttacked(e,t){return this._attacked(t,se[e])}isCheck(){return this._isKingAttacked(this._turn)}inCheck(){return this.isCheck()}isCheckmate(){return this.isCheck()&&0===this._moves().length}isStalemate(){return!this.isCheck()&&0===this._moves().length}isInsufficientMaterial(){const e={b:0,n:0,r:0,q:0,k:0,p:0},t=[];let n=0,r=0;for(let a=se.a8;a<=se.h1;a++){if(r=(r+1)%2,136&a){a+=7;continue}const l=this._board[a];l&&(e[l.type]=l.type in e?e[l.type]+1:1,l.type===Y&&t.push(r),n++)}if(2===n)return!0;if(3===n&&(1===e[Y]||1===e.n))return!0;if(n===e[Y]+2){let e=0;const n=t.length;for(let r=0;r<n;r++)e+=t[r];if(0===e||e===n)return!0}return!1}isThreefoldRepetition(){return this._getPositionCount(this._hash)>=3}isDrawByFiftyMoves(){return this._halfMoves>=100}isDraw(){return this.isDrawByFiftyMoves()||this.isStalemate()||this.isInsufficientMaterial()||this.isThreefoldRepetition()}isGameOver(){return this.isCheckmate()||this.isDraw()}moves(){let{verbose:e=!1,square:t,piece:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this._moves({square:t,piece:n});return e?r.map(e=>new ne(this,e)):r.map(e=>this._moveToSan(e,r))}_moves(){let{legal:e=!0,piece:t,square:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=n?n.toLowerCase():void 0,a=null===t||void 0===t?void 0:t.toLowerCase(),l=[],i=this._turn,o=Se(i);let s=se.a8,c=se.h1,u=!1;if(r){if(!(r in se))return[];s=c=se[r],u=!0}for(let h=s;h<=c;h++){if(136&h){h+=7;continue}if(!this._board[h]||this._board[h].color===o)continue;const{type:e}=this._board[h];let t;if(e===X){if(a&&a!==e)continue;t=h+ce[i][0],this._board[t]||(ze(l,i,h,t,X),t=h+ce[i][1],be[i]!==xe(h)||this._board[t]||ze(l,i,h,t,X,void 0,le.BIG_PAWN));for(let e=2;e<4;e++){var d;t=h+ce[i][e],136&t||((null===(d=this._board[t])||void 0===d?void 0:d.color)===o?ze(l,i,h,t,X,this._board[t].type,le.CAPTURE):t===this._epSquare&&ze(l,i,h,t,X,X,le.EP_CAPTURE))}}else{if(a&&a!==e)continue;for(let n=0,r=ue[e].length;n<r;n++){const r=ue[e][n];for(t=h;t+=r,!(136&t);){if(this._board[t]){if(this._board[t].color===i)break;ze(l,i,h,t,e,this._board[t].type,le.CAPTURE);break}if(ze(l,i,h,t,e),"n"===e||e===ee)break}}}}if((void 0===a||a===ee)&&(!u||c===this._kings[i])){if(this._castling[i]&le.KSIDE_CASTLE){const e=this._kings[i],t=e+2;this._board[e+1]||this._board[t]||this._attacked(o,this._kings[i])||this._attacked(o,e+1)||this._attacked(o,t)||ze(l,i,this._kings[i],t,ee,void 0,le.KSIDE_CASTLE)}if(this._castling[i]&le.QSIDE_CASTLE){const e=this._kings[i],t=e-2;this._board[e-1]||this._board[e-2]||this._board[e-3]||this._attacked(o,this._kings[i])||this._attacked(o,e-1)||this._attacked(o,t)||ze(l,i,this._kings[i],t,ee,void 0,le.QSIDE_CASTLE)}}if(!e||-1===this._kings[i])return l;const f=[];for(let h=0,p=l.length;h<p;h++)this._makeMove(l[h]),this._isKingAttacked(i)||f.push(l[h]),this._undoMove();return f}move(e){let{strict:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null;if("string"===typeof e)n=this._moveFromSan(e,t);else if(null===e)n=this._moveFromSan(ve,t);else if("object"===typeof e){const t=this._moves();for(let r=0,a=t.length;r<a;r++)if(e.from===we(t[r].from)&&e.to===we(t[r].to)&&(!("promotion"in t[r])||e.promotion===t[r].promotion)){n=t[r];break}}if(!n)throw"string"===typeof e?new Error("Invalid move: ".concat(e)):new Error("Invalid move: ".concat(JSON.stringify(e)));if(this.isCheck()&&n.flags&le.NULL_MOVE)throw new Error("Null move not allowed when in check");const r=new ne(this,n);return this._makeMove(n),this._incPositionCount(),r}_push(e){this._history.push({move:e,kings:{b:this._kings.b,w:this._kings.w},turn:this._turn,castling:{b:this._castling.b,w:this._castling.w},epSquare:this._epSquare,halfMoves:this._halfMoves,moveNumber:this._moveNumber})}_movePiece(e,t){this._hash^=this._pieceKey(e),this._board[t]=this._board[e],delete this._board[e],this._hash^=this._pieceKey(t)}_makeMove(e){const t=this._turn,n=Se(t);if(this._push(e),e.flags&le.NULL_MOVE)return t===G&&this._moveNumber++,this._halfMoves++,this._turn=n,void(this._epSquare=re);if(this._hash^=this._epKey(),this._hash^=this._castlingKey(),e.captured&&(this._hash^=this._pieceKey(e.to)),this._movePiece(e.from,e.to),e.flags&le.EP_CAPTURE&&(this._turn===G?this._clear(e.to-16):this._clear(e.to+16)),e.promotion&&(this._clear(e.to),this._set(e.to,{type:e.promotion,color:t})),this._board[e.to].type===ee){if(this._kings[t]=e.to,e.flags&le.KSIDE_CASTLE){const t=e.to-1,n=e.to+1;this._movePiece(n,t)}else if(e.flags&le.QSIDE_CASTLE){const t=e.to+1,n=e.to-2;this._movePiece(n,t)}this._castling[t]=0}if(this._castling[t])for(let o=0,s=ge[t].length;o<s;o++)if(e.from===ge[t][o].square&&this._castling[t]&ge[t][o].flag){this._castling[t]^=ge[t][o].flag;break}if(this._castling[n])for(let o=0,s=ge[n].length;o<s;o++)if(e.to===ge[n][o].square&&this._castling[n]&ge[n][o].flag){this._castling[n]^=ge[n][o].flag;break}if(this._hash^=this._castlingKey(),e.flags&le.BIG_PAWN){var r,a,l,i;let o;o=t===G?e.to-16:e.to+16,(e.to-1&136||(null===(r=this._board[e.to-1])||void 0===r?void 0:r.type)!==X||(null===(a=this._board[e.to-1])||void 0===a?void 0:a.color)!==n)&&(e.to+1&136||(null===(l=this._board[e.to+1])||void 0===l?void 0:l.type)!==X||(null===(i=this._board[e.to+1])||void 0===i?void 0:i.color)!==n)?this._epSquare=re:(this._epSquare=o,this._hash^=this._epKey())}else this._epSquare=re;e.piece===X||e.flags&(le.CAPTURE|le.EP_CAPTURE)?this._halfMoves=0:this._halfMoves++,t===G&&this._moveNumber++,this._turn=n,this._hash^=Q}undo(){const e=this._hash,t=this._undoMove();if(t){const n=new ne(this,t);return this._decPositionCount(e),n}return null}_undoMove(){const e=this._history.pop();if(void 0===e)return null;this._hash^=this._epKey(),this._hash^=this._castlingKey();const t=e.move;this._kings=e.kings,this._turn=e.turn,this._castling=e.castling,this._epSquare=e.epSquare,this._halfMoves=e.halfMoves,this._moveNumber=e.moveNumber,this._hash^=this._epKey(),this._hash^=this._castlingKey(),this._hash^=Q;const n=this._turn,r=Se(n);if(t.flags&le.NULL_MOVE)return t;if(this._movePiece(t.to,t.from),t.piece&&(this._clear(t.from),this._set(t.from,{type:t.piece,color:n})),t.captured)if(t.flags&le.EP_CAPTURE){let e;e=n===G?t.to-16:t.to+16,this._set(e,{type:X,color:r})}else this._set(t.to,{type:t.captured,color:r});if(t.flags&(le.KSIDE_CASTLE|le.QSIDE_CASTLE)){let e,n;t.flags&le.KSIDE_CASTLE?(e=t.to+1,n=t.to-1):(e=t.to-2,n=t.to+1),this._movePiece(n,e)}return t}pgn(){let{newline:e="\n",maxWidth:t=0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=[];let r=!1;for(const d in this._header){this._header[d]&&n.push("[".concat(d,' "').concat(this._header[d],'"]')+e),r=!0}r&&this._history.length&&n.push(e);const a=e=>{const t=this._comments[this.fen()];if("undefined"!==typeof t){const n=e.length>0?" ":"";e="".concat(e).concat(n,"{").concat(t,"}")}return e},l=[];for(;this._history.length>0;)l.push(this._undoMove());const i=[];let o="";for(0===l.length&&i.push(a(""));l.length>0;){o=a(o);const e=l.pop();if(!e)break;if(this._history.length||"b"!==e.color)"w"===e.color&&(o.length&&i.push(o),o=this._moveNumber+".");else{const e="".concat(this._moveNumber,". ...");o=o?"".concat(o," ").concat(e):e}o=o+" "+this._moveToSan(e,this._moves({legal:!0})),this._makeMove(e)}if(o.length&&i.push(a(o)),i.push(this._header.Result||"*"),0===t)return n.join("")+i.join(" ");const s=function(){return n.length>0&&" "===n[n.length-1]&&(n.pop(),!0)},c=function(r,a){for(const l of a.split(" "))if(l){if(r+l.length>t){for(;s();)r--;n.push(e),r=0}n.push(l),r+=l.length,n.push(" "),r++}return s()&&r--,r};let u=0;for(let d=0;d<i.length;d++)u+i[d].length>t&&i[d].includes("{")?u=c(u,i[d]):(u+i[d].length>t&&0!==d?(" "===n[n.length-1]&&n.pop(),n.push(e),u=0):0!==d&&(n.push(" "),u++),n.push(i[d]),u+=i[d].length);return n.join("")}header(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;r+=2)"string"===typeof t[r]&&"string"===typeof t[r+1]&&(this._header[t[r]]=t[r+1]);return this._header}setHeader(e,t){var n;return this._header[e]=null!==(n=null!==t&&void 0!==t?t:ie[e])&&void 0!==n?n:null,this.getHeaders()}removeHeader(e){return e in this._header&&(this._header[e]=ie[e]||null,!0)}getHeaders(){const e={};for(const[t,n]of Object.entries(this._header))null!==n&&(e[t]=n);return e}loadPgn(e){let{strict:t=!1,newlineChar:n="\r?\n"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"\r?\n"!==n&&(e=e.replace(new RegExp(n,"g"),"\n"));const r=D(e);this.reset();const a=r.headers;let l="";for(const s in a)"fen"===s.toLowerCase()&&(l=a[s]),this.header(s,a[s]);if(t){if("1"===a.SetUp){if(!("FEN"in a))throw new Error("Invalid PGN: FEN tag must be supplied with SetUp tag");this.load(a.FEN,{preserveHeaders:!0})}}else l&&this.load(l,{preserveHeaders:!0});let i=r.root;for(;i;){if(i.move){const e=this._moveFromSan(i.move,t);if(null==e)throw new Error("Invalid move in PGN: ".concat(i.move));this._makeMove(e),this._incPositionCount()}void 0!==i.comment&&(this._comments[this.fen()]=i.comment),i=i.variations[0]}const o=r.result;o&&Object.keys(this._header).length&&this._header.Result!==o&&this.setHeader("Result",o)}_moveToSan(e,t){let n="";if(e.flags&le.KSIDE_CASTLE)n="O-O";else if(e.flags&le.QSIDE_CASTLE)n="O-O-O";else{if(e.flags&le.NULL_MOVE)return ve;if(e.piece!==X){const r=function(e,t){const n=e.from,r=e.to,a=e.piece;let l=0,i=0,o=0;for(let s=0,c=t.length;s<c;s++){const e=t[s].from,c=t[s].to;a===t[s].piece&&n!==e&&r===c&&(l++,xe(n)===xe(e)&&i++,ye(n)===ye(e)&&o++)}return l>0?i>0&&o>0?we(n):o>0?we(n).charAt(1):we(n).charAt(0):""}(e,t);n+=e.piece.toUpperCase()+r}e.flags&(le.CAPTURE|le.EP_CAPTURE)&&(e.piece===X&&(n+=we(e.from)[0]),n+="x"),n+=we(e.to),e.promotion&&(n+="="+e.promotion.toUpperCase())}return this._makeMove(e),this.isCheck()&&(this.isCheckmate()?n+="#":n+="+"),this._undoMove(),n}_moveFromSan(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Ce(e);if(t||("0-0"===n?n="O-O":"0-0-0"===n&&(n="O-O-O")),n==ve){return{color:this._turn,from:0,to:0,piece:"k",flags:le.NULL_MOVE}}let r,a,l,i,o,s=Ne(n),c=this._moves({legal:!0,piece:s});for(let d=0,f=c.length;d<f;d++)if(n===Ce(this._moveToSan(c[d],c)))return c[d];if(t)return null;let u=!1;if(a=n.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/),a?(r=a[1],l=a[2],i=a[3],o=a[4],1==l.length&&(u=!0)):(a=n.match(/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/),a&&(r=a[1],l=a[2],i=a[3],o=a[4],1==l.length&&(u=!0))),s=Ne(n),c=this._moves({legal:!0,piece:r||s}),!i)return null;for(let d=0,f=c.length;d<f;d++)if(l){if(!(r&&r.toLowerCase()!=c[d].piece||se[l]!=c[d].from||se[i]!=c[d].to||o&&o.toLowerCase()!=c[d].promotion))return c[d];if(u){const e=we(c[d].from);if((!r||r.toLowerCase()==c[d].piece)&&se[i]==c[d].to&&(l==e[0]||l==e[1])&&(!o||o.toLowerCase()==c[d].promotion))return c[d]}}else if(n===Ce(this._moveToSan(c[d],c)).replace("x",""))return c[d];return null}ascii(){let e="   +------------------------+\n";for(let t=se.a8;t<=se.h1;t++){if(0===ye(t)&&(e+=" "+"87654321"[xe(t)]+" |"),this._board[t]){const n=this._board[t].type;e+=" "+(this._board[t].color===$?n.toUpperCase():n.toLowerCase())+" "}else e+=" . ";t+1&136&&(e+="|\n",t+=8)}return e+="   +------------------------+\n",e+="     a  b  c  d  e  f  g  h",e}perft(e){const t=this._moves({legal:!1});let n=0;const r=this._turn;for(let a=0,l=t.length;a<l;a++)this._makeMove(t[a]),this._isKingAttacked(r)||(e-1>0?n+=this.perft(e-1):n++),this._undoMove();return n}setTurn(e){return this._turn!=e&&(this.move("--"),!0)}turn(){return this._turn}board(){const e=[];let t=[];for(let n=se.a8;n<=se.h1;n++)null==this._board[n]?t.push(null):t.push({square:we(n),type:this._board[n].type,color:this._board[n].color}),n+1&136&&(e.push(t),t=[],n+=8);return e}squareColor(e){if(e in se){const t=se[e];return(xe(t)+ye(t))%2===0?"light":"dark"}return null}history(){let{verbose:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=[],n=[];for(;this._history.length>0;)t.push(this._undoMove());for(;;){const r=t.pop();if(!r)break;e?n.push(new ne(this,r)):n.push(this._moveToSan(r,this._moves())),this._makeMove(r)}return n}_getPositionCount(e){var t;return null!==(t=this._positionCount.get(e))&&void 0!==t?t:0}_incPositionCount(){var e;this._positionCount.set(this._hash,(null!==(e=this._positionCount.get(this._hash))&&void 0!==e?e:0)+1)}_decPositionCount(e){var t;const n=null!==(t=this._positionCount.get(e))&&void 0!==t?t:0;1===n?this._positionCount.delete(e):this._positionCount.set(e,n-1)}_pruneComments(){const e=[],t={},n=e=>{e in this._comments&&(t[e]=this._comments[e])};for(;this._history.length>0;)e.push(this._undoMove());for(n(this.fen());;){const t=e.pop();if(!t)break;this._makeMove(t),n(this.fen())}this._comments=t}getComment(){return this._comments[this.fen()]}setComment(e){this._comments[this.fen()]=e.replace("{","[").replace("}","]")}deleteComment(){return this.removeComment()}removeComment(){const e=this._comments[this.fen()];return delete this._comments[this.fen()],e}getComments(){return this._pruneComments(),Object.keys(this._comments).map(e=>({fen:e,comment:this._comments[e]}))}deleteComments(){return this.removeComments()}removeComments(){return this._pruneComments(),Object.keys(this._comments).map(e=>{const t=this._comments[e];return delete this._comments[e],{fen:e,comment:t}})}setCastlingRights(e,t){for(const r of[ee,J])void 0!==t[r]&&(t[r]?this._castling[e]|=me[r]:this._castling[e]&=~me[r]);this._updateCastlingRights();const n=this.getCastlingRights(e);return(void 0===t[ee]||t[ee]===n[ee])&&(void 0===t[J]||t[J]===n[J])}getCastlingRights(e){return{[ee]:0!==(this._castling[e]&me[ee]),[J]:0!==(this._castling[e]&me[J])}}moveNumber(){return this._moveNumber}}const je={classicWood:{light:"#F0D9B5",dark:"#B58863",texture:"classicWood"},walnut:{light:"#D6BB90",dark:"#6F4628",texture:"wood"},glassyWood:{light:"#E2C9A6",dark:"#7A4B28",texture:"woodGlass"},ice:{light:"#EEF6FF",dark:"#255CA5",texture:"ice"},grass:{light:"#E6F4E6",dark:"#0C6139",texture:"grass"}},Ee=["a","b","c","d","e","f","g","h"],Me={w:{k:"https://upload.wikimedia.org/wikipedia/commons/4/42/Chess_klt45.svg",q:"https://upload.wikimedia.org/wikipedia/commons/1/15/Chess_qlt45.svg",r:"https://upload.wikimedia.org/wikipedia/commons/7/72/Chess_rlt45.svg",b:"https://upload.wikimedia.org/wikipedia/commons/b/b1/Chess_blt45.svg",n:"https://upload.wikimedia.org/wikipedia/commons/7/70/Chess_nlt45.svg",p:"https://upload.wikimedia.org/wikipedia/commons/4/45/Chess_plt45.svg"},b:{k:"https://upload.wikimedia.org/wikipedia/commons/f/f0/Chess_kdt45.svg",q:"https://upload.wikimedia.org/wikipedia/commons/4/47/Chess_qdt45.svg",r:"https://upload.wikimedia.org/wikipedia/commons/f/ff/Chess_rdt45.svg",b:"https://upload.wikimedia.org/wikipedia/commons/9/98/Chess_bdt45.svg",n:"https://upload.wikimedia.org/wikipedia/commons/e/ef/Chess_ndt45.svg",p:"https://upload.wikimedia.org/wikipedia/commons/c/c7/Chess_pdt45.svg"}};function Pe(e,t,n){const r=e?n.light:n.dark,a=function(e,t){switch(e){case"classicWood":return{backgroundImage:"\n          repeating-linear-gradient(90deg,\n            rgba(0,0,0,".concat(t?".04":".07",") 0 2px,\n            rgba(0,0,0,0) 2px 10px\n          ),\n          repeating-linear-gradient(0deg,\n            rgba(255,255,255,").concat(t?".12":".06",") 0 6px,\n            rgba(255,255,255,0) 6px 22px\n          )\n        "),backgroundSize:"36px 100%, 100% 36px",backgroundBlendMode:"multiply, soft-light"};case"wood":return{backgroundImage:"\n          repeating-linear-gradient(90deg,\n            rgba(0,0,0,".concat(t?".025":".05",") 0 2px,\n            rgba(0,0,0,0) 2px 9px\n          )\n        "),backgroundBlendMode:"multiply"};case"woodGlass":return{backgroundImage:"\n          repeating-linear-gradient(90deg,\n            rgba(0,0,0,".concat(t?".04":".075",") 0 2px,\n            rgba(0,0,0,0) 2px 9px\n          ),\n          linear-gradient(135deg, rgba(255,255,255,").concat(t?".25":".08",") 0%, rgba(255,255,255,0) 60%)\n        "),backgroundBlendMode:"multiply, soft-light"};case"ice":return{backgroundImage:"\n          linear-gradient(180deg, rgba(255,255,255,.5), rgba(255,255,255,0) 60%)\n        ",backgroundBlendMode:"soft-light"};case"grass":return{backgroundImage:"\n          radial-gradient(rgba(0,0,0,".concat(t?".02":".05",") 1px, transparent 1px),\n          radial-gradient(rgba(255,255,255,").concat(t?".25":".05",") 1px, transparent 1px)\n        "),backgroundPosition:"0 0, 2px 2px",backgroundSize:"6px 6px, 6px 6px",backgroundBlendMode:"multiply"};default:return{}}}(n.texture,e);return c(c({backgroundColor:r},a),{},{transition:"transform 120ms ease-out",willChange:"transform"})}function Te(e){return{color:"rgba(26,18,10,.95)",fontVariantNumeric:"tabular-nums",fontWeight:900,letterSpacing:"0.02em",textShadow:"0 1px 0 rgba(255,255,255,.4), 0 2px 6px rgba(0,0,0,.12)",fontSize:Math.max(12,Math.floor(.2*e)),lineHeight:1}}function Le(e){let{title:t,pressed:n,onClick:r,kind:a="eye"}=e;const l=n?"bg-gradient-to-b from-amber-500 to-amber-600 text-white":"bg-gradient-to-b from-zinc-200 to-zinc-300 text-zinc-800";return(0,u.jsx)("button",{className:"".concat("w-11 h-11 rounded-2xl flex items-center justify-center shadow-sm active:scale-[.98] transition"," ").concat(l),onClick:r,"aria-pressed":n,title:t,children:"eye"===a?n?(0,u.jsxs)("svg",{width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",children:[(0,u.jsx)("path",{d:"M3 3l18 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),(0,u.jsx)("path",{d:"M10.6 10.6A3 3 0 0013.4 13.4",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),(0,u.jsx)("path",{d:"M2 10c1-1 5-7 10-7 5.5 0 10 6 10 7-1 1.2-2.5 3.2-4.7 4.7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]}):(0,u.jsxs)("svg",{width:"26",height:"26",viewBox:"0 0 24 24",fill:"none",children:[(0,u.jsx)("path",{d:"M1 12s4-7 11-7 11 7 11 7-4 7-11 7S1 12 1 12z",stroke:"currentColor",strokeWidth:"2",fill:"none"}),(0,u.jsx)("circle",{cx:"12",cy:"12",r:"3",stroke:"currentColor",strokeWidth:"2",fill:"none"})]}):(0,u.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:(0,u.jsx)("path",{d:"M12 3a3 3 0 00-2.8 4H9a3 3 0 103.6 0h-.2A3 3 0 0012 3zM8 14h8l-2-3h-4l-2 3zM7 16h10v2H7zM6 20h12v1H6z"})})})}function Ae(e){let{containerRef:t,themeVars:n,boardArray:a,showPieces:l,showLabels:i,ghostMetaMap:o,fromSq:s,legalSet:d,onSquareDown:f,onSquareUp:h,lastFromToSet:p,flipped:m}=e;const[g,b]=(0,r.useState)(520),[v,x]=(0,r.useState)(!1);(0,r.useEffect)(()=>{if(!t.current)return;const e=t.current,n=()=>{const t=window.innerWidth<768;if(x(t),t){const e=Math.max(260,window.innerWidth);b(Math.floor(e))}else{const t=24,n=8,r=8,a=Math.max(260,e.clientWidth-t-n-r),l=160,i=110,o=Math.max(320,window.innerHeight-l-i);b(Math.floor(Math.min(a,o)))}document.documentElement.style.overflowX="hidden",document.body.style.overflowX="hidden"};n();const r=new ResizeObserver(n);return r.observe(e),window.addEventListener("resize",n),()=>{r.disconnect(),window.removeEventListener("resize",n)}},[t]);const y=(0,r.useMemo)(()=>{const e=Array.from({length:8},(e,t)=>t);return m?e.slice().reverse():e},[m]),k=(0,r.useMemo)(()=>{const e=Array.from({length:8},(e,t)=>t);return m?e.slice().reverse():e},[m]),w=(0,r.useMemo)(()=>m?[1,2,3,4,5,6,7,8]:[8,7,6,5,4,3,2,1],[m]),S=(0,r.useMemo)(()=>m?[...Ee].reverse():Ee,[m]),z=g/8;return(0,u.jsx)("div",{className:"w-full flex justify-center items-center",children:(0,u.jsxs)("div",{className:"grid gap-2 max-w-full",style:{gridTemplateColumns:v?"1fr":"auto 1fr",gridTemplateRows:v?"1fr":"1fr auto"},children:[!v&&(0,u.jsx)("div",{className:"flex flex-col justify-between pr-1 select-none text-zinc-900 dark:text-zinc-100",style:{gridColumn:1,gridRow:1},children:w.map((e,t)=>(0,u.jsx)("div",{className:"flex items-center justify-center font-bold",style:{height:z,width:24},"aria-hidden":!0,children:i?e:""},"rank-".concat(e,"-").concat(t)))}),(0,u.jsx)("div",{className:"rounded-2xl overflow-hidden relative bg-white dark:bg-zinc-900",style:{width:g,height:g,gridColumn:v?"1":"2",gridRow:1},children:(0,u.jsx)("div",{className:"w-full h-full grid",style:{gridTemplateColumns:"repeat(".concat(8,", 1fr)"),gridTemplateRows:"repeat(".concat(8,", 1fr)")},role:"grid","aria-label":"Ghost Moves board",children:y.map(e=>k.map(t=>{const r=((e,t)=>String.fromCharCode(97+t)+(8-e))(e,t),o=a[e][t],s=((e,t)=>(t+(7-e))%2===1)(e,t),m=o&&l?Me[o.color][o.type]:null,g=t===k[0],b=e===y[y.length-1],x=r[0],w=r[1],S=p.has(r),N=d.has(r);return(0,u.jsxs)("button",{className:"relative touch-manipulation",style:c(c({},Pe(s,0,n)),{},{cursor:"pointer",transform:"translateZ(0)",boxShadow:S?"inset 0 0 0 3px rgba(59,130,246,.5)":"none"}),onPointerDown:()=>f(r),onPointerUp:()=>h(r),onClick:e=>e.preventDefault(),children:[N&&!o&&(0,u.jsx)("div",{className:"absolute rounded-full pointer-events-none",style:{width:"30%",height:"30%",left:"50%",top:"50%",transform:"translate(-50%, -50%)",background:"rgba(16,185,129,0.28)",boxShadow:"0 0 0 2px rgba(16,185,129,0.20)",zIndex:1}}),m&&(0,u.jsx)("img",{src:m,alt:"",draggable:!1,className:"absolute pointer-events-none",style:{width:"calc(".concat(z,"px * .88)"),height:"auto",left:"50%",top:"50%",transform:"translate(-50%, -50%)",filter:"drop-shadow(0 3px 6px rgba(0,0,0,.25))",zIndex:2}}),v&&i&&(0,u.jsxs)(u.Fragment,{children:[g&&(0,u.jsx)("span",{className:"absolute select-none",style:c(c({},Te(z)),{},{top:Math.max(3,Math.floor(.06*z)),left:Math.max(5,Math.floor(.07*z)),zIndex:1}),"aria-hidden":!0,children:w}),b&&(0,u.jsx)("span",{className:"absolute select-none",style:c(c({},Te(z)),{},{right:Math.max(5,Math.floor(.07*z)),bottom:Math.max(3,Math.floor(.06*z)),zIndex:1,textTransform:"lowercase"}),"aria-hidden":!0,children:x})]})]},r)}))})}),!v&&(0,u.jsxs)("div",{className:"flex gap-0 select-none text-zinc-900 dark:text-zinc-100",style:{gridColumn:"1 / span 2",gridRow:2,width:g+24},children:[(0,u.jsx)("div",{style:{width:24},"aria-hidden":!0}),(0,u.jsx)("div",{className:"grid w-full",style:{gridTemplateColumns:"repeat(".concat(8,", 1fr)")},children:S.map(e=>(0,u.jsx)("div",{className:"flex items-center justify-center font-bold",style:{height:24},"aria-hidden":!0,children:i?e:""},"file-".concat(e)))})]})]})})}function Re(e){let{history:t,viewIndex:n,goToIndex:a,className:l=""}=e;return(0,u.jsxs)("div",{className:"rounded-xl border border-zinc-200 dark:border-zinc-800 p-3 shadow-sm bg-white dark:bg-zinc-900 ".concat(l),children:[(0,u.jsx)("div",{className:"text-xs font-bold uppercase tracking-wide text-zinc-500 dark:text-zinc-400 mb-2",children:"Move History"}),(0,u.jsxs)("div",{className:"grid grid-cols-[46px_1fr_1fr] gap-2 max-h-[60vh] overflow-auto rounded-lg",children:[(0,u.jsx)("div",{className:"text-xs font-bold text-zinc-500 sticky top-0 bg-white/80 dark:bg-zinc-900/80 backdrop-blur px-2 py-1",children:"#"}),(0,u.jsx)("div",{className:"text-xs font-bold text-zinc-500 sticky top-0 bg-white/80 dark:bg-zinc-900/80 backdrop-blur px-2 py-1",children:"White"}),(0,u.jsx)("div",{className:"text-xs font-bold text-zinc-500 sticky top-0 bg-white/80 dark:bg-zinc-900/80 backdrop-blur px-2 py-1",children:"Black"}),Array.from({length:Math.ceil(t.length/2)},(e,l)=>{const i=t[2*l],o=t[2*l+1],s=n===2*l,c=n===2*l+1;return(0,u.jsxs)(r.Fragment,{children:[(0,u.jsxs)("div",{className:"px-2 py-1 text-xs text-zinc-500",children:[l+1,"."]}),(0,u.jsx)("button",{className:"text-sm text-left px-2 py-1 rounded ".concat(s?"bg-sky-600 text-white":"hover:bg-zinc-100 dark:hover:bg-zinc-800"),onClick:()=>i&&a(2*l),children:i?i.san:""}),(0,u.jsx)("button",{className:"text-sm text-left px-2 py-1 rounded ".concat(c?"bg-sky-600 text-white":"hover:bg-zinc-100 dark:hover:bg-zinc-800"),onClick:()=>o&&a(2*l+1),children:o?o.san:""})]},l)})]})]})}function Oe(){const[e,t]=(0,r.useState)("classicWood"),n=je[e]||je.classicWood,[a,l]=(0,r.useState)(!0),[i,o]=(0,r.useState)("w"),s="b"===i,[c]=(0,r.useState)(()=>new _e),[f,h]=(0,r.useState)(0),[p,m]=(0,r.useState)(!1),[g,b]=(0,r.useState)(!0),[v,x]=(0,r.useState)(null),[y,k]=(0,r.useState)([]),w=(0,r.useMemo)(()=>{const e=new Map;for(const t of y)e.set(t.to,{capture:t.capture,unique:t.unique});return e},[y]),S=(0,r.useMemo)(()=>new Set(y.map(e=>e.to)),[y]),[z,N]=(0,r.useState)(null),C=(0,r.useMemo)(()=>new Set(z?[z.from,z.to]:[]),[z]),_=[6,8,10,12,14],[j,E]=(0,r.useState)(()=>_[Math.floor(Math.random()*_.length)]),[M,P]=(0,r.useState)(()=>2+Math.floor(2*Math.random())),[T,L]=(0,r.useState)(""),[A,R]=(0,r.useState)([]),[O,I]=(0,r.useState)(-1),[D,F]=(0,r.useState)(!1),[q,B]=(0,r.useState)(null),[U,K]=(0,r.useState)(null),W=(0,r.useRef)(null),[H,V]=(0,r.useState)(null);function Q(e){V(e),window.clearTimeout(Q._t),Q._t=window.setTimeout(()=>V(null),2200)}const $=(0,r.useMemo)(()=>c.board(),[f]),G=c.turn(),X=(0,r.useMemo)(()=>c.isGameOver()?c.isCheckmate()?"Checkmate":c.isDraw()?"Draw":"Game over":c.isCheck()?"".concat("w"===G?"White":"Black"," to move \u2014 Check!"):"".concat("w"===G?"White":"Black"," to move"),[f,G]),Y=(0,r.useMemo)(()=>{var e,t;const n=Math.ceil(A.length/2)||1,r=(null===(e=A[2*(n-1)])||void 0===e?void 0:e.san)||"",a=(null===(t=A[2*(n-1)+1])||void 0===t?void 0:t.san)||"";return"".concat(n,". ").concat(r||"\u2026"," \u2013 ").concat(a||"\u2026")},[A]);function Z(e){R(t=>[...t,{san:e}])}const J=(0,r.useMemo)(()=>{try{const e=c.moves({verbose:!0}).filter(e=>e.color===G),t=new Map;for(const n of e){const e=n.to;t.has(e)||t.set(e,new Set),t.get(e).add(n.from)}return t}catch(e){return new Map}},[f,G]);async function ee(){try{var e;W.current&&W.current.abort();const t=new AbortController;W.current=t,F(!0);const n=c.fen(),r=j,a="https://stockfish.online/api/s/v2.php?fen=".concat(encodeURIComponent(n),"&depth=").concat(r),l=await fetch(a,{method:"GET",headers:{Accept:"application/json"},mode:"cors",signal:t.signal});if(!l.ok)throw new Error("HTTP ".concat(l.status));const i=await l.json();if(!i||!0!==i.success)throw new Error(i&&i.data?String(i.data):"Engine error");B("number"===typeof i.evaluation?i.evaluation:"number"===typeof i.eval?i.eval:null),K(null!==(e=i.mate)&&void 0!==e?e:null);const o=function(e){if(!e||"string"!==typeof e)return null;const t=e.trim().split(/\s+/),n=t.indexOf("bestmove");return-1===n||n===t.length-1?null:t[n+1]}(i.bestmove);if(!o||!/^[a-h][1-8][a-h][1-8][qrbn]?$/i.test(o))throw new Error("No valid bestmove");const s=o.slice(0,2),u=o.slice(2,4),d=o[4],f=c.move({from:s,to:u,promotion:d});if(!f)throw new Error("Engine suggested illegal move: ".concat(o));Z(f.san),N({from:f.from,to:f.to}),x(null),k([]),h(e=>e+1),I(-1),P(e=>e>1?e-1:(E(_[Math.floor(Math.random()*_.length)]),2+Math.floor(2*Math.random())))}catch(t){"AbortError"!==(null===t||void 0===t?void 0:t.name)&&console.error(t)}finally{F(!1)}}function te(){const e="w"===i?"b":"w";c.turn()!==e||c.isGameOver()||ee()}(0,r.useEffect)(()=>{te()},[i,f]);const ne=(0,r.useCallback)(e=>{const t=c.get(e);if(!t)return x(null),void k([]);t.color===G&&(x(e),k(function(e){try{return c.moves({square:e,verbose:!0}).map(e=>{const t=J.get(e.to)||new Set;return{to:e.to,capture:!!e.captured,unique:1===t.size}})}catch(t){return[]}}(e)))},[c,G]);function re(e,t){try{const n=c.get(e),r=n&&"p"===n.type&&("w"===n.color&&"8"===t[1]||"b"===n.color&&"1"===t[1]),a=c.move({from:e,to:t,promotion:r?"q":void 0});return!!a&&(Z(a.san),N({from:a.from,to:a.to}),x(null),k([]),h(e=>e+1),I(-1),te(),!0)}catch(n){return!1}}function ae(e){v&&S.has(e)&&re(v,e)||ne(e)}function le(e){v&&S.has(e)&&re(v,e)}function ie(e){if(e<-1||e>=A.length)return;const t=new _e;for(let n=0;n<=e;n++)t.move(A[n].san);c.load(t.fen()),h(e=>e+1),I(e),x(null),k([])}const[oe,se]=(0,r.useState)(!1);(0,r.useEffect)(()=>{var e;let t=null,n=!1;function r(e){if(1!==e.touches.length)return;const r=e.touches[0].clientX;(window.innerWidth||document.documentElement.clientWidth)-r<=24&&(t=r,n=!0)}function a(e){if(!n||null==t)return;e.touches[0].clientX-t<-30&&(se(!0),n=!1,t=null)}function l(){n=!1,t=null}const i=window.matchMedia("(max-width: 767px)");function o(){i.matches?(window.addEventListener("touchstart",r,{passive:!0}),window.addEventListener("touchmove",a,{passive:!0}),window.addEventListener("touchend",l,{passive:!0})):(window.removeEventListener("touchstart",r),window.removeEventListener("touchmove",a),window.removeEventListener("touchend",l))}return o(),null===(e=i.addEventListener)||void 0===e||e.call(i,"change",o),()=>{var e;window.removeEventListener("touchstart",r),window.removeEventListener("touchmove",a),window.removeEventListener("touchend",l),null===(e=i.removeEventListener)||void 0===e||e.call(i,"change",o)}},[]);const[ce,ue]=(0,r.useState)(!1),de=(0,u.jsxs)("div",{className:"flex items-center justify-between gap-3 w-full",children:[(0,u.jsxs)("div",{className:"hidden md:block text-sm md:text-base font-semibold",children:[(0,u.jsx)("span",{className:"text-zinc-600 dark:text-zinc-400",children:"Status:"})," ",(0,u.jsx)("span",{className:"font-extrabold text-zinc-900 dark:text-zinc-100",children:X}),D&&(0,u.jsx)("span",{className:"ml-2 text-xs text-zinc-500",children:"engine thinking\u2026"})]}),(0,u.jsx)("div",{className:"md:block px-5 py-1.5 rounded-full bg-gradient-to-r from-sky-600 to-rose-600 text-white font-black tracking-wide text-base shadow-md",children:Y}),(0,u.jsxs)("div",{className:"flex items-center gap-3",children:[(0,u.jsx)("button",{className:"hidden md:inline-flex rounded-lg px-3 py-2 text-sm border border-zinc-300 dark:border-zinc-700 text-zinc-800 dark:text-zinc-100",onClick:()=>se(!0),title:"Show move list",children:"Moves"}),(0,u.jsxs)("div",{className:"hidden md:inline-flex rounded-lg overflow-hidden border border-zinc-300 dark:border-zinc-700",children:[(0,u.jsx)("button",{className:"px-3 py-2 text-sm ".concat("w"===i?"bg-sky-50 text-sky-700 dark:bg-sky-900/30 dark:text-sky-300":"bg-white dark:bg-zinc-900"),onClick:()=>o("w"),children:"White"}),(0,u.jsx)("button",{className:"px-3 py-2 text-sm border-l border-zinc-300 dark:border-zinc-700 ".concat("b"===i?"bg-sky-50 text-sky-700 dark:bg-sky-900/30 dark:text-sky-300":"bg-white dark:bg-zinc-900"),onClick:()=>o("b"),children:"Black"})]}),(0,u.jsxs)("div",{className:"hidden md:flex items-center gap-3",children:[(0,u.jsx)(Le,{title:p?"Show board":"Blindfold",pressed:p,onClick:()=>m(e=>!e),kind:"eye"}),(0,u.jsx)(Le,{title:g?"Hide pieces":"Show pieces",pressed:g,onClick:()=>b(e=>!e),kind:"piece"})]}),(0,u.jsx)("button",{className:"md:hidden rounded-lg px-3 py-2 text-sm text-white shadow-sm active:scale-[.98] bg-gradient-to-b from-amber-500 to-amber-600",onClick:()=>ue(!0),title:"Controls",children:"Controls"}),(0,u.jsxs)("div",{className:"md:hidden flex items-center gap-3",children:[(0,u.jsx)(Le,{title:p?"Show board":"Blindfold",pressed:p,onClick:()=>m(e=>!e),kind:"eye"}),(0,u.jsx)(Le,{title:g?"Hide pieces":"Show pieces",pressed:g,onClick:()=>b(e=>!e),kind:"piece"})]})]})]}),fe=(0,u.jsx)("div",{className:"grid gap-4",children:(0,u.jsxs)("div",{className:"rounded-xl border border-zinc-200 dark:border-zinc-800 p-3 shadow-sm bg-white dark:bg-zinc-900",children:[(0,u.jsx)("div",{className:"text-xs font-bold uppercase tracking-wide text-zinc-500 dark:text-zinc-400 mb-2",children:"Board"}),(0,u.jsxs)("div",{className:"grid gap-3",children:[(0,u.jsxs)("label",{className:"grid gap-1",children:[(0,u.jsx)("span",{className:"text-sm text-zinc-800 dark:text-zinc-100",children:"Theme"}),(0,u.jsx)("select",{className:"rounded-lg border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 text-zinc-900 dark:text-zinc-100 px-2 py-1",value:e,onChange:e=>t(e.target.value),children:Object.keys(je).map(e=>(0,u.jsx)("option",{value:e,children:e},e))})]}),(0,u.jsxs)("div",{className:"inline-flex rounded-lg overflow-hidden border border-zinc-300 dark:border-zinc-700 w-fit",children:[(0,u.jsx)("button",{className:"px-3 py-2 text-sm ".concat("w"===i?"bg-sky-50 text-sky-700 dark:bg-sky-900/30 dark:text-sky-300":"bg-white dark:bg-zinc-900"),onClick:()=>o("w"),children:"White"}),(0,u.jsx)("button",{className:"px-3 py-2 text-sm border-l border-zinc-300 dark:border-zinc-700 ".concat("b"===i?"bg-sky-50 text-sky-700 dark:bg-sky-900/30 dark:text-sky-300":"bg-white dark:bg-zinc-900"),onClick:()=>o("b"),children:"Black"})]}),(0,u.jsxs)("label",{className:"inline-flex items-center gap-2 text-sm",children:[(0,u.jsx)("input",{type:"checkbox",checked:a,onChange:()=>l(e=>!e)}),"Show rank/file labels"]}),(0,u.jsx)("button",{className:"px-3 py-2 rounded-lg border border-zinc-300 dark:border-zinc-700",onClick:function(){c.reset(),R([]),x(null),k([]),N(null),h(e=>e+1),I(-1),E(_[Math.floor(Math.random()*_.length)]),setTimeout(()=>{"b"===i&&ee()},0)},children:"Reset"})]})]})}),he=(0,u.jsx)("div",{className:"hidden md:block overflow-auto max-h-[70vh] pr-1",children:fe}),pe=(0,r.useRef)(null);return(0,u.jsxs)(d,{headerContent:de,sidebar:he,footer:(0,u.jsxs)("div",{className:"w-full flex flex-wrap gap-2 items-center justify-center",children:[(0,u.jsx)("input",{className:"rounded-lg border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 text-zinc-900 dark:text-zinc-100 px-3 py-2 w-[260px]",placeholder:"Enter move (SAN: Bc4  or UCI: e2e4)",value:T,onChange:e=>L(e.target.value),onKeyDown:e=>{"Enter"===e.key&&ge(T)&&L("")},disabled:i!==G,title:i!==G?"It's not your turn":""}),(0,u.jsx)("button",{className:"px-3 py-2 rounded-lg border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-900",onClick:()=>{ge(T)&&L("")},disabled:i!==G,children:"Play"}),(null!=U||null!=q)&&(0,u.jsx)("span",{className:"text-xs text-zinc-500 dark:text-zinc-400 ml-2",children:null!=U?"Mate ".concat(U>0?U:-U):"Eval ".concat(Number(q).toFixed(2))})]}),children:[p?(0,u.jsx)("div",{className:"px-3",children:(0,u.jsx)(Re,{history:A,viewIndex:O,goToIndex:ie})}):(0,u.jsxs)("div",{ref:pe,className:"w-full overflow-visible",children:[(0,u.jsx)("div",{className:"md:hidden",style:{width:"100vw",marginLeft:"calc(50% - 50vw)",marginRight:"calc(50% - 50vw)"},children:(0,u.jsx)(Ae,{containerRef:pe,themeVars:n,boardArray:$,showPieces:g,showLabels:a,ghostMetaMap:w,fromSq:v,legalSet:S,onSquareDown:ae,onSquareUp:le,lastFromToSet:C,flipped:s})}),(0,u.jsx)("div",{className:"hidden md:block",children:(0,u.jsx)(Ae,{containerRef:pe,themeVars:n,boardArray:$,showPieces:g,showLabels:a,ghostMetaMap:w,fromSq:v,legalSet:S,onSquareDown:ae,onSquareUp:le,lastFromToSet:C,flipped:s})})]}),oe&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"fixed inset-0 z-50 bg-black/40",onClick:()=>se(!1)}),(0,u.jsxs)("div",{className:" fixed z-50 top-0 right-0 bottom-0 w-[92vw] max-w-[420px] bg-white dark:bg-zinc-950 border-l border-zinc-200 dark:border-zinc-800 shadow-2xl animate-[slideIn_.18s_ease-out] ",role:"dialog","aria-label":"Move list",children:[(0,u.jsxs)("div",{className:"flex justify-between items-center p-4 border-b border-zinc-200 dark:border-zinc-800",children:[(0,u.jsx)("h3",{className:"text-sm font-semibold text-zinc-900 dark:text-zinc-100",children:"Move List"}),(0,u.jsx)("button",{className:"px-3 py-1 rounded-lg border border-zinc-300 dark:border-zinc-700",onClick:()=>se(!1),children:"Close"})]}),(0,u.jsx)("div",{className:"p-4",children:(0,u.jsx)(Re,{history:A,viewIndex:O,goToIndex:e=>{ie(e)},className:"border-0 p-0 shadow-none"})})]}),(0,u.jsx)("style",{children:"\n            @keyframes slideIn {\n              from { transform: translateX(8%); opacity: .6; }\n              to { transform: translateX(0); opacity: 1; }\n            }\n          "})]}),ce&&(0,u.jsxs)("div",{className:"fixed inset-0 z-50 md:hidden",children:[(0,u.jsx)("div",{className:"absolute inset-0 bg-black/40",onClick:()=>ue(!1)}),(0,u.jsxs)("div",{className:"absolute left-0 right-0 bottom-0 rounded-t-2xl bg-white dark:bg-zinc-950 border-t border-zinc-200 dark:border-zinc-800 p-4 max-h-[70vh] overflow-auto",children:[(0,u.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,u.jsx)("h3",{className:"text-sm font-semibold text-zinc-900 dark:text-zinc-100",children:"Controls"}),(0,u.jsx)("button",{className:"px-3 py-1 rounded-lg border border-zinc-300 dark:border-zinc-700",onClick:()=>ue(!1),children:"Close"})]}),fe]})]}),H&&(0,u.jsx)("div",{className:"fixed bottom-4 left-1/2 -translate-x-1/2 z-[60] px-4 py-2 rounded-xl bg-zinc-900 text-white text-sm shadow-lg",children:H})]});function me(e){if(!e)return"";let t=e.trim();return t=t.replace(/0/g,"O"),t=t.replace(/=([QRBN])/gi,(e,t)=>t),t=t.toLowerCase(),t=t.replace(/[x+#?!]/g,""),t=t.replace(/e\.?p\.?/g,""),/^o-o(-o)?$/i.test(t)||(t=t.replace(/[-\s]/g,"")),t}function ge(e){if(i!==G)return Q("It's not your turn."),!1;const t=(e||"").trim();if(!t)return!1;const n=function(e){const t=e.toLowerCase();if(/^[a-h][1-8][a-h][1-8][qrbn]?$/.test(t))return{from:t.slice(0,2),to:t.slice(2,4),promotion:t[4]};return null}(t);if(n){const e=c.move(n);return e?(Z(e.san),N({from:e.from,to:e.to}),x(null),k([]),h(e=>e+1),I(-1),te(),!0):(Q('Illegal move "'.concat(t,'".')),!1)}const r=me(t);if(!r)return Q("Enter a move like 'Bc4' or 'e2e4'."),!1;if(/^o-o-?o?$/i.test(r)){const e="ooo"===r?"O-O-O":"O-O",n=c.move(e);return n?(Z(n.san),N({from:n.from,to:n.to}),x(null),k([]),h(e=>e+1),I(-1),te(),!0):(Q('Illegal move "'.concat(t,'".')),!1)}const a=c.moves({verbose:!0}).map(e=>{const t=e.san;return{san:t,sanNorm:me(t),uci:"".concat(e.from).concat(e.to).concat(e.promotion?e.promotion:""),m:e}}),l=a.find(e=>e.san.toLowerCase()===t.toLowerCase());if(l){const e=c.move(l.san);return e?(Z(e.san),N({from:e.from,to:e.to}),x(null),k([]),h(e=>e+1),I(-1),te(),!0):(Q('Illegal move "'.concat(t,'".')),!1)}const o=a.filter(e=>e.sanNorm===r);if(1===o.length){const e=o[0],n=c.move(e.san);return n?(Z(n.san),N({from:n.from,to:n.to}),x(null),k([]),h(e=>e+1),I(-1),te(),!0):(Q('Illegal move "'.concat(t,'".')),!1)}if(o.length>1){const e=o.map(e=>e.san).slice(0,4).join("  \u2022  ");return Q("Ambiguous: ".concat(e)),!1}const s=a.filter(e=>e.san.replace(/[x+#?!]/gi,"").toLowerCase()===t.replace(/[x+#?!]/gi,"").toLowerCase());if(1===s.length){const e=c.move(s[0].san);return e?(Z(e.san),N({from:e.from,to:e.to}),x(null),k([]),h(e=>e+1),I(-1),te(),!0):(Q('Illegal move "'.concat(t,'".')),!1)}if(s.length>1){const e=s.map(e=>e.san).slice(0,4).join("  \u2022  ");return Q("Ambiguous: ".concat(e)),!1}return Q("Couldn't parse \"".concat(t,'". Try SAN (Bc4) or UCI (e2e4).')),!1}}const Ie={classicWood:{light:"#F0D9B5",dark:"#B58863",texture:"classicWood"},walnut:{light:"#D6BB90",dark:"#6F4628",texture:"wood"},glassyWood:{light:"#E2C9A6",dark:"#7A4B28",texture:"woodGlass"},ice:{light:"#EEF6FF",dark:"#255CA5",texture:"ice"},grass:{light:"#E6F4E6",dark:"#0C6139",texture:"grass"}},De=["a","b","c","d","e","f","g","h"],Fe={w:{k:"https://upload.wikimedia.org/wikipedia/commons/4/42/Chess_klt45.svg",q:"https://upload.wikimedia.org/wikipedia/commons/1/15/Chess_qlt45.svg",r:"https://upload.wikimedia.org/wikipedia/commons/7/72/Chess_rlt45.svg",b:"https://upload.wikimedia.org/wikipedia/commons/b/b1/Chess_blt45.svg",n:"https://upload.wikimedia.org/wikipedia/commons/7/70/Chess_nlt45.svg",p:"https://upload.wikimedia.org/wikipedia/commons/4/45/Chess_plt45.svg"},b:{k:"https://upload.wikimedia.org/wikipedia/commons/f/f0/Chess_kdt45.svg",q:"https://upload.wikimedia.org/wikipedia/commons/4/47/Chess_qdt45.svg",r:"https://upload.wikimedia.org/wikipedia/commons/f/ff/Chess_rdt45.svg",b:"https://upload.wikimedia.org/wikipedia/commons/9/98/Chess_bdt45.svg",n:"https://upload.wikimedia.org/wikipedia/commons/e/ef/Chess_ndt45.svg",p:"https://upload.wikimedia.org/wikipedia/commons/c/c7/Chess_pdt45.svg"}};const qe=function(){const e=new Map;for(let n=0;n<8;n++)e.set(String.fromCharCode(97+n)+"2",{color:"w",type:"p"});for(let n=0;n<8;n++)e.set(String.fromCharCode(97+n)+"7",{color:"b",type:"p"});const t=["r","n","b","q","k","b","n","r"];for(let n=0;n<8;n++)e.set(String.fromCharCode(97+n)+"1",{color:"w",type:t[n]}),e.set(String.fromCharCode(97+n)+"8",{color:"b",type:t[n]});return e}();function Be(e,t,n){const r=e?n.light:n.dark,a=function(e,t){switch(e){case"classicWood":return{backgroundImage:"\n          repeating-linear-gradient(90deg,\n            rgba(0,0,0,".concat(t?".04":".07",") 0 2px,\n            rgba(0,0,0,0) 2px 10px\n          ),\n          repeating-linear-gradient(0deg,\n            rgba(255,255,255,").concat(t?".12":".06",") 0 6px,\n            rgba(255,255,255,0) 6px 22px\n          )\n        "),backgroundSize:"36px 100%, 100% 36px",backgroundBlendMode:"multiply, soft-light"};case"wood":return{backgroundImage:"\n          repeating-linear-gradient(90deg,\n            rgba(0,0,0,".concat(t?".025":".05",") 0 2px,\n            rgba(0,0,0,0) 2px 9px\n          )\n        "),backgroundBlendMode:"multiply"};case"woodGlass":return{backgroundImage:"\n          repeating-linear-gradient(90deg,\n            rgba(0,0,0,".concat(t?".04":".075",") 0 2px,\n            rgba(0,0,0,0) 2px 9px\n          ),\n          linear-gradient(135deg, rgba(255,255,255,").concat(t?".25":".08",") 0%, rgba(255,255,255,0) 60%)\n        "),backgroundBlendMode:"multiply, soft-light"};case"ice":return{backgroundImage:"\n          linear-gradient(180deg, rgba(255,255,255,.5), rgba(255,255,255,0) 60%)\n        ",backgroundBlendMode:"soft-light"};case"grass":return{backgroundImage:"\n          radial-gradient(rgba(0,0,0,".concat(t?".02":".05",") 1px, transparent 1px),\n          radial-gradient(rgba(255,255,255,").concat(t?".25":".05",") 1px, transparent 1px)\n        "),backgroundPosition:"0 0, 2px 2px",backgroundSize:"6px 6px, 6px 6px",backgroundBlendMode:"multiply"};default:return{}}}(n.texture,e);return c(c({backgroundColor:r},a),{},{transition:"transform 120ms ease-out",willChange:"transform"})}function Ue(e){return{color:"rgba(26,18,10,.95)",fontVariantNumeric:"tabular-nums",fontWeight:900,letterSpacing:"0.02em",textShadow:"0 1px 0 rgba(255,255,255,.4), 0 2px 6px rgba(0,0,0,.12)",fontSize:Math.max(12,Math.floor(.2*e)),lineHeight:1}}function Ke(e){let{label:t,checked:n,onChange:r,disabled:a}=e;return(0,u.jsxs)("label",{className:"inline-flex items-center gap-3 select-none ".concat(a?"opacity-60":""),children:[(0,u.jsx)("input",{type:"checkbox",className:"sr-only peer",checked:n,onChange:e=>null===r||void 0===r?void 0:r(e.target.checked),disabled:a}),(0,u.jsx)("span",{className:"relative w-10 h-6 rounded-full bg-zinc-300 peer-checked:bg-amber-700 transition-colors",children:(0,u.jsx)("span",{className:"absolute top-0.5 left-0.5 w-5 h-5 rounded-full bg-white shadow transition-transform peer-checked:translate-x-4"})}),(0,u.jsx)("span",{className:"text-sm text-zinc-800 dark:text-zinc-100",children:t})]})}function We(e){let{containerRef:t,themeVars:n,flipped:a,showLabels:l,showPieces:i,running:o,overlayText:s,onClickSquare:d}=e;const[f,h]=(0,r.useState)(520),[p,m]=(0,r.useState)(!1);(0,r.useEffect)(()=>{if(!t.current)return;const e=t.current,n=()=>{const t=window.innerWidth<768;if(m(t),t){const e=Math.max(260,window.innerWidth);h(Math.floor(e))}else{const t=24,n=8,r=8,a=Math.max(260,e.clientWidth-t-n-r),l=160,i=110,o=Math.max(300,window.innerHeight-l-i);h(Math.floor(Math.min(a,o)))}document.documentElement.style.overflowX="hidden",document.body.style.overflowX="hidden"};n();const r=new ResizeObserver(n);return r.observe(e),window.addEventListener("resize",n),()=>{r.disconnect(),window.removeEventListener("resize",n)}},[t]);const g=(0,r.useMemo)(()=>{const e=Array.from({length:8},(e,t)=>t);return a?e.slice().reverse():e},[a]),b=(0,r.useMemo)(()=>{const e=Array.from({length:8},(e,t)=>t);return a?e.slice().reverse():e},[a]),v=(0,r.useMemo)(()=>a?[1,2,3,4,5,6,7,8]:[8,7,6,5,4,3,2,1],[a]),x=(0,r.useMemo)(()=>a?[...De].reverse():De,[a]),y=f/8;return(0,u.jsx)("div",{className:"w-full flex justify-center items-center",children:(0,u.jsxs)("div",{className:"grid gap-2 max-w-full",style:{gridTemplateColumns:p?"1fr":"auto 1fr",gridTemplateRows:p?"1fr":"1fr auto"},children:[!p&&(0,u.jsx)("div",{className:"flex flex-col justify-between pr-1 select-none text-zinc-900 dark:text-zinc-100",style:{gridColumn:1,gridRow:1},children:v.map((e,t)=>(0,u.jsx)("div",{className:"flex items-center justify-center font-bold",style:{height:f/8,width:24},"aria-hidden":!0,children:l?e:""},"rank-".concat(e,"-").concat(t)))}),(0,u.jsxs)("div",{className:"rounded-2xl overflow-hidden relative bg-white dark:bg-zinc-900",style:{width:f,height:f,gridColumn:p?"1":"2",gridRow:1},children:[s?(0,u.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none select-none z-[3]",children:(0,u.jsx)("div",{style:{fontSize:Math.max(32,Math.floor(.36*f)),lineHeight:1,color:"#3B2A1A",opacity:.6,fontWeight:800,letterSpacing:"0.01em",textTransform:"lowercase",textShadow:"0 2px 8px rgba(0,0,0,.15), 0 1px 0 rgba(255,255,255,.6)"},children:s})}):null,(0,u.jsx)("div",{className:"w-full h-full grid",style:{gridTemplateColumns:"repeat(".concat(8,", 1fr)"),gridTemplateRows:"repeat(".concat(8,", 1fr)")},role:"grid","aria-label":"Square Sniper board",children:g.map(e=>b.map(t=>{const r=((e,t)=>String.fromCharCode(97+t)+(8-e))(e,t),a=((e,t)=>(t+(7-e))%2===1)(e,t),o=i?qe.get(r):null,s=t===b[0],f=e===g[g.length-1],h=r[0],m=r[1];return(0,u.jsxs)("button",{className:"relative",style:c(c({},Be(a,0,n)),{},{cursor:"pointer",transform:"translateZ(0)"}),onMouseDown:e=>e.currentTarget.style.transform="scale(0.985)",onMouseUp:e=>e.currentTarget.style.transform="translateZ(0)",onMouseLeave:e=>e.currentTarget.style.transform="translateZ(0)",onClick:()=>null===d||void 0===d?void 0:d(r),children:[o&&(0,u.jsx)("img",{src:Fe[o.color][o.type],alt:"",draggable:!1,className:"absolute",style:{width:"calc(".concat(y,"px * .90)"),height:"auto",left:"50%",top:"50%",transform:"translate(-50%, -50%)",filter:"drop-shadow(0 3px 6px rgba(0,0,0,.25))",zIndex:2,pointerEvents:"none"}}),p&&l&&(0,u.jsxs)(u.Fragment,{children:[s&&(0,u.jsx)("span",{className:"absolute select-none",style:c(c({},Ue(y)),{},{top:Math.max(3,Math.floor(.06*y)),left:Math.max(5,Math.floor(.07*y)),zIndex:1}),"aria-hidden":!0,children:m}),f&&(0,u.jsx)("span",{className:"absolute select-none",style:c(c({},Ue(y)),{},{right:Math.max(5,Math.floor(.07*y)),bottom:Math.max(3,Math.floor(.06*y)),zIndex:1,textTransform:"lowercase"}),"aria-hidden":!0,children:h})]})]},r)}))})]}),!p&&(0,u.jsxs)("div",{className:"flex gap-0 select-none text-zinc-900 dark:text-zinc-100",style:{gridColumn:"1 / span 2",gridRow:2,width:f+24},children:[(0,u.jsx)("div",{style:{width:24},"aria-hidden":!0}),(0,u.jsx)("div",{className:"grid w-full",style:{gridTemplateColumns:"repeat(".concat(8,", 1fr)")},children:x.map(e=>(0,u.jsx)("div",{className:"flex items-center justify-center font-bold",style:{height:24},"aria-hidden":!0,children:l?e:""},"file-".concat(e)))})]})]})})}function He(){const[e,t]=(0,r.useState)("classicWood"),n=Ie[e]||Ie.classicWood,[a,l]=(0,r.useState)("w"),i="b"===a,[o,s]=(0,r.useState)(!0),[c,f]=(0,r.useState)(!1),[h,p]=(0,r.useState)(!1),[m,g]=(0,r.useState)(!1),[b,v]=(0,r.useState)(0),[x,y]=(0,r.useState)(0),[k,w]=(0,r.useState)(0),[S,z]=(x>0&&Math.round(b/x*100),(0,r.useState)(30)),[N,C]=(0,r.useState)(null),_=(0,r.useRef)(null),j=(0,r.useRef)(null);function E(){const e=window.AudioContext||window.webkitAudioContext;e&&(j.current||(j.current=new e),"suspended"===j.current.state&&j.current.resume())}function M(e,t,n,r){try{E();const a=j.current;if(!a)return;const l=a.createOscillator(),i=a.createGain();l.type=n,l.frequency.setValueAtTime(e,a.currentTime),l.connect(i),i.connect(a.destination);const o=a.currentTime,s=r,c=o+t;i.gain.setValueAtTime(s,o),i.gain.exponentialRampToValueAtTime(1e-4,c),l.start(o),l.stop(c+.01)}catch(a){}}(0,r.useEffect)(()=>{const e=()=>{try{E();const e=j.current;if(!e)return;const t=e.createBuffer(1,1,22050),n=e.createBufferSource();n.buffer=t,n.connect(e.destination),"running"!==e.state&&e.resume(),n.start(0)}catch(e){}},t={once:!0,passive:!0};return window.addEventListener("pointerdown",e,t),window.addEventListener("touchstart",e,t),window.addEventListener("keydown",e,{once:!0}),()=>{window.removeEventListener("pointerdown",e),window.removeEventListener("touchstart",e),window.removeEventListener("keydown",e)}},[]);const P="undefined"!==typeof navigator&&"vibrate"in navigator;(0,r.useEffect)(()=>{P&&p(!0)},[P]);const T=(0,r.useMemo)(()=>{const e=[];for(let t=0;t<8;t++)for(let n=0;n<8;n++)e.push(String.fromCharCode(97+n)+(8-t));return e},[]),L=(0,r.useCallback)(()=>{C(T[Math.floor(Math.random()*T.length)])},[T]),A=(0,r.useCallback)(()=>{m||(E(),v(0),y(0),w(0),z(30),g(!0),L(),B(!1))},[m,L]),R=(0,r.useCallback)(()=>{g(!1),C(null),_.current&&(clearInterval(_.current),_.current=null)},[]);function O(e){m&&N&&(y(e=>e+1),e===N?(M(750,.12,"sine",.1),M(980,.14,"sine",.08),function(){var e,t;h&&P&&(null===(e=(t=navigator).vibrate)||void 0===e||e.call(t,35))}(),v(e=>e+1),w(e=>e+1),L()):(M(200,.14,"triangle",.12),M(150,.16,"triangle",.1),function(){var e,t;h&&P&&(null===(e=(t=navigator).vibrate)||void 0===e||e.call(t,[20,40,20]))}(),w(0)))}(0,r.useEffect)(()=>{if(m)return _.current&&clearInterval(_.current),_.current=setInterval(()=>{z(e=>e<=1?(clearInterval(_.current),_.current=null,g(!1),C(null),0):e-1)},1e3),()=>{_.current&&(clearInterval(_.current),_.current=null)}},[m]);const I=(0,u.jsxs)("div",{className:"flex items-center justify-between gap-3 w-full",children:[(0,u.jsxs)("div",{className:"text-sm md:text-base font-semibold",children:[(0,u.jsx)("span",{className:"text-zinc-600 dark:text-zinc-400",children:"Score:"})," ",(0,u.jsx)("span",{className:"font-extrabold text-zinc-900 dark:text-zinc-100",children:b})]}),(0,u.jsx)("div",{className:"md:flex items-center gap-2",children:m?(0,u.jsx)("button",{onClick:R,className:"rounded-xl px-4 py-2 font-semibold text-white shadow-sm active:scale-[.99]",style:{backgroundColor:"#8B5A2B"},children:"Stop"}):(0,u.jsx)("button",{onClick:A,className:"rounded-xl px-4 py-2 font-semibold text-white shadow-sm active:scale-[.99]",style:{backgroundColor:"#7E8F64"},children:"Start"})}),(0,u.jsx)("button",{className:"md:hidden rounded-lg px-3 py-2 text-sm border border-zinc-300 dark:border-zinc-700 text-zinc-800 dark:text-zinc-100",onClick:()=>B(!0),children:"Controls"}),(0,u.jsxs)("div",{className:"text-sm md:text-base font-semibold",children:[(0,u.jsx)("span",{className:"text-zinc-600 dark:text-zinc-400",children:"Timer:"})," ",(0,u.jsx)("span",{className:"font-extrabold text-zinc-900 dark:text-zinc-100",children:S})]})]}),D=(0,u.jsx)("div",{className:"grid gap-4",children:(0,u.jsxs)("div",{className:"rounded-xl border border-zinc-200 dark:border-zinc-800 p-3 shadow-sm bg-white dark:bg-zinc-900",children:[(0,u.jsx)("div",{className:"text-xs font-bold uppercase tracking-wide text-zinc-500 dark:text-zinc-400 mb-2",children:"Board"}),(0,u.jsxs)("div",{className:"grid gap-3",children:[(0,u.jsxs)("label",{className:"grid gap-1",children:[(0,u.jsx)("span",{className:"text-sm text-zinc-800 dark:text-zinc-100",children:"Theme"}),(0,u.jsx)("select",{className:"rounded-lg border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 text-zinc-900 dark:text-zinc-100 px-2 py-1",value:e,onChange:e=>t(e.target.value),disabled:m,children:Object.keys(Ie).map(e=>(0,u.jsx)("option",{value:e,children:e},e))})]}),(0,u.jsxs)("div",{className:"inline-flex rounded-lg overflow-hidden border border-zinc-300 dark:border-zinc-700 w-fit",children:[(0,u.jsx)("button",{className:"px-3 py-2 text-sm ".concat("w"===a?"bg-sky-50 text-sky-700 dark:bg-sky-900/30 dark:text-sky-300":"bg-white dark:bg-zinc-900"),onClick:()=>l("w"),disabled:m,children:"White"}),(0,u.jsx)("button",{className:"px-3 py-2 text-sm border-l border-zinc-300 dark:border-zinc-700 ".concat("b"===a?"bg-sky-50 text-sky-700 dark:bg-sky-900/30 dark:text-sky-300":"bg-white dark:bg-zinc-900"),onClick:()=>l("b"),disabled:m,children:"Black"})]}),(0,u.jsx)(Ke,{label:"Show rank/file labels",checked:o,onChange:s}),(0,u.jsx)(Ke,{label:"Show starting pieces",checked:c,onChange:f}),"undefined"!==typeof navigator&&"vibrate"in navigator&&(0,u.jsx)(Ke,{label:"Haptic feedback",checked:h,onChange:p})]})]})}),F=(0,u.jsx)("div",{className:"hidden md:block overflow-auto max-h-[70vh] pr-1",children:D}),[q,B]=(0,r.useState)(!1),U=(0,r.useRef)(null);return(0,u.jsxs)(d,{headerContent:(0,u.jsx)("div",{className:"w-full flex items-center justify-between gap-3",children:I}),sidebar:F,footer:NaN,children:[(0,u.jsxs)("div",{ref:U,className:"w-full overflow-visible",children:[(0,u.jsx)("div",{className:"md:hidden",style:{width:"100vw",marginLeft:"calc(50% - 50vw)",marginRight:"calc(50% - 50vw)"},children:(0,u.jsx)(We,{containerRef:U,themeVars:n,flipped:i,showLabels:o,showPieces:c,running:m,overlayText:m?N||"\u2026":null,onClickSquare:O})}),(0,u.jsx)("div",{className:"hidden md:block",children:(0,u.jsx)(We,{containerRef:U,themeVars:n,flipped:i,showLabels:o,showPieces:c,running:m,overlayText:m?N||"\u2026":null,onClickSquare:O})})]}),q&&(0,u.jsxs)("div",{className:"fixed inset-0 z-50 md:hidden",children:[(0,u.jsx)("div",{className:"absolute inset-0 bg-black/40",onClick:()=>B(!1)}),(0,u.jsxs)("div",{className:"absolute left-0 right-0 bottom-0 rounded-t-2xl bg-white dark:bg-zinc-950 border-t border-zinc-200 dark:border-zinc-800 p-4 max-h-[70vh] overflow-auto",children:[(0,u.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,u.jsx)("h3",{className:"text-sm font-semibold text-zinc-900 dark:text-zinc-100",children:"Controls"}),(0,u.jsx)("button",{className:"px-3 py-1 rounded-lg border border-zinc-300 dark:border-zinc-700",onClick:()=>B(!1),children:"Close"})]}),D]})]})]})}const Ve={classicWood:{light:"#F0D9B5",dark:"#B58863",texture:"classicWood"},walnut:{light:"#D6BB90",dark:"#6F4628",texture:"wood"},glassyWood:{light:"#E2C9A6",dark:"#7A4B28",texture:"woodGlass"},ice:{light:"#EEF6FF",dark:"#255CA5",texture:"ice"},grass:{light:"#E6F4E6",dark:"#0C6139",texture:"grass"}},Qe=["a","b","c","d","e","f","g","h"],$e=["8","7","6","5","4","3","2","1"],Ge={w:{k:"https://upload.wikimedia.org/wikipedia/commons/4/42/Chess_klt45.svg",q:"https://upload.wikimedia.org/wikipedia/commons/1/15/Chess_qlt45.svg",r:"https://upload.wikimedia.org/wikipedia/commons/7/72/Chess_rlt45.svg",b:"https://upload.wikimedia.org/wikipedia/commons/b/b1/Chess_blt45.svg",n:"https://upload.wikimedia.org/wikipedia/commons/7/70/Chess_nlt45.svg",p:"https://upload.wikimedia.org/wikipedia/commons/4/45/Chess_plt45.svg"},b:{k:"https://upload.wikimedia.org/wikipedia/commons/f/f0/Chess_kdt45.svg",q:"https://upload.wikimedia.org/wikipedia/commons/4/47/Chess_qdt45.svg",r:"https://upload.wikimedia.org/wikipedia/commons/f/ff/Chess_rdt45.svg",b:"https://upload.wikimedia.org/wikipedia/commons/9/98/Chess_bdt45.svg",n:"https://upload.wikimedia.org/wikipedia/commons/e/ef/Chess_ndt45.svg",p:"https://upload.wikimedia.org/wikipedia/commons/c/c7/Chess_pdt45.svg"}};function Xe(e,t,n){const r=e?n.light:n.dark,a=function(e,t){switch(e){case"classicWood":return{backgroundImage:"\n          repeating-linear-gradient(90deg,\n            rgba(0,0,0,".concat(t?".04":".07",") 0 2px,\n            rgba(0,0,0,0) 2px 10px\n          ),\n          repeating-linear-gradient(0deg,\n            rgba(255,255,255,").concat(t?".12":".06",") 0 6px,\n            rgba(255,255,255,0) 6px 22px\n          )\n        "),backgroundSize:"36px 100%, 100% 36px",backgroundBlendMode:"multiply, soft-light"};case"wood":return{backgroundImage:"\n          repeating-linear-gradient(90deg,\n            rgba(0,0,0,".concat(t?".025":".05",") 0 2px,\n            rgba(0,0,0,0) 2px 9px\n          )\n        "),backgroundBlendMode:"multiply"};case"woodGlass":return{backgroundImage:"\n          repeating-linear-gradient(90deg,\n            rgba(0,0,0,".concat(t?".04":".075",") 0 2px,\n            rgba(0,0,0,0) 2px 9px\n          ),\n          linear-gradient(135deg, rgba(255,255,255,").concat(t?".25":".08",") 0%, rgba(255,255,255,0) 60%)\n        "),backgroundBlendMode:"multiply, soft-light"};case"ice":return{backgroundImage:"\n          linear-gradient(180deg, rgba(255,255,255,.5), rgba(255,255,255,0) 60%)\n        ",backgroundBlendMode:"soft-light"};case"grass":return{backgroundImage:"\n          radial-gradient(rgba(0,0,0,".concat(t?".02":".05",") 1px, transparent 1px),\n          radial-gradient(rgba(255,255,255,").concat(t?".25":".05",") 1px, transparent 1px)\n        "),backgroundPosition:"0 0, 2px 2px",backgroundSize:"6px 6px, 6px 6px",backgroundBlendMode:"multiply"};default:return{}}}(n.texture,e);return c(c({backgroundColor:r},a),{},{transition:"transform 120ms ease-out",willChange:"transform"})}function Ye(e){let{history:t,viewIndex:n,goToIndex:a,className:l=""}=e;return(0,u.jsxs)("div",{className:"rounded-xl border border-zinc-200 dark:border-zinc-800 p-3 shadow-sm bg-white dark:bg-zinc-900 ".concat(l),children:[(0,u.jsx)("div",{className:"text-xs font-bold uppercase tracking-wide text-zinc-500 dark:text-zinc-400 mb-2",children:"Move History"}),(0,u.jsxs)("div",{className:"grid grid-cols-[46px_1fr_1fr] gap-2 max-h-[60vh] overflow-auto rounded-lg",children:[(0,u.jsx)("div",{className:"text-xs font-bold text-zinc-500 sticky top-0 bg-white/80 dark:bg-zinc-900/80 backdrop-blur px-2 py-1",children:"#"}),(0,u.jsx)("div",{className:"text-xs font-bold text-zinc-500 sticky top-0 bg-white/80 dark:bg-zinc-900/80 backdrop-blur px-2 py-1",children:"White"}),(0,u.jsx)("div",{className:"text-xs font-bold text-zinc-500 sticky top-0 bg-white/80 dark:bg-zinc-900/80 backdrop-blur px-2 py-1",children:"Black"}),Array.from({length:Math.ceil(t.length/2)},(e,l)=>{const i=t[2*l],o=t[2*l+1],s=n===2*l,c=n===2*l+1;return(0,u.jsxs)(r.Fragment,{children:[(0,u.jsxs)("div",{className:"px-2 py-1 text-xs text-zinc-500",children:[l+1,"."]}),(0,u.jsx)("button",{className:"text-sm text-left px-2 py-1 rounded ".concat(s?"bg-sky-600 text-white":"hover:bg-zinc-100 dark:hover:bg-zinc-800"),onClick:()=>i&&a(2*l),children:i?i.san:""}),(0,u.jsx)("button",{className:"text-sm text-left px-2 py-1 rounded ".concat(c?"bg-sky-600 text-white":"hover:bg-zinc-100 dark:hover:bg-zinc-800"),onClick:()=>o&&a(2*l+1),children:o?o.san:""})]},l)})]})]})}function Ze(e){let{containerRef:t,themeVars:n,boardArray:a,flipped:l,lastFromToSet:i,mateSquare:o,markedSquares:s,legalSet:d,fromSq:f,onSquareDown:h,onSquareUp:p,onDragStart:m,onDropOnSquare:g,onRightClickSquare:b}=e;const[v,x]=(0,r.useState)(520),[y,k]=(0,r.useState)(!1);(0,r.useEffect)(()=>{if(!t.current)return;const e=t.current,n=()=>{const t=window.innerWidth<768;if(k(t),t){const e=Math.max(260,window.innerWidth);x(Math.floor(e))}else{const t=24,n=8,r=8,a=Math.max(260,e.clientWidth-t-n-r),l=160,i=130,o=Math.max(320,window.innerHeight-l-i);x(Math.floor(Math.min(a,o)))}document.documentElement.style.overflowX="hidden",document.body.style.overflowX="hidden"};n();const r=new ResizeObserver(n);return r.observe(e),window.addEventListener("resize",n),()=>{r.disconnect(),window.removeEventListener("resize",n)}},[t]);const w=(0,r.useMemo)(()=>{const e=Array.from({length:8},(e,t)=>t);return l?e.slice().reverse():e},[l]),S=(0,r.useMemo)(()=>{const e=Array.from({length:8},(e,t)=>t);return l?e.slice().reverse():e},[l]),z=(0,r.useMemo)(()=>l?[1,2,3,4,5,6,7,8]:[8,7,6,5,4,3,2,1],[l]),N=(0,r.useMemo)(()=>l?[...Qe].reverse():Qe,[l]),C=v/8;return(0,u.jsx)("div",{className:"w-full flex justify-center items-center",children:(0,u.jsxs)("div",{className:"grid gap-2 max-w-full",style:{gridTemplateColumns:y?"1fr":"auto 1fr",gridTemplateRows:"1fr auto"},children:[!y&&(0,u.jsx)("div",{className:"flex flex-col justify-between pr-1 select-none text-zinc-900 dark:text-zinc-100",style:{gridColumn:1,gridRow:1},children:z.map((e,t)=>(0,u.jsx)("div",{className:"flex items-center justify-center font-bold",style:{height:v/8,width:24},"aria-hidden":!0,children:e},"rank-".concat(e,"-").concat(t)))}),(0,u.jsx)("div",{className:"rounded-2xl overflow-hidden relative bg-white dark:bg-zinc-900 shadow-[inset_0_0_0_1px_rgba(255,255,255,.08)]",style:{width:v,height:v,gridColumn:y?"1":"2",gridRow:1},children:(0,u.jsx)("div",{className:"w-full h-full grid",style:{gridTemplateColumns:"repeat(".concat(8,", 1fr)"),gridTemplateRows:"repeat(".concat(8,", 1fr)")},role:"grid","aria-label":"Endgames board",children:w.map(e=>S.map(t=>{const r=((e,t)=>String.fromCharCode(97+t)+(8-e))(e,t),l=a[e][t],v=((e,t)=>(t+(7-e))%2===1)(e,t),x=l?Ge[l.color][l.type]:null,y=i.has(r),k=o&&o===r,w=s.has(r),S=d.has(r),z=f===r;return(0,u.jsxs)("button",{className:"relative touch-manipulation",style:c(c({},Xe(v,0,n)),{},{transform:"translateZ(0)",cursor:"pointer",boxShadow:y?"inset 0 0 0 3px rgba(59,130,246,.5)":"none"}),onPointerDown:()=>null===h||void 0===h?void 0:h(r),onPointerUp:()=>null===p||void 0===p?void 0:p(r),onDragOver:e=>{e.preventDefault(),e.dataTransfer.dropEffect="move"},onDrop:e=>null===g||void 0===g?void 0:g(e,r),onContextMenu:e=>null===b||void 0===b?void 0:b(e,r),children:[w&&(0,u.jsx)("div",{className:"absolute inset-1 rounded-md pointer-events-none",style:{boxSizing:"border-box",border:"6px solid rgba(59,130,246,0.85)",borderRadius:10,zIndex:3}}),S&&!l&&(0,u.jsx)("div",{className:"absolute rounded-full pointer-events-none",style:{width:"30%",height:"30%",left:"50%",top:"50%",transform:"translate(-50%, -50%)",background:"rgba(16,185,129,0.28)",boxShadow:"0 0 0 2px rgba(16,185,129,0.20)",zIndex:1}}),z&&(0,u.jsx)("div",{className:"absolute inset-0 pointer-events-none",style:{boxShadow:"inset 0 0 0 3px rgba(234,179,8,.65)",zIndex:1}}),k&&(0,u.jsx)("div",{className:"absolute inset-0 pointer-events-none",style:{boxShadow:"inset 0 0 0 4px rgba(244,63,94,.85)",zIndex:1}}),x&&(0,u.jsx)("img",{src:x,alt:"",draggable:!0,onDragStart:e=>null===m||void 0===m?void 0:m(e,r),onMouseDown:()=>null===m||void 0===m?void 0:m({dataTransfer:{setData(){}}},r),className:"absolute pointer-events-none",style:{width:"calc(".concat(C,"px * .88)"),height:"auto",left:"50%",top:"50%",transform:"translate(-50%, -50%)",filter:"drop-shadow(0 3px 6px rgba(0,0,0,.25))",zIndex:2}})]},r)}))})}),!y&&(0,u.jsxs)("div",{className:"flex gap-0 select-none text-zinc-900 dark:text-zinc-100",style:{gridColumn:"1 / span 2",gridRow:2,width:v+24},children:[(0,u.jsx)("div",{style:{width:24},"aria-hidden":!0}),(0,u.jsx)("div",{className:"grid w-full",style:{gridTemplateColumns:"repeat(".concat(8,", 1fr)")},children:N.map(e=>(0,u.jsx)("div",{className:"flex items-center justify-center font-bold",style:{height:24},"aria-hidden":!0,children:e},"file-".concat(e)))})]})]})})}const Je={"K + Q vs K":"KQK","K + R vs K":"KRK","K + B + B vs K":"KBBK","K + B + N vs K":"KBNK","K + N + N + P vs K":"KNNPK","K + P vs K":"KPK","K + (a/h)P vs K":"KAhPK"},et={KQK:"Queen Checkmate",KRK:"Rook Checkmate",KBBK:"Bishop Pair Checkmate",KBNK:"Bishop Knight Checkmate",KNNPK:"2 Knights and a Pawn Checkmate",KPK:"Pawn Promotion",KAhPK:"a/h Pawn Promotion"};function tt(e){return Math.floor(Math.random()*e)}function nt(){return function(e,t){return Qe[e]+$e[t]}(tt(8),tt(8))}function rt(e,t){const n=Math.abs(e.charCodeAt(0)-t.charCodeAt(0)),r=Math.abs(e.charCodeAt(1)-t.charCodeAt(1));return 1===Math.max(n,r)}function at(e){for(;;){const t=nt();if(!e.has(t))return t}}function lt(){const[e,t]=(0,r.useState)("classicWood"),n=Ve[e]||Ve.classicWood,[a,l]=(0,r.useState)("K + Q vs K"),i=Je[a]||"KQK",[o,s]=(0,r.useState)("w"),[c,f]=(0,r.useState)("engine"),[h,p]=(0,r.useState)("top"),[m]=(0,r.useState)(()=>new _e),[g,b]=(0,r.useState)(0),[v,x]=(0,r.useState)([]),[y,k]=(0,r.useState)(-1);function w(e){x(t=>[...t,{san:e}])}const[S,z]=(0,r.useState)(null),N=(0,r.useMemo)(()=>new Set(S?[S.from,S.to]:[]),[S]),[C,_]=(0,r.useState)(null),[j,E]=(0,r.useState)(()=>new Set);const M=(0,r.useMemo)(()=>m.board(),[g]),P="b"===o,[T,L]=(0,r.useState)(null),A=(0,r.useMemo)(()=>{try{const e=m.moves({verbose:!0}).filter(e=>e.color===m.turn()),t=new Map;for(const n of e)t.has(n.to)||t.set(n.to,new Set),t.get(n.to).add(n.from);return t}catch(e){return new Map}},[g]);function R(e){try{return m.moves({square:e,verbose:!0}).map(e=>{const t=A.get(e.to)||new Set;return{to:e.to,unique:1===t.size}})}catch(t){return[]}}const[O,I]=(0,r.useState)([]),D=(0,r.useMemo)(()=>new Set(O.map(e=>e.to)),[O]),[F,q]=(0,r.useState)(!1),[B,U]=(0,r.useState)(null),[K,W]=(0,r.useState)(null),H=(0,r.useRef)(null),V=(0,r.useRef)(null);function Q(){const e=window.AudioContext||window.webkitAudioContext;V.current||(V.current=new e),"suspended"===V.current.state&&V.current.resume()}function $(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"sine",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.06,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;const l=V.current;if(!l)return;const i=l.createOscillator(),o=l.createGain();i.type=n,i.frequency.value=e,i.connect(o),o.connect(l.destination);const s=l.currentTime+a,c=s+t;o.gain.setValueAtTime(r,s),o.gain.exponentialRampToValueAtTime(1e-4,c),i.start(s),i.stop(c+.02)}const G=[6,8,10,12,14],[X,Y]=(0,r.useState)(()=>G[Math.floor(Math.random()*G.length)]),[Z,J]=(0,r.useState)(()=>2+Math.floor(2*Math.random()));const ee=(0,r.useRef)(null),[te,ne]=(0,r.useState)(!1),[re,ae]=(0,r.useState)(0),[le,ie]=(0,r.useState)(30),[oe,se]=(0,r.useState)(0),[ce,ue]=(0,r.useState)(!1),de=(0,r.useRef)(null);function fe(){const e=Math.max(0,parseInt(re||0,10)),t=Math.max(0,parseInt(le||0,10));return 60*Math.min(59,e)+Math.min(59,t)}function he(){de.current&&(clearInterval(de.current),de.current=null),ue(!1)}function pe(){he(),se(fe())}(0,r.useEffect)(()=>()=>{de.current&&clearInterval(de.current)},[]);const me=te&&0===oe&&!ce;function ge(){const e=o,{fen:t}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"w",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500;for(let a=0;a<n;a++){const l=new Set;let i=nt();l.add(i);let o=at(l);for(;rt(o,i);)o=at(l);l.add(o);const s=[],c=(e,t)=>{s.push({type:e,sq:t}),l.add(t)};function u(e,t){let n=at(l);if("pawnSafe"===t)for(;"1"===n[1]||"8"===n[1];)n=at(l);c(e,n)}switch(e){case"KQK":u("q");break;case"KRK":u("r");break;case"KBBK":u("b"),u("b");break;case"KBNK":u("b"),u("n");break;case"KNNPK":u("n"),u("n"),u("p","pawnSafe");break;case"KPK":u("p","pawnSafe");break;case"KAhPK":{const b=(Math.random()<.5?"a":"h")+String(2+tt(5));l.has(b)?u("p","pawnSafe"):c("p",b);break}default:u("q"),e="KQK"}const d=Array.from({length:8},()=>Array(8).fill(null)),f=(e,t,n)=>{const r=e.charCodeAt(0)-97,a=8-parseInt(e[1],10);d[a][r]={color:t,type:n}};function h(e){let t="",n=0;for(const r of e){if(!r){n++;continue}n&&(t+=n,n=0);const e={k:"k",q:"q",r:"r",b:"b",n:"n",p:"p"};t+="w"===r.color?e[r.type].toUpperCase():e[r.type]}return n&&(t+=n),t}f(o,"w","k"),s.forEach(e=>f(e.sq,"w",e.type)),f(i,"b","k");const p=d.map(h).join("/"),m="".concat(p," ").concat(t," - - 0 1"),g="".concat(p," b - - 0 1");try{const v=new _e;v.load(m);const x=new _e;if(x.load(g),v.isCheck())continue;if(x.isCheck())continue;if(v.isCheckmate()||v.isStalemate())continue;if(0===v.moves().length)continue;return{fen:m,code:e}}catch(r){}}return{fen:"8/8/8/3k4/8/8/3QK3 w - - 0 1",code:"KQK"}}(i,e);m.load(t),ee.current=t,x([]),z(null),_(null),E(new Set),L(null),I([]),b(e=>e+1),k(-1),Y(G[Math.floor(Math.random()*G.length)]),J(2+Math.floor(2*Math.random())),te&&pe(),setTimeout(()=>ve(),0)}async function be(){try{var e;H.current&&H.current.abort();const t=new AbortController;H.current=t,q(!0);const n="top"===h?18:X,r=m.fen(),a="https://stockfish.online/api/s/v2.php?fen=".concat(encodeURIComponent(r),"&depth=").concat(n),l=await fetch(a,{method:"GET",headers:{Accept:"application/json"},mode:"cors",signal:t.signal});if(!l.ok)throw new Error("HTTP ".concat(l.status));const i=await l.json();if(!i||!0!==i.success)throw new Error(i&&i.data?String(i.data):"Engine error");U("number"===typeof i.evaluation?i.evaluation:"number"===typeof i.eval?i.eval:null),W(null!==(e=i.mate)&&void 0!==e?e:null);const o=function(e){if(!e||"string"!==typeof e)return null;const t=e.trim().split(/\s+/),n=t.indexOf("bestmove");return-1===n||n===t.length-1?null:t[n+1]}(i.bestmove);if(!o||!/^[a-h][1-8][a-h][1-8][qrbn]?$/i.test(o))throw new Error("No valid bestmove");const s=o.slice(0,2),c=o.slice(2,4),u=o[4],d=m.move({from:s,to:c,promotion:u});if(!d)throw new Error("Engine suggested illegal move: ".concat(o));w(d.san),z({from:d.from,to:d.to}),"random"===h&&J(e=>e>1?e-1:(Y(G[Math.floor(Math.random()*G.length)]),2+Math.floor(2*Math.random()))),xe()}catch(t){"AbortError"!==(null===t||void 0===t?void 0:t.name)&&console.error(t)}finally{q(!1)}}function ve(){if("engine"!==c||me)return;const e="w"===o?"b":"w";m.turn()!==e||m.isGameOver()||setTimeout(()=>be(),0)}function xe(){if(b(e=>e+1),k(-1),m.isCheckmate()){const e=function(e){const t=m.board();for(let n=0;n<8;n++)for(let r=0;r<8;r++){const a=t[n][r];if(a&&"k"===a.type&&a.color===e)return String.fromCharCode(97+r)+(8-n)}return null}(m.turn());_(e),Q(),$(310,.18,"sine",.09),$(620,.2,"sine",.08,.04),$(930,.24,"sine",.07,.08),he()}else m.isStalemate()?(_(null),he()):m.isCheck()?(_(null),Q(),$(820,.1,"triangle",.06),$(980,.1,"triangle",.05,.04)):_(null)}function ye(e,t){try{if("engine"===c&&m.turn()!==o)return!1;const n=m.get(e),r=n&&"p"===n.type&&("w"===n.color&&"8"===t[1]||"b"===n.color&&"1"===t[1]),a=m.move({from:e,to:t,promotion:r?"q":void 0});return!!a&&(w(a.san),z({from:a.from,to:a.to}),L(null),I([]),xe(),ve(),!0)}catch(n){return!1}}function ke(e,t){var n,r,a,l;m.isGameOver()||me?null===e||void 0===e||null===(a=e.preventDefault)||void 0===a||a.call(e):"engine"!==c||m.turn()===o?(null===e||void 0===e||null===(n=e.dataTransfer)||void 0===n||null===(r=n.setData)||void 0===r||r.call(n,"text/from",t),null!==e&&void 0!==e&&e.dataTransfer&&(e.dataTransfer.effectAllowed="move")):null===e||void 0===e||null===(l=e.preventDefault)||void 0===l||l.call(e)}function we(e,t){var n;if(e.preventDefault(),me)return;const r=null===(n=e.dataTransfer)||void 0===n?void 0:n.getData("text/from");r&&ye(r,t)}function Se(e,t){e.preventDefault(),function(e){E(t=>{const n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n})}(t)}(0,r.useEffect)(()=>{ge()},[]),(0,r.useEffect)(()=>{ge()},[a,o]),(0,r.useEffect)(()=>{ve()},[g,c,o,h]);const ze=(0,r.useCallback)(e=>{const t=m.get(e);if(!t)return L(null),void I([]);"engine"===c&&t.color!==o||t.color===m.turn()&&(L(e),I(R(e)))},[m,o,c,R]);function Ne(e){T&&D.has(e)&&ye(T,e)||ze(e)}function Ce(e){T&&D.has(e)&&ye(T,e)}const[je,Ee]=(0,r.useState)(!1);(0,r.useEffect)(()=>{var e;let t=null,n=!1;function r(e){if(1!==e.touches.length)return;const r=e.touches[0].clientX;(window.innerWidth||document.documentElement.clientWidth)-r<=24&&(t=r,n=!0)}function a(e){if(!n||null==t)return;e.touches[0].clientX-t<-30&&(Ee(!0),n=!1,t=null)}function l(){n=!1,t=null}const i=window.matchMedia("(max-width: 767px)");function o(){i.matches?(window.addEventListener("touchstart",r,{passive:!0}),window.addEventListener("touchmove",a,{passive:!0}),window.addEventListener("touchend",l,{passive:!0})):(window.removeEventListener("touchstart",r),window.removeEventListener("touchmove",a),window.removeEventListener("touchend",l))}return o(),null===(e=i.addEventListener)||void 0===e||e.call(i,"change",o),()=>{var e;window.removeEventListener("touchstart",r),window.removeEventListener("touchmove",a),window.removeEventListener("touchend",l),null===(e=i.removeEventListener)||void 0===e||e.call(i,"change",o)}},[]);const Me=Math.floor(v.length/2);const[Pe,Te]=(0,r.useState)(!1),Le=(0,u.jsxs)("div",{className:"w-full grid grid-cols-[1fr_auto_1fr] items-center gap-2",children:[(0,u.jsx)("div",{className:"flex items-center gap-2",children:(0,u.jsx)("button",{className:"md:hidden ml-2 rounded-lg px-3 py-2 text-sm border border-zinc-300 dark:border-zinc-700 text-zinc-800 dark:text-zinc-100 bg-white/80 dark:bg-zinc-900/80",onClick:()=>Te(!0),children:"Controls"})}),(0,u.jsx)("div",{className:"text-center font-black text-base md:text-lg text-zinc-900 dark:text-zinc-100",children:(Ae=i,et[Ae]||"Endgame")}),(0,u.jsxs)("div",{className:"flex items-center gap-2 justify-end",children:[(0,u.jsx)("button",{className:"rounded-xl w-9 h-9 flex items-center justify-center border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 shadow-sm active:scale-[.98]",onClick:ge,title:"Randomize position",children:(0,u.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",stroke:"currentColor",fill:"none",children:[(0,u.jsx)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"3",strokeWidth:"2"}),(0,u.jsx)("circle",{cx:"8",cy:"8",r:"1.4",fill:"currentColor"}),(0,u.jsx)("circle",{cx:"12",cy:"12",r:"1.4",fill:"currentColor"}),(0,u.jsx)("circle",{cx:"16",cy:"16",r:"1.4",fill:"currentColor"})]})}),(0,u.jsx)("button",{className:"hidden md:inline-flex rounded-lg px-3 py-2 text-sm border border-zinc-300 dark:border-zinc-700 text-zinc-800 dark:text-zinc-100 bg-white dark:bg-zinc-900",onClick:()=>Ee(!0),children:"Moves"})]})]});var Ae;const Re=(0,u.jsxs)("div",{className:"rounded-xl border border-zinc-200 dark:border-zinc-800 p-3 shadow-sm bg-white dark:bg-zinc-900",children:[(0,u.jsx)("div",{className:"text-xs font-bold uppercase tracking-wide text-zinc-500 dark:text-zinc-400 mb-2",children:"Setup"}),(0,u.jsxs)("div",{className:"grid gap-3",children:[(0,u.jsxs)("label",{className:"grid gap-1",children:[(0,u.jsx)("span",{className:"text-sm text-zinc-800 dark:text-zinc-100",children:"Endgame"}),(0,u.jsx)("select",{className:"rounded-lg border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 px-2 py-1",value:a,onChange:e=>l(e.target.value),children:Object.keys(Je).map(e=>(0,u.jsx)("option",{value:e,children:e},e))})]}),(0,u.jsxs)("div",{className:"grid gap-1",children:[(0,u.jsx)("span",{className:"text-sm text-zinc-800 dark:text-zinc-100",children:"Side"}),(0,u.jsxs)("div",{className:"inline-flex rounded-lg overflow-hidden border border-zinc-300 dark:border-zinc-700 w-max",children:[(0,u.jsx)("button",{className:"px-3 py-1.5 text-sm ".concat("w"===o?"bg-sky-50 text-sky-700 dark:bg-sky-900/30 dark:text-sky-300":"bg-white dark:bg-zinc-900"),onClick:()=>s("w"),children:"White"}),(0,u.jsx)("button",{className:"px-3 py-1.5 text-sm border-l border-zinc-300 dark:border-zinc-700 ".concat("b"===o?"bg-sky-50 text-sky-700 dark:bg-sky-900/30 dark:text-sky-300":"bg-white dark:bg-zinc-900"),onClick:()=>s("b"),children:"Black"})]})]}),(0,u.jsxs)("div",{className:"grid gap-1",children:[(0,u.jsx)("span",{className:"text-sm text-zinc-800 dark:text-zinc-100",children:"Opponent"}),(0,u.jsxs)("div",{className:"inline-flex rounded-lg overflow-hidden border border-zinc-300 dark:border-zinc-700 w-max",children:[(0,u.jsx)("button",{className:"px-3 py-1.5 text-sm ".concat("engine"===c?"bg-emerald-50 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-300":"bg-white dark:bg-zinc-900"),onClick:()=>f("engine"),children:"Stockfish"}),(0,u.jsx)("button",{className:"px-3 py-1.5 text-sm border-l border-zinc-300 dark:border-zinc-700 ".concat("human"===c?"bg-emerald-50 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-300":"bg-white dark:bg-zinc-900"),onClick:()=>f("human"),children:"Human"})]})]}),"engine"===c&&(0,u.jsxs)("div",{className:"grid gap-1",children:[(0,u.jsx)("span",{className:"text-sm text-zinc-800 dark:text-zinc-100",children:"Engine Style"}),(0,u.jsxs)("div",{className:"inline-flex rounded-lg overflow-hidden border border-zinc-300 dark:border-zinc-700 w-max",children:[(0,u.jsx)("button",{className:"px-3 py-1.5 text-sm ".concat("top"===h?"bg-indigo-50 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-300":"bg-white dark:bg-zinc-900"),onClick:()=>p("top"),children:"Top"}),(0,u.jsx)("button",{className:"px-3 py-1.5 text-sm border-l border-zinc-300 dark:border-zinc-700 ".concat("random"===h?"bg-indigo-50 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-300":"bg-white dark:bg-zinc-900"),onClick:()=>p("random"),children:"Randomized"})]})]}),(0,u.jsxs)("label",{className:"grid gap-1",children:[(0,u.jsx)("span",{className:"text-sm text-zinc-800 dark:text-zinc-100",children:"Theme"}),(0,u.jsx)("select",{className:"rounded-lg border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 px-2 py-1",value:e,onChange:e=>t(e.target.value),children:Object.keys(Ve).map(e=>(0,u.jsx)("option",{value:e,children:e},e))})]}),(0,u.jsxs)("div",{className:"grid gap-1",children:[(0,u.jsx)("span",{className:"text-sm text-zinc-800 dark:text-zinc-100",children:"Time Limit"}),(0,u.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,u.jsx)("button",{className:"px-3 py-1.5 rounded-lg border text-sm ".concat(te?"border-emerald-500 bg-emerald-50 dark:bg-emerald-900/30 dark:text-emerald-300":"border-zinc-300 dark:border-zinc-700"),onClick:()=>ne(e=>!e),children:te?"On":"Off"}),(0,u.jsxs)("div",{className:"flex items-center gap-1",children:[(0,u.jsx)("input",{type:"number",min:0,max:59,className:"w-14 px-2 py-1 rounded-lg border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-900",value:re,onChange:e=>ae(e.target.value),disabled:!te,"aria-label":"Minutes"}),(0,u.jsx)("span",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:":"}),(0,u.jsx)("input",{type:"number",min:0,max:59,className:"w-14 px-2 py-1 rounded-lg border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-900",value:le,onChange:e=>ie(e.target.value),disabled:!te,"aria-label":"Seconds"})]}),(0,u.jsxs)("div",{className:"inline-flex rounded-lg overflow-hidden border border-zinc-300 dark:border-zinc-700 w-max",children:[(0,u.jsx)("button",{className:"px-3 py-1.5 text-sm bg-white dark:bg-zinc-900",onClick:function(){if(!te)return;de.current&&clearInterval(de.current);const e=fe();se(e),ue(!0),de.current=setInterval(()=>{se(e=>e<=1?(clearInterval(de.current),de.current=null,ue(!1),0):e-1)},1e3)},disabled:!te,children:"Start"}),(0,u.jsx)("button",{className:"px-3 py-1.5 text-sm border-l bg-white dark:bg-zinc-900",onClick:he,disabled:!te,children:"Stop"}),(0,u.jsx)("button",{className:"px-3 py-1.5 text-sm border-l bg-white dark:bg-zinc-900",onClick:pe,disabled:!te,children:"Reset"})]})]})]})]})]}),Oe=(0,u.jsx)("div",{className:"hidden md:block overflow-auto max-h-[70vh] pr-1",children:Re}),Ie=(0,r.useRef)(null),De=(0,u.jsxs)("div",{className:"w-full flex flex-wrap gap-3 items-center justify-center",children:[(0,u.jsxs)("div",{className:"px-3 py-2 rounded-lg border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 text-sm",children:["Moves: ",(0,u.jsxs)("span",{className:"font-bold",children:[Me,"/50 ",m.isCheckmate()?"#":""," ",m.isStalemate()?"\xbd-\xbd":""]})]}),(0,u.jsxs)("div",{className:"px-3 py-2 rounded-lg border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 text-sm",children:["Timer: ",(0,u.jsx)("span",{className:"font-bold",children:te?function(e){const t=Math.floor(e/60),n=e%60;return"".concat(String(t).padStart(2,"0"),":").concat(String(n).padStart(2,"0"))}(oe):"\u2014"})]})]});return(0,u.jsxs)(d,{headerContent:Le,sidebar:Oe,footer:De,children:[(0,u.jsxs)("div",{ref:Ie,className:"w-full overflow-hidden",children:[(0,u.jsx)("div",{className:"md:hidden",style:{width:"100vw",marginLeft:"calc(50% - 50vw)",marginRight:"calc(50% - 50vw)"},children:(0,u.jsx)(Ze,{containerRef:Ie,themeVars:n,boardArray:M,flipped:P,lastFromToSet:N,mateSquare:C,markedSquares:j,legalSet:D,fromSq:T,onSquareDown:Ne,onSquareUp:Ce,onDragStart:ke,onDropOnSquare:we,onRightClickSquare:Se})}),(0,u.jsx)("div",{className:"hidden md:block",children:(0,u.jsx)(Ze,{containerRef:Ie,themeVars:n,boardArray:M,flipped:P,lastFromToSet:N,mateSquare:C,markedSquares:j,legalSet:D,fromSq:T,onSquareDown:Ne,onSquareUp:Ce,onDragStart:ke,onDropOnSquare:we,onRightClickSquare:Se})})]}),Pe&&(0,u.jsxs)("div",{className:"fixed inset-0 z-50 md:hidden",children:[(0,u.jsx)("div",{className:"absolute inset-0 bg-black/40",onClick:()=>Te(!1)}),(0,u.jsxs)("div",{className:"absolute left-0 right-0 bottom-0 rounded-t-2xl bg-white dark:bg-zinc-950 border-t border-zinc-200 dark:border-zinc-800 p-4 max-h-[70vh] overflow-auto",children:[(0,u.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,u.jsx)("h3",{className:"text-sm font-semibold text-zinc-900 dark:text-zinc-100",children:"Controls"}),(0,u.jsx)("button",{className:"px-3 py-1 rounded-lg border border-zinc-300 dark:border-zinc-700",onClick:()=>Te(!1),children:"Close"})]}),Re]})]}),je&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"fixed inset-0 z-50 bg-black/40",onClick:()=>Ee(!1)}),(0,u.jsxs)("div",{className:"fixed z-50 bg-white dark:bg-zinc-950 border-l border-zinc-200 dark:border-zinc-800 right-0 top-0 bottom-0 w-[92vw] sm:w-[460px] p-4 shadow-xl animate-[slideIn_.18s_ease-out]",role:"dialog","aria-label":"Move list",children:[(0,u.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,u.jsx)("h3",{className:"text-sm font-semibold text-zinc-900 dark:text-zinc-100",children:"Move List"}),(0,u.jsx)("button",{className:"px-3 py-1 rounded-lg border border-zinc-300 dark:border-zinc-700",onClick:()=>Ee(!1),children:"Close"})]}),(0,u.jsx)(Ye,{history:v,viewIndex:y,goToIndex:function(e){if(e<-1||e>=v.length)return;const t=new _e;t.load(ee.current||m.fen());for(let n=0;n<=e;n++)t.move(v[n].san);m.load(t.fen()),b(e=>e+1),k(e)},className:"border-0 p-0 shadow-none"})]}),(0,u.jsx)("style",{children:"@keyframes slideIn { from { transform: translateX(8%); opacity: .6; } to { transform: translateX(0); opacity: 1; } }"})]})]});function Ne(e){me||T&&D.has(e)&&ye(T,e)||ze(e)}function Ce(e){me||T&&D.has(e)&&ye(T,e)}}const it=["a","b","c","d","e","f","g","h"],ot=["1","2","3","4","5","6","7","8"];function st(){return it[Math.floor(8*Math.random())]+ot[Math.floor(8*Math.random())]}function ct(e){const t=e.charCodeAt(0)-97;return{r:parseInt(e[1],10)-1,c:t}}function ut(e,t){return it[t]+ot[e]}function dt(e){const{r:t,c:n}=ct(e);return(t+n)%2===0?"dark":"light"}function ft(e,t){const n=ct(e),r=ct(t);if(n.r===r.r||n.c===r.c)return[e,t];return[e,ut(n.r,r.c),t]}function ht(e,t){if(dt(e)!==dt(t))return null;const n=ct(e),r=ct(t),a=r.r-n.r,l=r.c-n.c;if(Math.abs(a)===Math.abs(l))return[e,t];const i=n.r+n.c,o=n.r-n.c,s=r.r+r.c,c=r.r-r.c,u=(i+c)/2,d=u-c,f=(o+s)/2,h=s-f,p=[];for(const[m,g]of[[u,d],[f,h]])Number.isInteger(m)&&m>=0&&m<8&&g>=0&&g<8&&p.push(ut(m,g));return p.length?[e,p[0],t]:[e,t]}function pt(e,t){if(e===t)return[e];const n=ct(e),r=ct(t),a=[[2,1],[2,-1],[-2,1],[-2,-1],[1,2],[1,-2],[-1,2],[-1,-2]],l=Array.from({length:8},()=>Array(8).fill(!1)),i=Array.from({length:8},()=>Array(8).fill(null)),o=[[n.r,n.c]];for(l[n.r][n.c]=!0;o.length;){const[e,t]=o.shift();if(e===r.r&&t===r.c)break;for(const[n,r]of a){const a=e+n,s=t+r;a>=0&&a<8&&s>=0&&s<8&&!l[a][s]&&(l[a][s]=!0,i[a][s]=[e,t],o.push([a,s]))}}const s=[];let c=[r.r,r.c];if(!i[c[0]][c[1]]&&(c[0]!==n.r||c[1]!==n.c))return[e,t];for(;c;){s.push(ut(c[0],c[1]));const e=i[c[0]][c[1]];if(!e)break;c=e}return s.reverse(),s[0]!==e&&s.unshift(e),s}function mt(e,t){const{rate:n=1,voice:r=null}=t||{},a=window.speechSynthesis;let l=!1;return{cancel:()=>{l=!0;try{null===a||void 0===a||a.cancel()}catch(e){}},done:new Promise(t=>{if(!a||!window.SpeechSynthesisUtterance)return void t();let i=0;const o=()=>{if(l||i>=e.length)return void t();const s=new SpeechSynthesisUtterance(e[i]);s.rate=n,r&&(s.voice=r),s.onend=()=>{i++,o()};try{a.speak(s)}catch(c){i++,o()}};o()})}}function gt(e){let{sq:t,enabled:n}=e;if(!n)return null;const r=dt(t),a="light"===r?"bg-amber-50":"bg-zinc-900",l="light"===r?"text-amber-800":"text-amber-50";return(0,u.jsx)("span",{className:"ml-2 text-xs px-2 py-0.5 rounded ".concat(a," ").concat(l," border border-zinc-200 dark:border-zinc-800"),children:r})}function bt(e){let{checked:t,onChange:n,label:r}=e;return(0,u.jsxs)("button",{type:"button",onClick:()=>n(!t),className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-full border text-sm transition\n        ".concat(t?"bg-emerald-600 text-white border-emerald-600":"bg-white dark:bg-zinc-900 text-zinc-800 dark:text-zinc-100 border-zinc-300 dark:border-zinc-700"),"aria-pressed":t,children:[(0,u.jsx)("span",{className:"inline-block w-3 h-3 rounded-full ".concat(t?"bg-white":"bg-zinc-400")}),r]})}function vt(){const[e,t]=(0,r.useState)(!0),[n,a]=(0,r.useState)(!0),[l,i]=(0,r.useState)(!0),[o,s]=(0,r.useState)("n"),[c,f]=(0,r.useState)(!1),[h,p]=(0,r.useState)(0),m=(0,r.useRef)(null),g=(0,r.useRef)(0),[b,v]=(0,r.useState)(.9),[x,y]=(0,r.useState)("en-IN"),[k,w]=(0,r.useState)(()=>st()),[S,z]=(0,r.useState)(()=>st()),[N,C]=(0,r.useState)(()=>["n","b","r"][Math.floor(3*Math.random())]),_="random"===o?N:o,j=(0,r.useRef)(k);(0,r.useEffect)(()=>{j.current=k},[k]);const E=(0,r.useRef)(S);(0,r.useEffect)(()=>{E.current=S},[S]);const M=(0,r.useRef)(o);(0,r.useEffect)(()=>{M.current=o},[o]);const P=(0,r.useRef)(N);(0,r.useEffect)(()=>{P.current=N},[N]);const T=(0,r.useRef)(n);(0,r.useEffect)(()=>{T.current=n},[n]);const L=(0,r.useRef)(b);(0,r.useEffect)(()=>{L.current=b},[b]);const A=(0,r.useRef)(null);function R(){const e=window.speechSynthesis;if(!e)return;const t=e.getVoices()||[],n=t.find(e=>(e.lang||"").toLowerCase().startsWith(x.toLowerCase()))||t.find(e=>e.name.toLowerCase().includes(x.toLowerCase()))||null;A.current=n||null}(0,r.useEffect)(()=>{R(),window.speechSynthesis&&"undefined"!==typeof window.speechSynthesis.onvoiceschanged&&(window.speechSynthesis.onvoiceschanged=R)},[]),(0,r.useEffect)(()=>{R()},[x]);const O=(0,r.useRef)(null);function I(){try{var e,t;null===(e=O.current)||void 0===e||null===(t=e.cancel)||void 0===t||t.call(e)}catch(n){}O.current=null}function D(){return["n","b","r"][Math.floor(3*Math.random())]}(0,r.useMemo)(()=>{switch(_){case"n":return pt(k,S);case"r":return ft(k,S);case"b":return ht(k,S);default:return[]}},[k,S,_]);function F(e){return{n:"knight",b:"bishop",r:"rook"}[e]||"piece"}function q(e){return"".concat(e," coloured")}async function B(e,t,n){if(!T.current)return;I();const r=function(e,t,n){const r=dt(e),a=dt(t);return e=e.toUpperCase(),t=t.toUpperCase(),l?["Move the ".concat(F(n)," from the ").concat(e," ").concat(q(r)," square to the ").concat(t," ").concat(q(a)," square.")]:["Move the ".concat(F(n)," from ").concat(e," to ").concat(t,".")]}(e,t,n),a=Math.max(.03,Math.min(2,L.current)),i=A.current;O.current=mt(r,{rate:a,voice:i}),await O.current.done}async function U(e,t,n){if(!T.current)return;I();const r=function(e,t,n){if("b"===n&&null===ht(e,t))return["Opposite coloured squares. No direct bishop path. Moving on."];let r;if(r="n"===n?pt(e,t):"r"===n?ft(e,t):ht(e,t),!r||r.length<1)return[];const a=l?"".concat(r[0]," ").concat(q(dt(r[0]))):r[0],i=["".concat(F(n)," on ").concat(a)];for(let o=1;o<r.length;o++){const e=r[o],t=l?"".concat(e," ").concat(q(dt(e))):e;i.push("goes to ".concat(t))}return[i.join(" ")+"."]}(e,t,n),a=Math.max(.03,Math.min(2,L.current)),i=A.current;O.current=mt(r,{rate:a,voice:i}),await O.current.done}const K=(0,r.useRef)(()=>{});function W(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30;if(c)return void H();f(!0);const t=Date.now()+1e3*e;p(t);const n=g.current+1;g.current=n,clearTimeout(m.current),m.current=setTimeout(()=>K.current(n),0)}function H(){f(!1),g.current+=1,clearTimeout(m.current),m.current=null,I()}K.current=e=>{!c||Date.now()>=h||e!==g.current?H():(async()=>{const t="random"===M.current?D():M.current;if("random"===M.current&&(C(t),P.current=t),await U(j.current,E.current,t),!c||e!==g.current)return;let n=st(),r=st();r===n&&(r=st()),w(n),j.current=n,z(r),E.current=r;const a=Math.max(150,450/Math.max(.03,Math.min(2,L.current)));clearTimeout(m.current),m.current=setTimeout(()=>K.current(e),a)})()},(0,r.useEffect)(()=>()=>{H()},[]);const[V,Q]=(0,r.useState)(!1),$=(0,u.jsxs)("div",{className:"flex items-center justify-between gap-3 w-full",children:[(0,u.jsx)("button",{className:"inline-flex items-center justify-center w-10 h-10 rounded-full border border-zinc-300 dark:border-zinc-700 text-zinc-800 dark:text-zinc-100",onClick:()=>{a(e=>{const t=!e;return t||I(),t})},"aria-label":n?"Turn dictation off":"Turn dictation on",title:n?"Dictation: on":"Dictation: off",children:n?(0,u.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",className:"fill-current",children:(0,u.jsx)("path",{d:"M3 10v4h4l5 5V5L7 10H3zm13.59 1.41L15.17 10l-1.41 1.41L15.17 13l1.41-1.59zM19 3l-1.41 1.41C19.78 6.61 21 9.17 21 12s-1.22 5.39-3.41 7.59L19 21c2.76-2.76 4-6.34 4-9s-1.24-6.24-4-9z"})}):(0,u.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",className:"fill-current",children:(0,u.jsx)("path",{d:"M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zM3.27 2L2 3.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.88.69-1.9 1.2-3.03 1.41v2.06c1.93-.34 3.68-1.25 5.04-2.61l2.73 2.73L22 20.73 3.27 2zM14 3.23v2.06c3.39.49 6 3.39 6 6 0 .22-.02.43-.05.63l1.62 1.62c.27-.72.43-1.5.43-2.25 0-4.17-3.05-7.6-7-8.06z"})})}),(0,u.jsx)("button",{onClick:()=>c?H():W(30),className:"px-4 py-2 rounded-lg font-semibold border border-zinc-300 dark:border-zinc-700 transition\n          ".concat(c?"bg-rose-600 text-white hover:bg-rose-700":"bg-white dark:bg-zinc-900 text-zinc-900 dark:text-zinc-100 hover:bg-zinc-50 dark:hover:bg-zinc-800"),title:c?"Stop drill":"Start timed drill (30s)",children:c?"Stop Drill":"Start 30s Drill"}),(0,u.jsx)("div",{className:"md:hidden",children:(0,u.jsx)("button",{className:"rounded-lg px-3 py-2 text-sm border border-zinc-300 dark:border-zinc-700 text-zinc-800 dark:text-zinc-100",onClick:()=>Q(!0),title:"Controls",children:"Controls"})})]}),G=(0,u.jsxs)("div",{className:"grid gap-4",children:[(0,u.jsxs)("div",{className:"rounded-xl border border-zinc-200 dark:border-zinc-800 p-3 shadow-sm bg-white dark:bg-zinc-900",children:[(0,u.jsx)("div",{className:"text-xs font-bold uppercase tracking-wide text-zinc-500 dark:text-zinc-400 mb-2",children:"Dictation"}),(0,u.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,u.jsx)(bt,{checked:n,onChange:e=>{a(e),e||I()},label:"Dictation"}),(0,u.jsx)(bt,{checked:l,onChange:i,label:"Say colors"})]}),(0,u.jsxs)("div",{className:"grid gap-1 mt-3",children:[(0,u.jsx)("span",{className:"text-sm text-zinc-800 dark:text-zinc-100",children:"Speed"}),(0,u.jsx)("input",{type:"range",min:"0.03",max:"2.0",step:"0.02",value:b,onChange:e=>v(parseFloat(e.target.value)),className:"w-full"}),(0,u.jsxs)("div",{className:"text-xs text-zinc-500",children:[b.toFixed(2),"\xd7"]})]}),(0,u.jsxs)("div",{className:"grid gap-1 mt-3",children:[(0,u.jsx)("span",{className:"text-sm text-zinc-800 dark:text-zinc-100",children:"Accent"}),(0,u.jsxs)("select",{className:"rounded-lg border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 text-zinc-900 dark:text-zinc-100 px-2 py-1 w-full",value:x,onChange:e=>y(e.target.value),children:[(0,u.jsx)("option",{value:"en-US",children:"American (en-US)"}),(0,u.jsx)("option",{value:"en-GB",children:"British (en-GB)"}),(0,u.jsx)("option",{value:"en-IN",children:"Indian (en-IN)"})]}),(0,u.jsx)("span",{className:"text-xs text-zinc-500",children:"Uses your browser\u2019s voices if available."})]}),(0,u.jsx)("div",{className:"flex flex-wrap items-center gap-3 mt-3",children:(0,u.jsx)("button",{className:"px-3 py-1.5 rounded-lg border text-sm ".concat(c?"border-rose-500 bg-rose-50 dark:bg-rose-900/30 dark:text-rose-300":"border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-900"),onClick:()=>c?H():W(30),title:c?"Stop 30s drill":"Start 30s drill",children:c?"Stop 30s Drill":"Start 30s Drill"})})]}),(0,u.jsxs)("div",{className:"rounded-xl border border-zinc-200 dark:border-zinc-800 p-3 shadow-sm bg-white dark:bg-zinc-900",children:[(0,u.jsx)("div",{className:"text-xs font-bold uppercase tracking-wide text-zinc-500 dark:text-zinc-400 mb-2",children:"Piece"}),(0,u.jsx)("div",{className:"inline-flex rounded-lg overflow-hidden border border-zinc-300 dark:border-zinc-700 w-max",children:["random","n","b","r"].map(e=>(0,u.jsx)("button",{className:"px-3 py-1.5 text-sm ".concat("random"===e&&"random"===o||e===o?"bg-sky-50 text-sky-700 dark:bg-sky-900/30 dark:text-sky-300":"bg-white dark:bg-zinc-900"),onClick:()=>s(e),children:"random"===e?"Random":e.toUpperCase()},e))})]})]}),X=(0,u.jsx)("div",{className:"hidden md:block overflow-auto max-h-[70vh] pr-1",children:G});function Y(t){const n=dt(t);return{background:e?"light"===n?"#f7edd4":"#101014":"#ffffff",color:"light"===n?"#111":"#fff"}}const Z=(0,u.jsx)("div",{className:"w-full flex items-center justify-center py-6",children:(0,u.jsxs)("div",{className:"grid gap-6 sm:grid-cols-2 w-full max-w-3xl",children:[(0,u.jsxs)("div",{className:"rounded-2xl border border-zinc-300 dark:border-zinc-700 p-8 text-center shadow-sm",style:Y(k),children:[(0,u.jsx)("div",{className:"text-xs uppercase tracking-wider opacity-70 mb-2",children:"From"}),(0,u.jsx)("div",{className:"text-5xl font-black",children:k}),(0,u.jsx)(gt,{sq:k,enabled:e})]}),(0,u.jsxs)("div",{className:"rounded-2xl border border-zinc-300 dark:border-zinc-700 p-8 text-center shadow-sm",style:Y(S),children:[(0,u.jsx)("div",{className:"text-xs uppercase tracking-wider opacity-70 mb-2",children:"To"}),(0,u.jsx)("div",{className:"text-5xl font-black",children:S}),(0,u.jsx)(gt,{sq:S,enabled:e})]})]})}),J=(0,u.jsxs)("div",{className:"w-full flex flex-wrap gap-3 items-center justify-center",children:[(0,u.jsx)("button",{className:"px-4 py-3 rounded-xl border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 text-base font-semibold",onClick:async function(){let e=st(),t=st();t===e&&(t=st());const n="random"===M.current?D():M.current;w(e),j.current=e,z(t),E.current=t,"random"===M.current&&(C(n),P.current=n),await B(e,t,n)},disabled:c,title:c?"Stop 30s drill to pick specific squares":"Pick new random squares (will speak prompt if dictation is ON)",children:"New Squares"}),(0,u.jsx)("button",{className:"px-4 py-3 rounded-xl border border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-900 text-base font-semibold",onClick:()=>U(k,S,_),title:"Speak the path for current squares",disabled:!n||c,children:"Speak Path"})]});return(0,u.jsxs)(d,{headerContent:$,sidebar:X,footer:J,children:[Z,V&&(0,u.jsxs)("div",{className:"fixed inset-0 z-50 md:hidden",children:[(0,u.jsx)("div",{className:"absolute inset-0 bg-black/40",onClick:()=>Q(!1)}),(0,u.jsxs)("div",{className:"absolute left-0 right-0 bottom-0 rounded-t-2xl bg-white dark:bg-zinc-950 border-t border-zinc-200 dark:border-zinc-800 p-4 max-h-[70vh] overflow-auto",children:[(0,u.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,u.jsx)("h3",{className:"text-sm font-semibold text-zinc-900 dark:text-zinc-100",children:"Controls"}),(0,u.jsx)("button",{className:"px-3 py-1 rounded-lg border border-zinc-300 dark:border-zinc-700",onClick:()=>Q(!1),children:"Close"})]}),G]})]})]})}function xt(){const e=(0,r.useMemo)(()=>[{id:"comp-a",title:"Eagle Eye",element:(0,u.jsx)(N,{}),description:"Picture all the squares",bg:"from-emerald-500 via-teal-500 to-cyan-500"},{id:"comp-b",title:"Mind Mirage",element:(0,u.jsx)(R,{}),description:"Develop Spatial Memory for Pieces",bg:"from-blue-500 via-indigo-500 to-violet-500"},{id:"comp-e",title:"Square Sniper",element:(0,u.jsx)(He,{}),description:"Locate the Coordinates notation",bg:"from-emerald-500 via-teal-500 to-cyan-500"},{id:"comp-f",title:"Vector Hunt",element:(0,u.jsx)(vt,{}),description:"Remove the blur, Connect the coordinates using pieces",bg:"from-blue-500 via-indigo-500 to-violet-500"},{id:"comp-c",title:"Ghost Moves",element:(0,u.jsx)(Oe,{}),description:"Aakhri Padav: Literally Play Blindfold Chess",bg:"from-fuchsia-500 via-pink-500 to-rose-500"},{id:"comp-d",title:"Roaring Rhegar",element:(0,u.jsx)(lt,{}),description:"Truly master the theoretical Endgames",bg:"from-amber-400 via-orange-500 to-red-500"}],[]),[t,n]=(0,r.useState)(null),a=e.findIndex(e=>e.id===t),l=a>=0?e[a]:null,[i,o]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{},[]),(0,r.useEffect)(()=>{const e=document.body.style.overflow;return document.body.style.overflow=i?"hidden":e||"",()=>{document.body.style.overflow=e||""}},[i]),(0,r.useEffect)(()=>{let e=null,t=null;const n=n=>{if(!n.touches||!n.touches[0])return;const r=n.touches[0];e=r.clientX,t=r.clientY,!i&&e>24&&(e=null)},r=n=>{if(null==e||!n.touches||!n.touches[0])return;const r=n.touches[0],a=r.clientX-e;Math.abs(r.clientY-t)>50||(!i&&a>50?(o(!0),e=null):i&&a<-50&&(o(!1),e=null))},a=()=>{e=null,t=null};return window.addEventListener("touchstart",n,{passive:!0}),window.addEventListener("touchmove",r,{passive:!0}),window.addEventListener("touchend",a,{passive:!0}),()=>{window.removeEventListener("touchstart",n),window.removeEventListener("touchmove",r),window.removeEventListener("touchend",a)}},[i]),l?(0,u.jsxs)("div",{className:"relative min-h-[100dvh] w-full bg-white dark:bg-zinc-950 text-zinc-900 dark:text-zinc-100 ",children:[(0,u.jsxs)("div",{className:"fixed inset-0 z-50 ".concat(i?"pointer-events-auto":"pointer-events-none"),"aria-hidden":!i,children:[(0,u.jsx)("div",{className:"absolute inset-0 bg-black/40 transition-opacity ".concat(i?"opacity-100":"opacity-0"),onClick:()=>o(!1)}),(0,u.jsxs)("div",{className:"absolute left-0 top-0 h-full w-72 md:w-80 bg-white dark:bg-zinc-950 border-r border-zinc-200 dark:border-zinc-800 shadow-xl transform transition-transform duration-200 ".concat(i?"translate-x-0":"-translate-x-full"),role:"dialog","aria-modal":"true","aria-label":"Modules Drawer",tabIndex:-1,children:[(0,u.jsxs)("div",{className:"sticky top-0 z-10 flex items-center justify-between px-4 py-4 md:py-5 border-b border-zinc-200 dark:border-zinc-800",children:[(0,u.jsx)("h2",{className:"text-lg font-semibold",children:"Games"}),(0,u.jsx)("button",{className:"rounded-lg px-3 py-1 text-sm border border-zinc-300 dark:border-zinc-700 hover:bg-zinc-100 dark:hover:bg-zinc-900",onClick:()=>o(!1),"aria-label":"Close sidebar",children:"Close"})]}),(0,u.jsx)("nav",{className:"p-3 space-y-1",children:e.map((e,r)=>(0,u.jsxs)("button",{onClick:()=>{n(e.id),o(!1)},className:["w-full text-left px-3 py-2 rounded-lg",t===e.id?"bg-zinc-900 text-white dark:bg-zinc-100 dark:text-zinc-900":"hover:bg-zinc-100 dark:hover:bg-zinc-900/40"].join(" "),children:[(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)("span",{className:"inline-block h-2 w-2 rounded-full bg-zinc-400"}),(0,u.jsx)("span",{className:"font-medium",children:e.title})]}),(0,u.jsx)("div",{className:"text-xs text-zinc-500",children:e.description})]},e.id))})]})]}),(0,u.jsx)("div",{className:"sticky top-0 z-20 border-b border-zinc-200 dark:border-zinc-800 bg-white/80 dark:bg-zinc-950/80 backdrop-blur supports-[backdrop-filter]:bg-white/60 dark:supports-[backdrop-filter]:bg-zinc-950/60",children:(0,u.jsxs)("div",{className:"flex items-center justify-between px-4 md:px-6 py-3 gap-2",children:[(0,u.jsxs)("div",{className:"flex items-center gap-2",children:[(0,u.jsx)("button",{onClick:()=>n(null),className:"rounded-lg border border-zinc-300 dark:border-zinc-700 px-3 py-1 text-sm font-medium hover:bg-zinc-100 dark:hover:bg-zinc-900","aria-label":"Return to Home",children:"\u27f5 Home"}),(0,u.jsxs)("div",{className:"hidden md:flex items-center gap-2",children:[(0,u.jsx)("span",{className:"text-zinc-500",children:"/"}),(0,u.jsx)("span",{className:"font-semibold",children:null===l||void 0===l?void 0:l.title})]})]}),(0,u.jsx)("div",{className:"flex items-center gap-2",children:(0,u.jsx)("button",{className:"rounded-lg px-3 py-1 text-sm border border-zinc-300 dark:border-zinc-700 hover:bg-zinc-100 dark:hover:bg-zinc-900",onClick:()=>o(!0),"aria-label":"Open modules",children:"View Games"})})]})}),(0,u.jsx)("div",{className:"flex flex-col min-h-0",children:(0,u.jsx)("div",{className:"flex-1 overflow-auto px-0 md:px-6 pt-0 md:pt-6 pb-0",children:null===l||void 0===l?void 0:l.element})})]}):(0,u.jsxs)("div",{className:"min-h-screen w-full bg-zinc-50 dark:bg-zinc-900 text-zinc-900 dark:text-zinc-100",children:[(0,u.jsxs)("header",{className:"max-w-6xl mx-auto px-4 py-8",children:[(0,u.jsx)("h1",{className:"text-3xl md:text-4xl font-bold tracking-tight",children:"Astral Squares"}),(0,u.jsx)("p",{className:"text-zinc-600 dark:text-zinc-400 mt-2",children:"Apun ko chess gawd ban ne ka hai. 1st Jan 2026 tak Blindfold chess matches khelne ke hain."})]}),(0,u.jsx)("main",{className:"max-w-6xl mx-auto px-4 pb-12",children:(0,u.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-5 md:gap-6",children:e.map((e,t)=>(0,u.jsxs)("button",{onClick:()=>n(e.id),className:["group relative overflow-hidden rounded-2xl shadow-lg","bg-gradient-to-br text-white",e.bg,"transition-transform duration-200 hover:-translate-y-1 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-black/50 focus-visible:ring-offset-white dark:focus-visible:ring-white/50 dark:focus-visible:ring-offset-zinc-900"].join(" "),"aria-label":"Open ".concat(e.title),children:[(0,u.jsx)("div",{className:"pointer-events-none absolute -top-10 -right-10 h-32 w-32 rounded-full bg-white/20 blur-2xl"}),(0,u.jsxs)("div",{className:"relative aspect-square w-full p-6",children:[(0,u.jsx)("div",{className:"absolute inset-0 flex items-center justify-center text-center px-4",children:(0,u.jsx)("h3",{className:"text-2xl md:text-3xl font-bold tracking-tight leading-tight drop-shadow-sm",children:e.title})}),(0,u.jsx)("p",{className:"absolute inset-x-4 bottom-4 text-xs md:text-sm italic font-semibold text-white/70 leading-snug",children:e.description})]})]},e.id))})})]})}const yt=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then(t=>{let{getCLS:n,getFID:r,getFCP:a,getLCP:l,getTTFB:i}=t;n(e),r(e),a(e),l(e),i(e)})};a.createRoot(document.getElementById("root")).render((0,u.jsx)(r.StrictMode,{children:(0,u.jsx)(xt,{})})),yt()})();
//# sourceMappingURL=main.1c6fe340.js.map